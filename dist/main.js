/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={933:(t,e,r)=>{"use strict";r.r(e),r.d(e,{isAnyArray:()=>s});const n=Object.prototype.toString;function s(t){const e=n.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},192:(t,e,r)=>{var n=r(580).Symbol;t.exports=n},129:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}},389:(t,e,r)=>{var n=r(192),s=r(468),o=r(240),i=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?s(t):o(t)}},713:(t,e,r)=>{var n=r(192),s=r(129),o=r(224),i=r(469),a=n?n.prototype:void 0,u=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return s(e,t)+"";if(i(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},877:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},468:(t,e,r)=>{var n=r(192),s=Object.prototype,o=s.hasOwnProperty,i=s.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var s=i.call(t);return n&&(e?t[a]=r:delete t[a]),s}},240:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},580:(t,e,r)=>{var n=r(877),s="object"==typeof self&&self&&self.Object===Object&&self,o=n||s||Function("return this")();t.exports=o},224:t=>{var e=Array.isArray;t.exports=e},13:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},469:(t,e,r)=>{var n=r(389),s=r(13);t.exports=function(t){return"symbol"==typeof t||s(t)&&"[object Symbol]"==n(t)}},137:(t,e,r)=>{var n=r(713);t.exports=function(t){return null==t?"":n(t)}},779:(t,e,r)=>{var n=r(137),s=0;t.exports=function(t){var e=++s;return n(t)+e}},862:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>s});var n=r(933);function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!(0,n.isAnyArray)(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,s=void 0===r?0:r,o=e.toIndex,i=void 0===o?t.length:o;if(s<0||s>=t.length||!Number.isInteger(s))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=s||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[s],u=s+1;u<i;u++)t[u]<a&&(a=t[u]);return a}(t),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,s=void 0===r?0:r,o=e.toIndex,i=void 0===o?t.length:o;if(s<0||s>=t.length||!Number.isInteger(s))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=s||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[s],u=s+1;u<i;u++)t[u]>a&&(a=t[u]);return a}(t);if(s===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=r.min,a=void 0===i?r.autoMinMax?s:0:i,u=r.max,l=void 0===u?r.autoMinMax?o:1:u;if(a>=l)throw new RangeError("min option must be smaller than max option");for(var c=(l-a)/(o-s),h=0;h<t.length;h++)e[h]=(t[h]-s)*c+a;return e}},823:(t,e,r)=>{"use strict";function n(t,e){let r=0;for(let n=0;n<t.length;n++)r+=(t[n]-e[n])*(t[n]-e[n]);return r}r.r(e),r.d(e,{kmeans:()=>E,kmeansGenerator:()=>x});const s={distanceFunction:n};function o(t,e,r=s){const n=r.distanceFunction||s.distanceFunction,o=r.similarityFunction||s.similarityFunction;let i=-1;if("function"==typeof o){let r=Number.MIN_VALUE;for(let n=0;n<t.length;n++){const s=o(e,t[n]);s>r&&(r=s,i=n)}}else{if("function"!=typeof n)throw new Error("A similarity or distance function it's required");{let r=Number.MAX_VALUE;for(let s=0;s<t.length;s++){const o=n(e,t[s]);o<r&&(r=o,i=s)}}}return i}function i(t,e,r,n){for(let s=0;s<t.length;s++)r[s]=o(e,t[s],{distanceFunction:n});return r}class a{constructor(t,e,r,n,s){this.clusters=t,this.centroids=e,this.converged=r,this.iterations=n,this.distance=s}nearest(t){const e=new Array(t.length);return i(t,this.centroids,e,this.distance)}computeInformation(t){let e=this.centroids.map((t=>({centroid:t,error:0,size:0})));for(let r=0;r<t.length;r++)e[this.clusters[r]].error+=this.distance(t[r],this.centroids[this.clusters[r]]),e[this.clusters[r]].size++;for(let t=0;t<this.centroids.length;t++){let r=e[t].error;e[t].size&&-1!==r?r/=e[t].size:e[t].error=-1}return e}}function u(t,e){if(e<=0||e>t.length||!Number.isInteger(e))throw new Error("K should be a positive integer smaller than the number of points")}var l=r(868);l.y3,l.jy,l.oN,l.Hc,l.cg,l.hj,l.LU,l.Tb;const c=l.uq,h=(l.Zm,l.Dq,l.__,l.q0,l.lh,l.pI,l.zC,l.zg,l.g6,l.OL,l.ks,l.QR,l.jp,l.mk,l.W2,l.l,l.KY,l.dv,l.BR,l.Wu,l.uq,l.uq,l.a4,l.DI,l.Jo,l.Zi,l.kH,l.LV,1/16777216);function f(t,e){const r=65535&(t>>>=0);return((t-r)*(e>>>=0)>>>0)+r*e>>>0}class d{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*h}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let t=1;t<8;t++)this.state[3&t]^=t+f(1812433253,this.state[t-1&3]^this.state[t-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let t=0;t<8;t++)this.nextState()}periodCertification(){0===this.state[0]&&0===this.state[1]&&0===this.state[2]&&0===this.state[3]&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<15,t^=t>>>18,t^=this.state[3]<<11,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}function p(t,e,r){const n=e();if(r){let t=0;for(;n>r[t];)t++;return t}return Math.floor(n*t)}class m{constructor(t=Math.random){if("number"==typeof t){const e=new d(t);this.randomGenerator=e.random}else this.randomGenerator=t}choice(t,e){return function(t,e={},r=Math.random){const{size:n=1,replace:s=!1,probabilities:o}=e;let i,a;if(i="number"==typeof t?function(t){const e=[];for(let r=0;r<t;r++)e.push(r);return e}(t):t.slice(),o){if(!s)throw new Error("choice with probabilities and no replacement is not implemented");if(o.length!==i.length)throw new Error("the length of probabilities option should be equal to the number of choices");a=[o[0]];for(let t=1;t<o.length;t++)a[t]=a[t-1]+o[t];if(Math.abs(1-a[a.length-1])>1e-8)throw new Error(`probabilities should sum to 1, but instead sums to ${a[a.length-1]}`)}if(!1===s&&n>i.length)throw new Error("size option is too large");const u=[];for(let t=0;t<n;t++){const t=p(i.length,r,a);u.push(i[t]),s||i.splice(t,1)}return u}(t,e,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,e){return void 0===e&&(e=t,t=0),t+Math.floor(this.randomGenerator()*(e-t))}randomSample(t){const e=[];for(let r=0;r<t;r++)e.push(this.random());return e}}function g(t,e){const r=new c(t.rows,e.rows);for(let s=0;s<t.rows;s++)for(let o=0;o<e.rows;o++)r.set(s,o,n(t.getRow(s),e.getRow(o)));return r}function w(t){let e=[];for(let r=0;r<t;r++)e.push(r);return e}function y(t){let e=[t[0]];for(let r=1;r<t.length;r++)e[r]=e[r-1]+t[r];return e}const b={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:n};function v(t,e,r,n,s,o){let u=function(t,e,r,n){const s=e[0].length;let o=new Array(n),i=new Array(n);for(let t=0;t<n;t++){o[t]=new Array(s),i[t]=0;for(let e=0;e<s;e++)o[t][e]=0}for(let t=0;t<e.length;t++){i[r[t]]++;for(let n=0;n<s;n++)o[r[t]][n]+=e[t][n]}for(let e=0;e<n;e++)for(let r=0;r<s;r++)i[e]?o[e][r]/=i[e]:o[e][r]=t[e][r];return o}(t,e,r=i(e,t,r,s.distanceFunction),n),l=function(t,e,r,n){for(let s=0;s<t.length;s++)if(r(t[s],e[s])>n)return!1;return!0}(u,t,s.distanceFunction,s.tolerance);return new a(r,u,l,o,s.distanceFunction)}function*x(t,e,r){const n=_(r);u(t,e);let s,o=S(t,e,n),i=new Array(t.length),a=!1,l=0;for(;!a&&l<n.maxIterations;)s=v(o,t,i,e,n,++l),yield s,a=s.converged,o=s.centroids}function E(t,e,r){const n=_(r);u(t,e);let s=S(t,e,n);0===n.maxIterations&&(n.maxIterations=Number.MAX_VALUE);let o,i=new Array(t.length),a=!1,l=0;for(;!a&&l<n.maxIterations;)o=v(s,t,i,e,n,++l),a=o.converged,s=o.centroids;if(!o)throw new Error("unreachable: no kmeans step executed");return o}function S(t,e,r){let s;if(Array.isArray(r.initialization)){if(r.initialization.length!==e)throw new Error("The initial centers should have the same length as K");s=r.initialization}else switch(r.initialization){case"kmeans++":s=function(t,e,r={}){const s=new c(t),o=s.rows,i=new m(r.seed),a=[],u=r.localTrials||2+Math.floor(Math.log(e)),l=i.randInt(o);a.push(s.getRow(l));let h=new c(1,s.rows);for(let t=0;t<s.rows;t++)h.set(0,t,n(s.getRow(t),a[0]));let f=[y(h.getRow(0))];const d=1/f[0][o-1];let p=c.mul(h,d);for(let t=1;t<e;t++){const e=i.choice(o,{replace:!0,size:u,probabilities:p.getRow(0)}),r=g(s.selection(e,w(s.columns)),s);let n=1/0,l=1/0,d=h;for(let t=0;t<u;t++){const s=c.min(h,[r.getRow(t)]),o=s.sum();o<l&&(n=e[t],l=o,d=s)}a[t]=s.getRow(n),h=d,f=[y(h.getRow(0))],p=c.mul(h,1/f[0][o-1])}return a}(t,e,r);break;case"random":s=function(t,e,r){return new m(r).choice(t,{size:e})}(t,e,r.seed);break;case"mostDistant":s=function(t,e,r,n){const s=new m(n);let o=new Array(e);if(o[0]=Math.floor(s.random()*t.length),e>1){let n={dist:-1,index:-1};for(let e=0;e<t.length;++e)r[o[0]][e]>n.dist&&(n.dist=r[o[0]][e],n.index=e);if(o[1]=n.index,e>2)for(let n=2;n<e;++n){let e={dist:-1,index:-1};for(let s=0;s<t.length;++s){let t={dist:Number.MAX_VALUE,index:-1};for(let e=0;e<n;++e)r[e][s]<t.dist&&!o.includes(s)&&(t={dist:r[e][s],index:s});t.dist!==Number.MAX_VALUE&&t.dist>e.dist&&(e={...t})}o[n]=e.index}}return o.map((e=>t[e]))}(t,e,function(t,e){let r=new Array(t.length);for(let n=0;n<t.length;++n)for(let s=n;s<t.length;++s){r[n]||(r[n]=new Array(t.length)),r[s]||(r[s]=new Array(t.length));const o=e(t[n],t[s]);r[n][s]=o,r[s][n]=o}return r}(t,r.distanceFunction),r.seed);break;default:!function(t){throw new Error(`Unknown initialization method: "${String(t)}"`)}(r.initialization)}return s}function _(t){return{...b,...t}}},868:(t,e,r)=>{"use strict";var n=r(933),s=r(862);const o=" ".repeat(2),i=" ".repeat(4);function a(t,e={}){const{maxRows:r=15,maxColumns:n=10,maxNumSize:s=8,padMinus:a="auto"}=e;return`${t.constructor.name} {\n${o}[\n${i}${function(t,e,r,n,s){const{rows:o,columns:a}=t,l=Math.min(o,e),c=Math.min(a,r),h=[];if("auto"===s){s=!1;t:for(let e=0;e<l;e++)for(let r=0;r<c;r++)if(t.get(e,r)<0){s=!0;break t}}for(let e=0;e<l;e++){let r=[];for(let o=0;o<c;o++)r.push(u(t.get(e,o),n,s));h.push(`${r.join(" ")}`)}return c!==a&&(h[h.length-1]+=` ... ${a-r} more columns`),l!==o&&h.push(`... ${o-e} more rows`),h.join(`\n${i}`)}(t,r,n,s,a)}\n${o}]\n${o}rows: ${t.rows}\n${o}columns: ${t.columns}\n}`}function u(t,e,r){return(t>=0&&r?` ${l(t,e-1)}`:l(t,e)).padEnd(e)}function l(t,e){let r=t.toString();if(r.length<=e)return r;let n=t.toFixed(e);if(n.length>e&&(n=t.toFixed(Math.max(0,e-(n.length-e)))),n.length<=e&&!n.startsWith("0.000")&&!n.startsWith("-0.000"))return n;let s=t.toExponential(e);return s.length>e&&(s=t.toExponential(Math.max(0,e-(s.length-e)))),s.slice(0)}function c(t,e,r){let n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function h(t,e,r){let n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function f(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function d(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function p(t,e){if(!n.isAnyArray(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function m(t,e){if(!n.isAnyArray(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function g(t,e,r,n,s){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(y("startRow",e),y("endRow",r),y("startColumn",n),y("endColumn",s),e>r||n>s||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||s<0||s>=t.columns)throw new RangeError("Submatrix indices are out of range")}function w(t,e=0){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function y(t,e){if("number"!=typeof e)throw new TypeError(`${t} must be a number`)}function b(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class v{static from1DArray(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");let n=new E(t,e);for(let s=0;s<t;s++)for(let t=0;t<e;t++)n.set(s,t,r[s*e+t]);return n}static rowVector(t){let e=new E(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new E(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new E(t,e)}static ones(t,e){return new E(t,e).fill(1)}static rand(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{random:n=Math.random}=r;let s=new E(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++)s.set(r,t,n());return s}static randInt(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{min:n=0,max:s=1e3,random:o=Math.random}=r;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(s))throw new TypeError("max must be an integer");if(n>=s)throw new RangeError("min must be smaller than max");let i=s-n,a=new E(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=n+Math.round(o()*i);a.set(r,t,e)}return a}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let n=Math.min(t,e),s=this.zeros(t,e);for(let t=0;t<n;t++)s.set(t,t,r);return s}static diag(t,e,r){let n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);let s=Math.min(n,e,r),o=this.zeros(e,r);for(let e=0;e<s;e++)o.set(e,e,t[e]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,s=new E(r,n);for(let o=0;o<r;o++)for(let r=0;r<n;r++)s.set(o,r,Math.min(t.get(o,r),e.get(o,r)));return s}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,s=new this(r,n);for(let o=0;o<r;o++)for(let r=0;r<n;r++)s.set(o,r,Math.max(t.get(o,r),e.get(o,r)));return s}static checkMatrix(t){return v.isMatrix(t)?t:new E(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(0!==this.get(t,t))return!1;return!0}isEchelonForm(){let t=0,e=0,r=-1,n=!0,s=!1;for(;t<this.rows&&n;){for(e=0,s=!1;e<this.columns&&!1===s;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(s=!0,r=e):(n=!1,s=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,s=!1;for(;t<this.rows&&n;){for(e=0,s=!1;e<this.columns&&!1===s;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(s=!0,r=e):(n=!1,s=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let n=e;for(let s=e;s<t.rows;s++)t.get(s,r)>t.get(n,r)&&(n=s);if(0===t.get(n,r))r++;else{t.swapRows(e,n);let s=t.get(e,r);for(let n=r;n<t.columns;n++)t.set(e,n,t.get(e,n)/s);for(let n=e+1;n<t.rows;n++){let s=t.get(n,r)/t.get(e,r);t.set(n,r,0);for(let o=r+1;o<t.columns;o++)t.set(n,o,t.get(n,o)-t.get(e,o)*s)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;for(;n>=0;)if(0===t.maxRow(n))n--;else{let s=0,o=!1;for(;s<r&&!1===o;)1===t.get(n,s)?o=!0:s++;for(let r=0;r<n;r++){let o=t.get(r,s);for(let i=s;i<e;i++){let e=t.get(r,i)-o*t.get(n,i);t.set(r,i,e)}}n--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let n=new E(this.rows*e,this.columns*r);for(let t=0;t<e;t++)for(let e=0;e<r;e++)n.setSubMatrix(this,this.rows*t,this.columns*e);return n}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){c(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return E.rowVector(this.getRow(t))}setRow(t,e){c(this,t),e=f(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){c(this,t),c(this,e);for(let r=0;r<this.columns;r++){let n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){h(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return E.columnVector(this.getColumn(t))}setColumn(t,e){h(this,t),e=d(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){h(this,t),h(this,e);for(let r=0;r<this.rows;r++){let n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=d(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=d(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=d(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=d(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){c(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){h(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){b(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){b(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){if(c(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){c(this,t),b(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){if(c(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){c(this,t),b(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){h(this,t),b(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){h(this,t),b(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){v.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let n=0;n<e.length;n++)r+=e[n]*t[n];return r}mmul(t){t=E.checkMatrix(t);let e=this.rows,r=this.columns,n=t.columns,s=new E(e,n),o=new Float64Array(r);for(let i=0;i<n;i++){for(let e=0;e<r;e++)o[e]=t.get(e,i);for(let t=0;t<e;t++){let e=0;for(let n=0;n<r;n++)e+=this.get(t,n)*o[n];s.set(t,i,e)}}return s}strassen2x2(t){t=E.checkMatrix(t);let e=new E(2,2);const r=this.get(0,0),n=t.get(0,0),s=this.get(0,1),o=t.get(0,1),i=this.get(1,0),a=t.get(1,0),u=this.get(1,1),l=t.get(1,1),c=(r+u)*(n+l),h=(i+u)*n,f=r*(o-l),d=u*(a-n),p=(r+s)*l,m=c+d-p+(s-u)*(a+l),g=f+p,w=h+d,y=c-h+f+(i-r)*(n+o);return e.set(0,0,m),e.set(0,1,g),e.set(1,0,w),e.set(1,1,y),e}strassen3x3(t){t=E.checkMatrix(t);let e=new E(3,3);const r=this.get(0,0),n=this.get(0,1),s=this.get(0,2),o=this.get(1,0),i=this.get(1,1),a=this.get(1,2),u=this.get(2,0),l=this.get(2,1),c=this.get(2,2),h=t.get(0,0),f=t.get(0,1),d=t.get(0,2),p=t.get(1,0),m=t.get(1,1),g=t.get(1,2),w=t.get(2,0),y=t.get(2,1),b=t.get(2,2),v=(r-o)*(-f+m),x=(-r+o+i)*(h-f+m),S=(o+i)*(-h+f),_=r*h,M=(-r+u+l)*(h-d+g),R=(-r+u)*(d-g),k=(u+l)*(-h+d),C=(-s+l+c)*(m+w-y),A=(s-c)*(m-y),O=s*w,T=(l+c)*(-w+y),P=(-s+i+a)*(g+w-b),I=(s-a)*(g-b),N=(i+a)*(-w+b),j=_+O+n*p,D=(r+n+s-o-i-l-c)*m+x+S+_+C+O+T,F=_+M+k+(r+n+s-i-a-u-l)*g+O+P+N,L=v+i*(-h+f+p-m-g-w+b)+x+_+O+P+I,q=v+x+S+_+a*y,z=O+P+I+N+o*d,U=_+M+R+l*(-h+d+p-m-g-w+y)+C+A+O,B=C+A+O+T+u*f,V=_+M+R+k+c*b;return e.set(0,0,j),e.set(0,1,D),e.set(0,2,F),e.set(1,0,L),e.set(1,1,q),e.set(1,2,z),e.set(2,0,U),e.set(2,1,B),e.set(2,2,V),e}mmulStrassen(t){t=E.checkMatrix(t);let e=this.clone(),r=e.rows,n=e.columns,s=t.rows,o=t.columns;function i(t,e,r){let n=t.rows,s=t.columns;if(n===e&&s===r)return t;{let n=v.zeros(e,r);return n=n.setSubMatrix(t,0,0),n}}n!==s&&console.warn(`Multiplying ${r} x ${n} and ${s} x ${o} matrix: dimensions do not match.`);let a=Math.max(r,s),u=Math.max(n,o);return e=i(e,a,u),function t(e,r,n,s){if(n<=512||s<=512)return e.mmul(r);n%2==1&&s%2==1?(e=i(e,n+1,s+1),r=i(r,n+1,s+1)):n%2==1?(e=i(e,n+1,s),r=i(r,n+1,s)):s%2==1&&(e=i(e,n,s+1),r=i(r,n,s+1));let o=parseInt(e.rows/2,10),a=parseInt(e.columns/2,10),u=e.subMatrix(0,o-1,0,a-1),l=r.subMatrix(0,o-1,0,a-1),c=e.subMatrix(0,o-1,a,e.columns-1),h=r.subMatrix(0,o-1,a,r.columns-1),f=e.subMatrix(o,e.rows-1,0,a-1),d=r.subMatrix(o,r.rows-1,0,a-1),p=e.subMatrix(o,e.rows-1,a,e.columns-1),m=r.subMatrix(o,r.rows-1,a,r.columns-1),g=t(v.add(u,p),v.add(l,m),o,a),w=t(v.add(f,p),l,o,a),y=t(u,v.sub(h,m),o,a),b=t(p,v.sub(d,l),o,a),x=t(v.add(u,c),m,o,a),E=t(v.sub(f,u),v.add(l,h),o,a),S=t(v.sub(c,p),v.add(d,m),o,a),_=v.add(g,b);_.sub(x),_.add(S);let M=v.add(y,x),R=v.add(w,b),k=v.sub(g,w);k.add(y),k.add(E);let C=v.zeros(2*_.rows,2*_.columns);return C=C.setSubMatrix(_,0,0),C=C.setSubMatrix(M,_.rows,0),C=C.setSubMatrix(R,0,_.columns),C=C.setSubMatrix(k,_.rows,_.columns),C.subMatrix(0,n-1,0,s-1)}(e,t=i(t,a,u),a,u)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new E(this.rows,this.columns);for(let t=0;t<this.rows;t++){const o=this.getRow(t);o.length>0&&s(o,{min:e,max:r,output:o}),n.setRow(t,o)}return n}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new E(this.rows,this.columns);for(let t=0;t<this.columns;t++){const o=this.getColumn(t);o.length&&s(o,{min:e,max:r,output:o}),n.setColumn(t,o)}return n}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),n=this.get(e,this.columns-1-r);this.set(e,r,n),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),n=this.get(this.rows-1-r,e);this.set(r,e,n),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=E.checkMatrix(t);let e=this.rows,r=this.columns,n=t.rows,s=t.columns,o=new E(e*n,r*s);for(let i=0;i<e;i++)for(let e=0;e<r;e++)for(let r=0;r<n;r++)for(let a=0;a<s;a++)o.set(n*i+r,s*e+a,this.get(i,e)*t.get(r,a));return o}kroneckerSum(t){if(t=E.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,n=this.kroneckerProduct(E.eye(r,r)),s=E.eye(e,e).kroneckerProduct(t);return n.add(s)}transpose(){let t=new E(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=x){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=x){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){g(this,t,e,r,n);let s=new E(e-t+1,n-r+1);for(let o=t;o<=e;o++)for(let e=r;e<=n;e++)s.set(o-t,e-r,this.get(o,e));return s}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let n=new E(t.length,r-e+1);for(let s=0;s<t.length;s++)for(let o=e;o<=r;o++){if(t[s]<0||t[s]>=this.rows)throw new RangeError(`Row index out of range: ${t[s]}`);n.set(s,o-e,this.get(t[s],o))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let n=new E(r-e+1,t.length);for(let s=0;s<t.length;s++)for(let o=e;o<=r;o++){if(t[s]<0||t[s]>=this.columns)throw new RangeError(`Column index out of range: ${t[s]}`);n.set(o-e,s,this.get(o,t[s]))}return n}setSubMatrix(t,e,r){if((t=E.checkMatrix(t)).isEmpty())return this;g(this,e,e+t.rows-1,r,r+t.columns-1);for(let n=0;n<t.rows;n++)for(let s=0;s<t.columns;s++)this.set(e+n,r+s,t.get(n,s));return this}selection(t,e){p(this,t),m(this,e);let r=new E(t.length,e.length);for(let n=0;n<t.length;n++){let s=t[n];for(let t=0;t<e.length;t++){let o=e[t];r.set(n,t,this.get(s,o))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){return this.constructor.copy(this,new E(this.rows,this.columns))}static copy(t,e){for(const[r,n,s]of t.entries())e.set(r,n,s);return e}sum(t){switch(t){case"row":return function(t){let e=w(t.rows);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}(this);case"column":return function(t){let e=w(t.columns);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}(this);case void 0:return function(t){let e=0;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e+=t.get(r,n);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=w(t.rows,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}(this);case"column":return function(t){let e=w(t.columns,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}(this);case void 0:return function(t){let e=1;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e*=t.get(r,n);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:r=!0,mean:s=this.mean(t)}=e;if("boolean"!=typeof r)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!n.isAnyArray(s))throw new TypeError("mean must be an array");return function(t,e,r){const n=t.rows,s=t.columns,o=[];for(let i=0;i<n;i++){let n=0,a=0,u=0;for(let e=0;e<s;e++)u=t.get(i,e)-r[i],n+=u,a+=u*u;e?o.push((a-n*n/s)/(s-1)):o.push((a-n*n/s)/s)}return o}(this,r,s);case"column":if(!n.isAnyArray(s))throw new TypeError("mean must be an array");return function(t,e,r){const n=t.rows,s=t.columns,o=[];for(let i=0;i<s;i++){let s=0,a=0,u=0;for(let e=0;e<n;e++)u=t.get(e,i)-r[i],s+=u,a+=u*u;e?o.push((a-s*s/n)/(n-1)):o.push((a-s*s/n)/n)}return o}(this,r,s);case void 0:if("number"!=typeof s)throw new TypeError("mean must be a number");return function(t,e,r){const n=t.rows,s=t.columns,o=n*s;let i=0,a=0,u=0;for(let e=0;e<n;e++)for(let n=0;n<s;n++)u=t.get(e,n)-r,i+=u,a+=u*u;return e?(a-i*i/o)/(o-1):(a-i*i/o)/o}(this,r,s);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let t=0;t<r.length;t++)r[t]=Math.sqrt(r[t]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:r=this.mean(t)}=e;switch(t){case"row":if(!n.isAnyArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}(this,r),this;case"column":if(!n.isAnyArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}(this,r),this;case void 0:if("number"!=typeof r)throw new TypeError("center must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.rows;r++){let n=0;for(let e=0;e<t.columns;e++)n+=t.get(r,e)**2/(t.columns-1);e.push(Math.sqrt(n))}return e}(this);else if(!n.isAnyArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}(this,r),this;case"column":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.columns;r++){let n=0;for(let e=0;e<t.rows;e++)n+=t.get(e,r)**2/(t.rows-1);e.push(Math.sqrt(n))}return e}(this);else if(!n.isAnyArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}(this,r),this;case void 0:if(void 0===r)r=function(t){const e=t.size-1;let r=0;for(let n=0;n<t.columns;n++)for(let s=0;s<t.rows;s++)r+=t.get(s,n)**2/e;return Math.sqrt(r)}(this);else if("number"!=typeof r)throw new TypeError("scale must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return a(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}function x(t,e){return t-e}v.prototype.klass="Matrix","undefined"!=typeof Symbol&&(v.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return a(this)}),v.random=v.rand,v.randomInt=v.randInt,v.diagonal=v.diag,v.prototype.diagonal=v.prototype.diag,v.identity=v.eye,v.prototype.negate=v.prototype.neg,v.prototype.tensorProduct=v.prototype.kroneckerProduct;class E extends v{data;#t(t,e){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e));this.rows=t,this.columns=e}constructor(t,e){if(super(),E.isMatrix(t))this.#t(t.rows,t.columns),E.copy(t,this);else if(Number.isInteger(t)&&t>=0)this.#t(t,e);else{if(!n.isAnyArray(t))throw new TypeError("First argument must be a positive number or an array");{const r=t;if("number"!=typeof(e=(t=r.length)?r[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let n=0;n<t;n++){if(r[n].length!==e)throw new RangeError("Inconsistent array dimensions");if(!r[n].every((t=>"number"==typeof t)))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[n]))}this.rows=t,this.columns=e}}}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return c(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),c(this,t,!0),e=Float64Array.from(f(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){h(this,t);for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let n=0;n<t;n++)r[n]=this.data[e][n];for(let n=t+1;n<this.columns;n++)r[n-1]=this.data[e][n];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),h(this,t,!0),e=d(this,e);for(let r=0;r<this.rows;r++){const n=new Float64Array(this.columns+1);let s=0;for(;s<t;s++)n[s]=this.data[r][s];for(n[s++]=e[r];s<this.columns+1;s++)n[s]=this.data[r][s-1];this.data[r]=n}return this.columns+=1,this}}!function(t,e){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){return new e(t).add(r)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){return new e(t).sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){return new e(t).mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){return new e(t).div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){return new e(t).mod(r)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){return new e(t).and(r)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){return new e(t).or(r)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){return new e(t).xor(r)},t.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.leftShift=function(t,r){return new e(t).leftShift(r)},t.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.signPropagatingRightShift=function(t,r){return new e(t).signPropagatingRightShift(r)},t.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.rightShift=function(t,r){return new e(t).rightShift(r)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){return new e(t).not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){return new e(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){return new e(t).acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){return new e(t).acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){return new e(t).asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){return new e(t).asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){return new e(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){return new e(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){return new e(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){return new e(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){return new e(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){return new e(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){return new e(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){return new e(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){return new e(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){return new e(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){return new e(t).fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){return new e(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){return new e(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){return new e(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){return new e(t).log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){return new e(t).round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){return new e(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){return new e(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){return new e(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){return new e(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){return new e(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){return new e(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){return new e(t).trunc()},t.pow=function(t,r){return new e(t).pow(r)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t);return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t.get(e,r));return this}}(v,E);class S extends v{#e;get size(){return this.#e.size}get rows(){return this.#e.rows}get columns(){return this.#e.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(t){return E.isMatrix(t)&&"SymmetricMatrix"===t.klassType}static zeros(t){return new this(t)}static ones(t){return new this(t).fill(1)}constructor(t){if(super(),E.isMatrix(t)){if(!t.isSymmetric())throw new TypeError("not symmetric data");this.#e=E.copy(t,new E(t.rows,t.rows))}else if(Number.isInteger(t)&&t>=0)this.#e=new E(t,t);else if(this.#e=new E(t),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const t=new S(this.diagonalSize);for(const[e,r,n]of this.upperRightEntries())t.set(e,r,n);return t}toMatrix(){return new E(this)}get(t,e){return this.#e.get(t,e)}set(t,e,r){return this.#e.set(t,e,r),this.#e.set(e,t,r),this}removeCross(t){return this.#e.removeRow(t),this.#e.removeColumn(t),this}addCross(t,e){void 0===e&&(e=t,t=this.diagonalSize);const r=e.slice();return r.splice(t,1),this.#e.addRow(t,r),this.#e.addColumn(t,e),this}applyMask(t){if(t.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const e=[];for(const[r,n]of t.entries())n||e.push(r);e.reverse();for(const t of e)this.removeCross(t);return this}toCompact(){const{diagonalSize:t}=this,e=new Array(t*(t+1)/2);for(let r=0,n=0,s=0;s<e.length;s++)e[s]=this.get(n,r),++r>=t&&(r=++n);return e}static fromCompact(t){const e=t.length,r=(Math.sqrt(8*e+1)-1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(t)}`);const n=new S(r);for(let s=0,o=0,i=0;i<e;i++)n.set(s,o,t[i]),++s>=r&&(s=++o);return n}*upperRightEntries(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield[t,e,r],++e>=this.diagonalSize&&(e=++t)}}*upperRightValues(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield r,++e>=this.diagonalSize&&(e=++t)}}}S.prototype.klassType="SymmetricMatrix";class _ extends S{static isDistanceMatrix(t){return S.isSymmetricMatrix(t)&&"DistanceMatrix"===t.klassSubType}constructor(t){if(super(t),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(t,e,r){return t===e&&(r=0),super.set(t,e,r)}addCross(t,e){return void 0===e&&(e=t,t=this.diagonalSize),(e=e.slice())[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new S(this)}clone(){const t=new _(this.diagonalSize);for(const[e,r,n]of this.upperRightEntries())e!==r&&t.set(e,r,n);return t}toCompact(){const{diagonalSize:t}=this,e=new Array((t-1)*t/2);for(let r=1,n=0,s=0;s<e.length;s++)e[s]=this.get(n,r),++r>=t&&(r=1+ ++n);return e}static fromCompact(t){const e=t.length;if(0===e)return new this(0);const r=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);const n=new this(r);for(let s=1,o=0,i=0;i<e;i++)n.set(s,o,t[i]),++s>=r&&(s=1+ ++o);return n}}_.prototype.klassSubType="DistanceMatrix";class M extends v{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}class R extends M{constructor(t,e,r){p(t,e),m(t,r),super(t,e.length,r.length),this.rowIndices=e,this.columnIndices=r}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class k extends v{constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let n=this._calculateIndex(t,e);return this.data[n]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}class C extends v{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}class A{constructor(t){let e,r,n,s,o,i,a,u,l,c=(t=C.checkMatrix(t)).clone(),h=c.rows,f=c.columns,d=new Float64Array(h),p=1;for(e=0;e<h;e++)d[e]=e;for(u=new Float64Array(h),r=0;r<f;r++){for(e=0;e<h;e++)u[e]=c.get(e,r);for(e=0;e<h;e++){for(l=Math.min(e,r),o=0,n=0;n<l;n++)o+=c.get(e,n)*u[n];u[e]-=o,c.set(e,r,u[e])}for(s=r,e=r+1;e<h;e++)Math.abs(u[e])>Math.abs(u[s])&&(s=e);if(s!==r){for(n=0;n<f;n++)i=c.get(s,n),c.set(s,n,c.get(r,n)),c.set(r,n,i);a=d[s],d[s]=d[r],d[r]=a,p=-p}if(r<h&&0!==c.get(r,r))for(e=r+1;e<h;e++)c.set(e,r,c.get(e,r)/c.get(r,r))}this.LU=c,this.pivotVector=d,this.pivotSign=p}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=E.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r,n,s,o=t.columns,i=t.subMatrixRow(this.pivotVector,0,o-1),a=e.columns;for(s=0;s<a;s++)for(r=s+1;r<a;r++)for(n=0;n<o;n++)i.set(r,n,i.get(r,n)-i.get(s,n)*e.get(r,s));for(s=a-1;s>=0;s--){for(n=0;n<o;n++)i.set(s,n,i.get(s,n)/e.get(s,s));for(r=0;r<s;r++)for(n=0;n<o;n++)i.set(r,n,i.get(r,n)-i.get(s,n)*e.get(r,s))}return i}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let n=0;n<r;n++)e*=t.get(n,n);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new E(e,r);for(let s=0;s<e;s++)for(let e=0;e<r;e++)s>e?n.set(s,e,t.get(s,e)):s===e?n.set(s,e,1):n.set(s,e,0);return n}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new E(e,r);for(let s=0;s<e;s++)for(let e=0;e<r;e++)s<=e?n.set(s,e,t.get(s,e)):n.set(s,e,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function O(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class T{constructor(t){let e,r,n,s,o=(t=C.checkMatrix(t)).clone(),i=t.rows,a=t.columns,u=new Float64Array(a);for(n=0;n<a;n++){let t=0;for(e=n;e<i;e++)t=O(t,o.get(e,n));if(0!==t){for(o.get(n,n)<0&&(t=-t),e=n;e<i;e++)o.set(e,n,o.get(e,n)/t);for(o.set(n,n,o.get(n,n)+1),r=n+1;r<a;r++){for(s=0,e=n;e<i;e++)s+=o.get(e,n)*o.get(e,r);for(s=-s/o.get(n,n),e=n;e<i;e++)o.set(e,r,o.get(e,r)+s*o.get(e,n))}}u[n]=-t}this.QR=o,this.Rdiag=u}solve(t){t=E.checkMatrix(t);let e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let n,s,o,i,a=t.columns,u=t.clone(),l=e.columns;for(o=0;o<l;o++)for(s=0;s<a;s++){for(i=0,n=o;n<r;n++)i+=e.get(n,o)*u.get(n,s);for(i=-i/e.get(o,o),n=o;n<r;n++)u.set(n,s,u.get(n,s)+i*e.get(n,o))}for(o=l-1;o>=0;o--){for(s=0;s<a;s++)u.set(o,s,u.get(o,s)/this.Rdiag[o]);for(n=0;n<o;n++)for(s=0;s<a;s++)u.set(n,s,u.get(n,s)-u.get(o,s)*e.get(n,o))}return u.subMatrix(0,l-1,0,a-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,n=r.columns,s=new E(n,n);for(t=0;t<n;t++)for(e=0;e<n;e++)t<e?s.set(t,e,r.get(t,e)):t===e?s.set(t,e,this.Rdiag[t]):s.set(t,e,0);return s}get orthogonalMatrix(){let t,e,r,n,s=this.QR,o=s.rows,i=s.columns,a=new E(o,i);for(r=i-1;r>=0;r--){for(t=0;t<o;t++)a.set(t,r,0);for(a.set(r,r,1),e=r;e<i;e++)if(0!==s.get(r,r)){for(n=0,t=r;t<o;t++)n+=s.get(t,r)*a.get(t,e);for(n=-n/s.get(r,r),t=r;t<o;t++)a.set(t,e,a.get(t,e)+n*s.get(t,r))}}return a}}class P{constructor(t,e={}){if((t=C.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,n=t.columns;const{computeLeftSingularVectors:s=!0,computeRightSingularVectors:o=!0,autoTranspose:i=!1}=e;let a,u=Boolean(s),l=Boolean(o),c=!1;if(r<n)if(i){a=t.transpose(),r=a.rows,n=a.columns,c=!0;let e=u;u=l,l=e}else a=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else a=t.clone();let h=Math.min(r,n),f=Math.min(r+1,n),d=new Float64Array(f),p=new E(r,h),m=new E(n,n),g=new Float64Array(n),w=new Float64Array(r),y=new Float64Array(f);for(let t=0;t<f;t++)y[t]=t;let b=Math.min(r-1,n),v=Math.max(0,Math.min(n-2,r)),x=Math.max(b,v);for(let t=0;t<x;t++){if(t<b){d[t]=0;for(let e=t;e<r;e++)d[t]=O(d[t],a.get(e,t));if(0!==d[t]){a.get(t,t)<0&&(d[t]=-d[t]);for(let e=t;e<r;e++)a.set(e,t,a.get(e,t)/d[t]);a.set(t,t,a.get(t,t)+1)}d[t]=-d[t]}for(let e=t+1;e<n;e++){if(t<b&&0!==d[t]){let n=0;for(let s=t;s<r;s++)n+=a.get(s,t)*a.get(s,e);n=-n/a.get(t,t);for(let s=t;s<r;s++)a.set(s,e,a.get(s,e)+n*a.get(s,t))}g[e]=a.get(t,e)}if(u&&t<b)for(let e=t;e<r;e++)p.set(e,t,a.get(e,t));if(t<v){g[t]=0;for(let e=t+1;e<n;e++)g[t]=O(g[t],g[e]);if(0!==g[t]){g[t+1]<0&&(g[t]=0-g[t]);for(let e=t+1;e<n;e++)g[e]/=g[t];g[t+1]+=1}if(g[t]=-g[t],t+1<r&&0!==g[t]){for(let e=t+1;e<r;e++)w[e]=0;for(let e=t+1;e<r;e++)for(let r=t+1;r<n;r++)w[e]+=g[r]*a.get(e,r);for(let e=t+1;e<n;e++){let n=-g[e]/g[t+1];for(let s=t+1;s<r;s++)a.set(s,e,a.get(s,e)+n*w[s])}}if(l)for(let e=t+1;e<n;e++)m.set(e,t,g[e])}}let S=Math.min(n,r+1);if(b<n&&(d[b]=a.get(b,b)),r<S&&(d[S-1]=0),v+1<S&&(g[v]=a.get(v,S-1)),g[S-1]=0,u){for(let t=b;t<h;t++){for(let e=0;e<r;e++)p.set(e,t,0);p.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==d[t]){for(let e=t+1;e<h;e++){let n=0;for(let s=t;s<r;s++)n+=p.get(s,t)*p.get(s,e);n=-n/p.get(t,t);for(let s=t;s<r;s++)p.set(s,e,p.get(s,e)+n*p.get(s,t))}for(let e=t;e<r;e++)p.set(e,t,-p.get(e,t));p.set(t,t,1+p.get(t,t));for(let e=0;e<t-1;e++)p.set(e,t,0)}else{for(let e=0;e<r;e++)p.set(e,t,0);p.set(t,t,1)}}if(l)for(let t=n-1;t>=0;t--){if(t<v&&0!==g[t])for(let e=t+1;e<n;e++){let r=0;for(let s=t+1;s<n;s++)r+=m.get(s,t)*m.get(s,e);r=-r/m.get(t+1,t);for(let s=t+1;s<n;s++)m.set(s,e,m.get(s,e)+r*m.get(s,t))}for(let e=0;e<n;e++)m.set(e,t,0);m.set(t,t,1)}let _=S-1,M=Number.EPSILON;for(;S>0;){let t,e;for(t=S-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+M*Math.abs(d[t]+Math.abs(d[t+1]));if(Math.abs(g[t])<=e||Number.isNaN(g[t])){g[t]=0;break}}if(t===S-2)e=4;else{let r;for(r=S-1;r>=t&&r!==t;r--){let e=(r!==S?Math.abs(g[r]):0)+(r!==t+1?Math.abs(g[r-1]):0);if(Math.abs(d[r])<=M*e){d[r]=0;break}}r===t?e=3:r===S-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=g[S-2];g[S-2]=0;for(let r=S-2;r>=t;r--){let s=O(d[r],e),o=d[r]/s,i=e/s;if(d[r]=s,r!==t&&(e=-i*g[r-1],g[r-1]=o*g[r-1]),l)for(let t=0;t<n;t++)s=o*m.get(t,r)+i*m.get(t,S-1),m.set(t,S-1,-i*m.get(t,r)+o*m.get(t,S-1)),m.set(t,r,s)}break}case 2:{let e=g[t-1];g[t-1]=0;for(let n=t;n<S;n++){let s=O(d[n],e),o=d[n]/s,i=e/s;if(d[n]=s,e=-i*g[n],g[n]=o*g[n],u)for(let e=0;e<r;e++)s=o*p.get(e,n)+i*p.get(e,t-1),p.set(e,t-1,-i*p.get(e,n)+o*p.get(e,t-1)),p.set(e,n,s)}break}case 3:{const e=Math.max(Math.abs(d[S-1]),Math.abs(d[S-2]),Math.abs(g[S-2]),Math.abs(d[t]),Math.abs(g[t])),s=d[S-1]/e,o=d[S-2]/e,i=g[S-2]/e,a=d[t]/e,c=g[t]/e,h=((o+s)*(o-s)+i*i)/2,f=s*i*(s*i);let w=0;0===h&&0===f||(w=h<0?0-Math.sqrt(h*h+f):Math.sqrt(h*h+f),w=f/(h+w));let y=(a+s)*(a-s)+w,b=a*c;for(let e=t;e<S-1;e++){let s=O(y,b);0===s&&(s=Number.MIN_VALUE);let o=y/s,i=b/s;if(e!==t&&(g[e-1]=s),y=o*d[e]+i*g[e],g[e]=o*g[e]-i*d[e],b=i*d[e+1],d[e+1]=o*d[e+1],l)for(let t=0;t<n;t++)s=o*m.get(t,e)+i*m.get(t,e+1),m.set(t,e+1,-i*m.get(t,e)+o*m.get(t,e+1)),m.set(t,e,s);if(s=O(y,b),0===s&&(s=Number.MIN_VALUE),o=y/s,i=b/s,d[e]=s,y=o*g[e]+i*d[e+1],d[e+1]=-i*g[e]+o*d[e+1],b=i*g[e+1],g[e+1]=o*g[e+1],u&&e<r-1)for(let t=0;t<r;t++)s=o*p.get(t,e)+i*p.get(t,e+1),p.set(t,e+1,-i*p.get(t,e)+o*p.get(t,e+1)),p.set(t,e,s)}g[S-2]=y;break}case 4:if(d[t]<=0&&(d[t]=d[t]<0?-d[t]:0,l))for(let e=0;e<=_;e++)m.set(e,t,-m.get(e,t));for(;t<_&&!(d[t]>=d[t+1]);){let e=d[t];if(d[t]=d[t+1],d[t+1]=e,l&&t<n-1)for(let r=0;r<n;r++)e=m.get(r,t+1),m.set(r,t+1,m.get(r,t)),m.set(r,t,e);if(u&&t<r-1)for(let n=0;n<r;n++)e=p.get(n,t+1),p.set(n,t+1,p.get(n,t)),p.set(n,t,e);t++}S--}}if(c){let t=m;m=p,p=t}this.m=r,this.n=n,this.s=d,this.U=p,this.V=m}solve(t){let e=t,r=this.threshold,n=this.s.length,s=E.zeros(n,n);for(let t=0;t<n;t++)Math.abs(this.s[t])<=r?s.set(t,t,0):s.set(t,t,1/this.s[t]);let o=this.U,i=this.rightSingularVectors,a=i.mmul(s),u=i.rows,l=o.rows,c=E.zeros(u,l);for(let t=0;t<u;t++)for(let e=0;e<l;e++){let r=0;for(let s=0;s<n;s++)r+=a.get(t,s)*o.get(e,s);c.set(t,e,r)}return c.mmul(e)}solveForDiagonal(t){return this.solve(E.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,n=t.columns,s=new E(r,this.s.length);for(let o=0;o<r;o++)for(let r=0;r<n;r++)Math.abs(this.s[r])>e&&s.set(o,r,t.get(o,r)/this.s[r]);let o=this.U,i=o.rows,a=o.columns,u=new E(r,i);for(let t=0;t<r;t++)for(let e=0;e<i;e++){let r=0;for(let n=0;n<a;n++)r+=s.get(t,n)*o.get(e,n);u.set(t,e,r)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let n=0,s=r.length;n<s;n++)r[n]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return E.diag(this.s)}}function I(t,e,r=!1){return t=C.checkMatrix(t),e=C.checkMatrix(e),r?new P(t).solve(e):t.isSquare()?new A(t).solve(e):new T(t).solve(e)}function N(t,e){let r=[];for(let n=0;n<t;n++)n!==e&&r.push(n);return r}function j(t,e,r,n=1e-9,s=1e-9){if(t>s)return new Array(e.rows+1).fill(0);{let t=e.addRow(r,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<n&&t.set(e,0,0);return t.to1DArray()}}class D{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(!(t=C.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let n,s,o=t.columns,i=new E(o,o),a=new Float64Array(o),u=new Float64Array(o),l=t,c=!1;if(c=!!r||t.isSymmetric(),c){for(n=0;n<o;n++)for(s=0;s<o;s++)i.set(n,s,l.get(n,s));!function(t,e,r,n){let s,o,i,a,u,l,c,h;for(u=0;u<t;u++)r[u]=n.get(t-1,u);for(a=t-1;a>0;a--){for(h=0,i=0,l=0;l<a;l++)h+=Math.abs(r[l]);if(0===h)for(e[a]=r[a-1],u=0;u<a;u++)r[u]=n.get(a-1,u),n.set(a,u,0),n.set(u,a,0);else{for(l=0;l<a;l++)r[l]/=h,i+=r[l]*r[l];for(s=r[a-1],o=Math.sqrt(i),s>0&&(o=-o),e[a]=h*o,i-=s*o,r[a-1]=s-o,u=0;u<a;u++)e[u]=0;for(u=0;u<a;u++){for(s=r[u],n.set(u,a,s),o=e[u]+n.get(u,u)*s,l=u+1;l<=a-1;l++)o+=n.get(l,u)*r[l],e[l]+=n.get(l,u)*s;e[u]=o}for(s=0,u=0;u<a;u++)e[u]/=i,s+=e[u]*r[u];for(c=s/(i+i),u=0;u<a;u++)e[u]-=c*r[u];for(u=0;u<a;u++){for(s=r[u],o=e[u],l=u;l<=a-1;l++)n.set(l,u,n.get(l,u)-(s*e[l]+o*r[l]));r[u]=n.get(a-1,u),n.set(a,u,0)}}r[a]=i}for(a=0;a<t-1;a++){if(n.set(t-1,a,n.get(a,a)),n.set(a,a,1),i=r[a+1],0!==i){for(l=0;l<=a;l++)r[l]=n.get(l,a+1)/i;for(u=0;u<=a;u++){for(o=0,l=0;l<=a;l++)o+=n.get(l,a+1)*n.get(l,u);for(l=0;l<=a;l++)n.set(l,u,n.get(l,u)-o*r[l])}}for(l=0;l<=a;l++)n.set(l,a+1,0)}for(u=0;u<t;u++)r[u]=n.get(t-1,u),n.set(t-1,u,0);n.set(t-1,t-1,1),e[0]=0}(o,u,a,i),function(t,e,r,n){let s,o,i,a,u,l,c,h,f,d,p,m,g,w,y,b;for(i=1;i<t;i++)e[i-1]=e[i];e[t-1]=0;let v=0,x=0,E=Number.EPSILON;for(l=0;l<t;l++){for(x=Math.max(x,Math.abs(r[l])+Math.abs(e[l])),c=l;c<t&&!(Math.abs(e[c])<=E*x);)c++;if(c>l)do{for(s=r[l],h=(r[l+1]-s)/(2*e[l]),f=O(h,1),h<0&&(f=-f),r[l]=e[l]/(h+f),r[l+1]=e[l]*(h+f),d=r[l+1],o=s-r[l],i=l+2;i<t;i++)r[i]-=o;for(v+=o,h=r[c],p=1,m=p,g=p,w=e[l+1],y=0,b=0,i=c-1;i>=l;i--)for(g=m,m=p,b=y,s=p*e[i],o=p*h,f=O(h,e[i]),e[i+1]=y*f,y=e[i]/f,p=h/f,h=p*r[i]-y*s,r[i+1]=o+y*(p*s+y*r[i]),u=0;u<t;u++)o=n.get(u,i+1),n.set(u,i+1,y*n.get(u,i)+p*o),n.set(u,i,p*n.get(u,i)-y*o);h=-y*b*g*w*e[l]/d,e[l]=y*h,r[l]=p*h}while(Math.abs(e[l])>E*x);r[l]=r[l]+v,e[l]=0}for(i=0;i<t-1;i++){for(u=i,h=r[i],a=i+1;a<t;a++)r[a]<h&&(u=a,h=r[a]);if(u!==i)for(r[u]=r[i],r[i]=h,a=0;a<t;a++)h=n.get(a,i),n.set(a,i,n.get(a,u)),n.set(a,u,h)}}(o,u,a,i)}else{let t=new E(o,o),e=new Float64Array(o);for(s=0;s<o;s++)for(n=0;n<o;n++)t.set(n,s,l.get(n,s));!function(t,e,r,n){let s,o,i,a,u,l,c,h=t-1;for(l=1;l<=h-1;l++){for(c=0,a=l;a<=h;a++)c+=Math.abs(e.get(a,l-1));if(0!==c){for(i=0,a=h;a>=l;a--)r[a]=e.get(a,l-1)/c,i+=r[a]*r[a];for(o=Math.sqrt(i),r[l]>0&&(o=-o),i-=r[l]*o,r[l]=r[l]-o,u=l;u<t;u++){for(s=0,a=h;a>=l;a--)s+=r[a]*e.get(a,u);for(s/=i,a=l;a<=h;a++)e.set(a,u,e.get(a,u)-s*r[a])}for(a=0;a<=h;a++){for(s=0,u=h;u>=l;u--)s+=r[u]*e.get(a,u);for(s/=i,u=l;u<=h;u++)e.set(a,u,e.get(a,u)-s*r[u])}r[l]=c*r[l],e.set(l,l-1,c*o)}}for(a=0;a<t;a++)for(u=0;u<t;u++)n.set(a,u,a===u?1:0);for(l=h-1;l>=1;l--)if(0!==e.get(l,l-1)){for(a=l+1;a<=h;a++)r[a]=e.get(a,l-1);for(u=l;u<=h;u++){for(o=0,a=l;a<=h;a++)o+=r[a]*n.get(a,u);for(o=o/r[l]/e.get(l,l-1),a=l;a<=h;a++)n.set(a,u,n.get(a,u)+o*r[a])}}}(o,t,e,i),function(t,e,r,n,s){let o,i,a,u,l,c,h,f,d,p,m,g,w,y,b,v=t-1,x=t-1,E=Number.EPSILON,S=0,_=0,M=0,R=0,k=0,C=0,A=0,O=0;for(o=0;o<t;o++)for((o<0||o>x)&&(r[o]=s.get(o,o),e[o]=0),i=Math.max(o-1,0);i<t;i++)_+=Math.abs(s.get(o,i));for(;v>=0;){for(u=v;u>0&&(C=Math.abs(s.get(u-1,u-1))+Math.abs(s.get(u,u)),0===C&&(C=_),!(Math.abs(s.get(u,u-1))<E*C));)u--;if(u===v)s.set(v,v,s.get(v,v)+S),r[v]=s.get(v,v),e[v]=0,v--,O=0;else if(u===v-1){if(h=s.get(v,v-1)*s.get(v-1,v),M=(s.get(v-1,v-1)-s.get(v,v))/2,R=M*M+h,A=Math.sqrt(Math.abs(R)),s.set(v,v,s.get(v,v)+S),s.set(v-1,v-1,s.get(v-1,v-1)+S),f=s.get(v,v),R>=0){for(A=M>=0?M+A:M-A,r[v-1]=f+A,r[v]=r[v-1],0!==A&&(r[v]=f-h/A),e[v-1]=0,e[v]=0,f=s.get(v,v-1),C=Math.abs(f)+Math.abs(A),M=f/C,R=A/C,k=Math.sqrt(M*M+R*R),M/=k,R/=k,i=v-1;i<t;i++)A=s.get(v-1,i),s.set(v-1,i,R*A+M*s.get(v,i)),s.set(v,i,R*s.get(v,i)-M*A);for(o=0;o<=v;o++)A=s.get(o,v-1),s.set(o,v-1,R*A+M*s.get(o,v)),s.set(o,v,R*s.get(o,v)-M*A);for(o=0;o<=x;o++)A=n.get(o,v-1),n.set(o,v-1,R*A+M*n.get(o,v)),n.set(o,v,R*n.get(o,v)-M*A)}else r[v-1]=f+M,r[v]=f+M,e[v-1]=A,e[v]=-A;v-=2,O=0}else{if(f=s.get(v,v),d=0,h=0,u<v&&(d=s.get(v-1,v-1),h=s.get(v,v-1)*s.get(v-1,v)),10===O){for(S+=f,o=0;o<=v;o++)s.set(o,o,s.get(o,o)-f);C=Math.abs(s.get(v,v-1))+Math.abs(s.get(v-1,v-2)),f=d=.75*C,h=-.4375*C*C}if(30===O&&(C=(d-f)/2,C=C*C+h,C>0)){for(C=Math.sqrt(C),d<f&&(C=-C),C=f-h/((d-f)/2+C),o=0;o<=v;o++)s.set(o,o,s.get(o,o)-C);S+=C,f=d=h=.964}for(O+=1,l=v-2;l>=u&&(A=s.get(l,l),k=f-A,C=d-A,M=(k*C-h)/s.get(l+1,l)+s.get(l,l+1),R=s.get(l+1,l+1)-A-k-C,k=s.get(l+2,l+1),C=Math.abs(M)+Math.abs(R)+Math.abs(k),M/=C,R/=C,k/=C,l!==u)&&!(Math.abs(s.get(l,l-1))*(Math.abs(R)+Math.abs(k))<E*(Math.abs(M)*(Math.abs(s.get(l-1,l-1))+Math.abs(A)+Math.abs(s.get(l+1,l+1)))));)l--;for(o=l+2;o<=v;o++)s.set(o,o-2,0),o>l+2&&s.set(o,o-3,0);for(a=l;a<=v-1&&(y=a!==v-1,a!==l&&(M=s.get(a,a-1),R=s.get(a+1,a-1),k=y?s.get(a+2,a-1):0,f=Math.abs(M)+Math.abs(R)+Math.abs(k),0!==f&&(M/=f,R/=f,k/=f)),0!==f);a++)if(C=Math.sqrt(M*M+R*R+k*k),M<0&&(C=-C),0!==C){for(a!==l?s.set(a,a-1,-C*f):u!==l&&s.set(a,a-1,-s.get(a,a-1)),M+=C,f=M/C,d=R/C,A=k/C,R/=M,k/=M,i=a;i<t;i++)M=s.get(a,i)+R*s.get(a+1,i),y&&(M+=k*s.get(a+2,i),s.set(a+2,i,s.get(a+2,i)-M*A)),s.set(a,i,s.get(a,i)-M*f),s.set(a+1,i,s.get(a+1,i)-M*d);for(o=0;o<=Math.min(v,a+3);o++)M=f*s.get(o,a)+d*s.get(o,a+1),y&&(M+=A*s.get(o,a+2),s.set(o,a+2,s.get(o,a+2)-M*k)),s.set(o,a,s.get(o,a)-M),s.set(o,a+1,s.get(o,a+1)-M*R);for(o=0;o<=x;o++)M=f*n.get(o,a)+d*n.get(o,a+1),y&&(M+=A*n.get(o,a+2),n.set(o,a+2,n.get(o,a+2)-M*k)),n.set(o,a,n.get(o,a)-M),n.set(o,a+1,n.get(o,a+1)-M*R)}}}if(0!==_){for(v=t-1;v>=0;v--)if(M=r[v],R=e[v],0===R)for(u=v,s.set(v,v,1),o=v-1;o>=0;o--){for(h=s.get(o,o)-M,k=0,i=u;i<=v;i++)k+=s.get(o,i)*s.get(i,v);if(e[o]<0)A=h,C=k;else if(u=o,0===e[o]?s.set(o,v,0!==h?-k/h:-k/(E*_)):(f=s.get(o,o+1),d=s.get(o+1,o),R=(r[o]-M)*(r[o]-M)+e[o]*e[o],c=(f*C-A*k)/R,s.set(o,v,c),s.set(o+1,v,Math.abs(f)>Math.abs(A)?(-k-h*c)/f:(-C-d*c)/A)),c=Math.abs(s.get(o,v)),E*c*c>1)for(i=o;i<=v;i++)s.set(i,v,s.get(i,v)/c)}else if(R<0)for(u=v-1,Math.abs(s.get(v,v-1))>Math.abs(s.get(v-1,v))?(s.set(v-1,v-1,R/s.get(v,v-1)),s.set(v-1,v,-(s.get(v,v)-M)/s.get(v,v-1))):(b=F(0,-s.get(v-1,v),s.get(v-1,v-1)-M,R),s.set(v-1,v-1,b[0]),s.set(v-1,v,b[1])),s.set(v,v-1,0),s.set(v,v,1),o=v-2;o>=0;o--){for(p=0,m=0,i=u;i<=v;i++)p+=s.get(o,i)*s.get(i,v-1),m+=s.get(o,i)*s.get(i,v);if(h=s.get(o,o)-M,e[o]<0)A=h,k=p,C=m;else if(u=o,0===e[o]?(b=F(-p,-m,h,R),s.set(o,v-1,b[0]),s.set(o,v,b[1])):(f=s.get(o,o+1),d=s.get(o+1,o),g=(r[o]-M)*(r[o]-M)+e[o]*e[o]-R*R,w=2*(r[o]-M)*R,0===g&&0===w&&(g=E*_*(Math.abs(h)+Math.abs(R)+Math.abs(f)+Math.abs(d)+Math.abs(A))),b=F(f*k-A*p+R*m,f*C-A*m-R*p,g,w),s.set(o,v-1,b[0]),s.set(o,v,b[1]),Math.abs(f)>Math.abs(A)+Math.abs(R)?(s.set(o+1,v-1,(-p-h*s.get(o,v-1)+R*s.get(o,v))/f),s.set(o+1,v,(-m-h*s.get(o,v)-R*s.get(o,v-1))/f)):(b=F(-k-d*s.get(o,v-1),-C-d*s.get(o,v),A,R),s.set(o+1,v-1,b[0]),s.set(o+1,v,b[1]))),c=Math.max(Math.abs(s.get(o,v-1)),Math.abs(s.get(o,v))),E*c*c>1)for(i=o;i<=v;i++)s.set(i,v-1,s.get(i,v-1)/c),s.set(i,v,s.get(i,v)/c)}for(o=0;o<t;o++)if(o<0||o>x)for(i=o;i<t;i++)n.set(o,i,s.get(o,i));for(i=t-1;i>=0;i--)for(o=0;o<=x;o++){for(A=0,a=0;a<=Math.min(i,x);a++)A+=n.get(o,a)*s.get(a,i);n.set(o,i,A)}}}(o,u,a,i,t)}this.n=o,this.e=u,this.d=a,this.V=i}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,n=this.e,s=this.d,o=new E(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)o.set(t,e,0);o.set(t,t,s[t]),n[t]>0?o.set(t,t+1,n[t]):n[t]<0&&o.set(t,t-1,n[t])}return o}}function F(t,e,r,n){let s,o;return Math.abs(r)>Math.abs(n)?(s=n/r,o=r+s*n,[(t+s*e)/o,(e-s*t)/o]):(s=r/n,o=n+s*r,[(s*t+e)/o,(s*e-t)/o])}class L{constructor(t){if(!(t=C.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");let e,r,n,s=t,o=s.rows,i=new E(o,o),a=!0;for(r=0;r<o;r++){let t=0;for(n=0;n<r;n++){let o=0;for(e=0;e<n;e++)o+=i.get(n,e)*i.get(r,e);o=(s.get(r,n)-o)/i.get(n,n),i.set(r,n,o),t+=o*o}for(t=s.get(r,r)-t,a&=t>0,i.set(r,r,Math.sqrt(Math.max(t,0))),n=r+1;n<o;n++)i.set(r,n,0)}this.L=i,this.positiveDefinite=Boolean(a)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=C.checkMatrix(t);let e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let n,s,o,i=t.columns,a=t.clone();for(o=0;o<r;o++)for(s=0;s<i;s++){for(n=0;n<o;n++)a.set(o,s,a.get(o,s)-a.get(n,s)*e.get(o,n));a.set(o,s,a.get(o,s)/e.get(o,o))}for(o=r-1;o>=0;o--)for(s=0;s<i;s++){for(n=o+1;n<r;n++)a.set(o,s,a.get(o,s)-a.get(n,s)*e.get(n,o));a.set(o,s,a.get(o,s)/e.get(o,o))}return a}get lowerTriangularMatrix(){return this.L}}class q{constructor(t,e={}){t=C.checkMatrix(t);let{Y:r}=e;const{scaleScores:s=!1,maxIterations:o=1e3,terminationCriteria:i=1e-10}=e;let a;if(r){if(r=n.isAnyArray(r)&&"number"==typeof r[0]?E.columnVector(r):C.checkMatrix(r),r.rows!==t.rows)throw new Error("Y should have the same number of rows as X");a=r.getColumnVector(0)}else a=t.getColumnVector(0);let u,l,c,h,f=1;for(let e=0;e<o&&f>i;e++)c=t.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),c=c.div(c.norm()),u=t.mmul(c).div(c.transpose().mmul(c).get(0,0)),e>0&&(f=u.clone().sub(h).pow(2).sum()),h=u.clone(),r?(l=r.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),l=l.div(l.norm()),a=r.mmul(l).div(l.transpose().mmul(l).get(0,0))):a=u;if(r){let e=t.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0));e=e.div(e.norm());let n=t.clone().sub(u.clone().mmul(e.transpose())),s=a.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),o=r.clone().sub(u.clone().mulS(s.get(0,0)).mmul(l.transpose()));this.t=u,this.p=e.transpose(),this.w=c.transpose(),this.q=l,this.u=a,this.s=u.transpose().mmul(u),this.xResidual=n,this.yResidual=o,this.betas=s}else this.w=c.transpose(),this.s=u.transpose().mmul(u).sqrt(),this.t=s?u.clone().div(this.s.get(0,0)):u,this.xResidual=t.sub(u.mmul(c.transpose()))}}e.y3=v,e.jy=L,e.oN=L,e.Hc=_,e.cg=D,e.hj=D,e.LU=A,e.Tb=A,e.uq=E,e.Zm=class extends M{constructor(t,e){m(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}},e.Dq=class extends M{constructor(t,e){h(t,e),super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}},e.__=class extends M{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}},e.q0=class extends M{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}},e.lh=class extends M{constructor(t,e){p(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}},e.pI=class extends M{constructor(t,e){c(t,e),super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}},e.zC=R,e.zg=class extends M{constructor(t,e,r,n,s){g(t,e,r,n,s),super(t,r-e+1,s-n+1),this.startRow=e,this.startColumn=n}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}},e.g6=class extends M{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}},e.OL=q,e.ks=q,e.QR=T,e.jp=T,e.mk=P,e.W2=P,e.l=S,e.KY=k,e.dv=C,e.BR=function(t,e=t,r={}){t=new E(t);let s=!1;if("object"!=typeof e||E.isMatrix(e)||n.isAnyArray(e)?e=new E(e):(r=e,e=t,s=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0,scale:i=!0}=r;o&&(t.center("column"),s||e.center("column")),i&&(t.scale("column"),s||e.scale("column"));const a=t.standardDeviation("column",{unbiased:!0}),u=s?a:e.standardDeviation("column",{unbiased:!0}),l=t.transpose().mmul(e);for(let e=0;e<l.rows;e++)for(let r=0;r<l.columns;r++)l.set(e,r,l.get(e,r)*(1/(a[e]*u[r]))*(1/(t.rows-1)));return l},e.Wu=function(t,e=t,r={}){t=new E(t);let s=!1;if("object"!=typeof e||E.isMatrix(e)||n.isAnyArray(e)?e=new E(e):(r=e,e=t,s=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:o=!0}=r;o&&(t=t.center("column"),s||(e=e.center("column")));const i=t.transpose().mmul(e);for(let e=0;e<i.rows;e++)for(let r=0;r<i.columns;r++)i.set(e,r,i.get(e,r)*(1/(t.rows-1)));return i},e.a4=function t(e){if((e=E.checkMatrix(e)).isSquare()){if(0===e.columns)return 1;let r,n,s,o;if(2===e.columns)return r=e.get(0,0),n=e.get(0,1),s=e.get(1,0),o=e.get(1,1),r*o-n*s;if(3===e.columns){let o,i,a;return o=new R(e,[1,2],[1,2]),i=new R(e,[1,2],[0,2]),a=new R(e,[1,2],[0,1]),r=e.get(0,0),n=e.get(0,1),s=e.get(0,2),r*t(o)-n*t(i)+s*t(a)}return new A(e).determinant}throw Error("determinant can only be calculated for a square matrix")},e.DI=function(t,e=!1){return t=C.checkMatrix(t),e?new P(t).inverse():I(t,E.eye(t.rows))},e.Jo=function(t,e={}){const{thresholdValue:r=1e-9,thresholdError:n=1e-9}=e;let s=(t=E.checkMatrix(t)).rows,o=new E(s,s);for(let e=0;e<s;e++){let i=E.columnVector(t.getRow(e)),a=t.subMatrixRow(N(s,e)).transpose(),u=new P(a).solve(i),l=E.sub(i,a.mmul(u)).abs().max();o.setRow(e,j(l,u,e,r,n))}return o},e.Zi=function(t,e=Number.EPSILON){if((t=E.checkMatrix(t)).isEmpty())return t.transpose();let r=new P(t,{autoTranspose:!0}),n=r.leftSingularVectors,s=r.rightSingularVectors,o=r.diagonal;for(let t=0;t<o.length;t++)Math.abs(o[t])>e?o[t]=1/o[t]:o[t]=0;return s.mmul(E.diag(o).mmul(n.transpose()))},e.kH=I,e.LV=function(t,e){if(n.isAnyArray(t))return t[0]&&n.isAnyArray(t[0])?new C(t):new k(t,e);throw new Error("the argument is not an array")}},98:function(t,e){var r,n;r=function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},r=!e.document&&!!e.postMessage,n=e.IS_PAPA_WORKER||!1,s={},o=0,i={parse:function(r,n){var a=(n=n||{}).dynamicTyping||!1;if(x(a)&&(n.dynamicTypingFunction=a,a={}),n.dynamicTyping=a,n.transform=!!x(n.transform)&&n.transform,n.worker&&i.WORKERS_SUPPORTED){var u=function(){if(!i.WORKERS_SUPPORTED)return!1;var r,n,a=(r=e.URL||e.webkitURL||null,n=t.toString(),i.BLOB_URL||(i.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",n,")();"],{type:"text/javascript"})))),u=new e.Worker(a);return u.onmessage=g,u.id=o++,s[u.id]=u}();return u.userStep=n.step,u.userChunk=n.chunk,u.userComplete=n.complete,u.userError=n.error,n.step=x(n.step),n.chunk=x(n.chunk),n.complete=x(n.complete),n.error=x(n.error),delete n.worker,void u.postMessage({input:r,config:n,workerId:u.id})}var d=null;return i.NODE_STREAM_INPUT,"string"==typeof r?(r=function(t){return 65279===t.charCodeAt(0)?t.slice(1):t}(r),d=n.download?new l(n):new h(n)):!0===r.readable&&x(r.read)&&x(r.on)?d=new f(n):(e.File&&r instanceof File||r instanceof Object)&&(d=new c(n)),d.stream(r)},unparse:function(t,e){var r=!1,n=!0,s=",",o="\r\n",a='"',u=a+a,l=!1,c=null,h=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||i.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(s=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(r=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(l=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(n=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");c=e.columns}void 0!==e.escapeChar&&(u=e.escapeChar+a),("boolean"==typeof e.escapeFormulae||e.escapeFormulae instanceof RegExp)&&(h=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=new RegExp(p(a),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return d(null,t,l);if("object"==typeof t[0])return d(c||Object.keys(t[0]),t,l)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||c),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),d(t.fields||[],t.data||[],l);throw new Error("Unable to serialize unrecognized input");function d(t,e,r){var i="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(a&&n){for(var l=0;l<t.length;l++)0<l&&(i+=s),i+=m(t[l],l);0<e.length&&(i+=o)}for(var c=0;c<e.length;c++){var h=a?t.length:e[c].length,f=!1,d=a?0===Object.keys(e[c]).length:0===e[c].length;if(r&&!a&&(f="greedy"===r?""===e[c].join("").trim():1===e[c].length&&0===e[c][0].length),"greedy"===r&&a){for(var p=[],g=0;g<h;g++){var w=u?t[g]:g;p.push(e[c][w])}f=""===p.join("").trim()}if(!f){for(var y=0;y<h;y++){0<y&&!d&&(i+=s);var b=a&&u?t[y]:y;i+=m(e[c][b],y)}c<e.length-1&&(!r||0<h&&!d)&&(i+=o)}}return i}function m(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var n=!1;h&&"string"==typeof t&&h.test(t)&&(t="'"+t,n=!0);var o=t.toString().replace(f,u);return(n=n||!0===r||"function"==typeof r&&r(t,e)||Array.isArray(r)&&r[e]||function(t,e){for(var r=0;r<e.length;r++)if(-1<t.indexOf(e[r]))return!0;return!1}(o,i.BAD_DELIMITERS)||-1<o.indexOf(s)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?a+o+a:o}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!r&&!!e.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=m,i.ParserHandle=d,i.NetworkStreamer=l,i.FileStreamer=c,i.StringStreamer=h,i.ReadableStreamStreamer=f,e.jQuery){var a=e.jQuery;a.fn.parse=function(t){var r=t.config||{},n=[];return this.each((function(t){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)n.push({file:this.files[s],inputElem:this,instanceConfig:a.extend({},r)})})),s(),this;function s(){if(0!==n.length){var e,r,s,u=n[0];if(x(t.before)){var l=t.before(u.file,u.inputElem);if("object"==typeof l){if("abort"===l.action)return e=u.file,r=u.inputElem,s=l.reason,void(x(t.error)&&t.error({name:"AbortError"},e,r,s));if("skip"===l.action)return void o();"object"==typeof l.config&&(u.instanceConfig=a.extend(u.instanceConfig,l.config))}else if("skip"===l)return void o()}var c=u.instanceConfig.complete;u.instanceConfig.complete=function(t){x(c)&&c(t,u.file,u.inputElem),o()},i.parse(u.file,u.instanceConfig)}else x(t.complete)&&t.complete()}function o(){n.splice(0,1),s()}}}function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new d(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,r){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(t);void 0!==s&&(t=s)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=a.meta.cursor;this._finished||(this._partialLine=o.substring(u-this._baseIndex),this._baseIndex=u),a&&a.data&&(this._rowCount+=a.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)e.postMessage({results:a,workerId:i.WORKER_ID,finished:l});else if(x(this._config.chunk)&&!r){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!l||!x(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){x(this._config.error)?this._config.error(t):n&&this._config.error&&e.postMessage({workerId:i.WORKER_ID,error:t,finished:!1})}}function l(t){var e;(t=t||{}).chunkSize||(t.chunkSize=i.RemoteChunkSize),u.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=v(this._chunkLoaded,this),e.onerror=v(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}r&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var r=e.statusText||t;this._sendError(new Error(r))}}function c(t){var e,r;(t=t||{}).chunkSize||(t.chunkSize=i.LocalChunkSize),u.call(this,t);var n="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,r=t.slice||t.webkitSlice||t.mozSlice,n?((e=new FileReader).onload=v(this._chunkLoaded,this),e.onerror=v(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var s=Math.min(this._start+this._config.chunkSize,this._input.size);t=r.call(t,this._start,s)}var o=e.readAsText(t,this._config.encoding);n||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,r=this._config.chunkSize;return r?(t=e.substring(0,r),e=e.substring(r)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function f(t){u.call(this,t=t||{});var e=[],r=!0,n=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):r=!0},this._streamData=v((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=v((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=v((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=v((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function d(t){var e,r,n,s=Math.pow(2,53),o=-s,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,u=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,l=this,c=0,h=0,f=!1,d=!1,g=[],w={data:[],errors:[],meta:{}};if(x(t.step)){var y=t.step;t.step=function(e){if(w=e,S())E();else{if(E(),0===w.data.length)return;c+=e.data.length,t.preview&&c>t.preview?r.abort():(w.data=w.data[0],y(w,l))}}}function v(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function E(){return w&&n&&(M("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines&&(w.data=w.data.filter((function(t){return!v(t)}))),S()&&function(){if(w)if(Array.isArray(w.data[0])){for(var e=0;S()&&e<w.data.length;e++)w.data[e].forEach(r);w.data.splice(0,1)}else w.data.forEach(r);function r(e,r){x(t.transformHeader)&&(e=t.transformHeader(e,r)),g.push(e)}}(),function(){if(!w||!t.header&&!t.dynamicTyping&&!t.transform)return w;function e(e,r){var n,s=t.header?{}:[];for(n=0;n<e.length;n++){var o=n,i=e[n];t.header&&(o=n>=g.length?"__parsed_extra":g[n]),t.transform&&(i=t.transform(i,o)),i=_(o,i),"__parsed_extra"===o?(s[o]=s[o]||[],s[o].push(i)):s[o]=i}return t.header&&(n>g.length?M("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+n,h+r):n<g.length&&M("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+n,h+r)),s}var r=1;return!w.data.length||Array.isArray(w.data[0])?(w.data=w.data.map(e),r=w.data.length):w.data=e(w.data,0),t.header&&w.meta&&(w.meta.fields=g),h+=r,w}()}function S(){return t.header&&0===g.length}function _(e,r){return n=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[n]&&(t.dynamicTyping[n]=t.dynamicTypingFunction(n)),!0===(t.dynamicTyping[n]||t.dynamicTyping)?"true"===r||"TRUE"===r||"false"!==r&&"FALSE"!==r&&(function(t){if(a.test(t)){var e=parseFloat(t);if(o<e&&e<s)return!0}return!1}(r)?parseFloat(r):u.test(r)?new Date(r):""===r?null:r):r;var n}function M(t,e,r,n){var s={type:t,code:e,message:r};void 0!==n&&(s.row=n),w.errors.push(s)}this.parse=function(s,o,a){var u=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var r=new RegExp(p(e)+"([^]*?)"+p(e),"gm"),n=(t=t.replace(r,"")).split("\r"),s=t.split("\n"),o=1<s.length&&s[0].length<n[0].length;if(1===n.length||o)return"\n";for(var i=0,a=0;a<n.length;a++)"\n"===n[a][0]&&i++;return i>=n.length/2?"\r\n":"\r"}(s,u)),n=!1,t.delimiter)x(t.delimiter)&&(t.delimiter=t.delimiter(s),w.meta.delimiter=t.delimiter);else{var l=function(e,r,n,s,o){var a,u,l,c;o=o||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var h=0;h<o.length;h++){var f=o[h],d=0,p=0,g=0;l=void 0;for(var w=new m({comments:s,delimiter:f,newline:r,preview:10}).parse(e),y=0;y<w.data.length;y++)if(n&&v(w.data[y]))g++;else{var b=w.data[y].length;p+=b,void 0!==l?0<b&&(d+=Math.abs(b-l),l=b):l=b}0<w.data.length&&(p/=w.data.length-g),(void 0===u||d<=u)&&(void 0===c||c<p)&&1.99<p&&(u=d,a=f,c=p)}return{successful:!!(t.delimiter=a),bestDelimiter:a}}(s,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);l.successful?t.delimiter=l.bestDelimiter:(n=!0,t.delimiter=i.DefaultDelimiter),w.meta.delimiter=t.delimiter}var c=b(t);return t.preview&&t.header&&c.preview++,e=s,r=new m(c),w=r.parse(e,o,a),E(),f?{meta:{paused:!0}}:w||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,r.abort(),e=x(t.chunk)?"":e.substring(r.getCharIndex())},this.resume=function(){l.streamer._halted?(f=!1,l.streamer.parseChunk(e,!0)):setTimeout(l.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,r.abort(),w.meta.aborted=!0,x(t.complete)&&t.complete(w),e=""}}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(t){var e,r=(t=t||{}).delimiter,n=t.newline,s=t.comments,o=t.step,a=t.preview,u=t.fastMode,l=e=void 0===t.quoteChar||null===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(l=t.escapeChar),("string"!=typeof r||-1<i.BAD_DELIMITERS.indexOf(r))&&(r=","),s===r)throw new Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<i.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var c=0,h=!1;this.parse=function(i,f,d){if("string"!=typeof i)throw new Error("Input must be a string");var m=i.length,g=r.length,w=n.length,y=s.length,b=x(o),v=[],E=[],S=[],_=c=0;if(!i)return W();if(t.header&&!f){var M=i.split(n)[0].split(r),R=[],k={},C=!1;for(var A in M){var O=M[A];x(t.transformHeader)&&(O=t.transformHeader(O,A));var T=O,P=k[O]||0;for(0<P&&(C=!0,T=O+"_"+P),k[O]=P+1;R.includes(T);)T=T+"_"+P;R.push(T)}if(C){var I=i.split(n);I[0]=R.join(r),i=I.join(n)}}if(u||!1!==u&&-1===i.indexOf(e)){for(var N=i.split(n),j=0;j<N.length;j++){if(S=N[j],c+=S.length,j!==N.length-1)c+=n.length;else if(d)return W();if(!s||S.substring(0,y)!==s){if(b){if(v=[],B(S.split(r)),K(),h)return W()}else B(S.split(r));if(a&&a<=j)return v=v.slice(0,a),W(!0)}}return W()}for(var D=i.indexOf(r,c),F=i.indexOf(n,c),L=new RegExp(p(l)+p(e),"g"),q=i.indexOf(e,c);;)if(i[c]!==e)if(s&&0===S.length&&i.substring(c,c+y)===s){if(-1===F)return W();c=F+w,F=i.indexOf(n,c),D=i.indexOf(r,c)}else if(-1!==D&&(D<F||-1===F))S.push(i.substring(c,D)),c=D+g,D=i.indexOf(r,c);else{if(-1===F)break;if(S.push(i.substring(c,F)),$(F+w),b&&(K(),h))return W();if(a&&v.length>=a)return W(!0)}else for(q=c,c++;;){if(-1===(q=i.indexOf(e,q+1)))return d||E.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:c}),H();if(q===m-1)return H(i.substring(c,q).replace(L,e));if(e!==l||i[q+1]!==l){if(e===l||0===q||i[q-1]!==l){-1!==D&&D<q+1&&(D=i.indexOf(r,q+1)),-1!==F&&F<q+1&&(F=i.indexOf(n,q+1));var z=V(-1===F?D:Math.min(D,F));if(i.substr(q+1+z,g)===r){S.push(i.substring(c,q).replace(L,e)),i[c=q+1+z+g]!==e&&(q=i.indexOf(e,c)),D=i.indexOf(r,c),F=i.indexOf(n,c);break}var U=V(F);if(i.substring(q+1+U,q+1+U+w)===n){if(S.push(i.substring(c,q).replace(L,e)),$(q+1+U+w),D=i.indexOf(r,c),q=i.indexOf(e,c),b&&(K(),h))return W();if(a&&v.length>=a)return W(!0);break}E.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:c}),q++}}else q++}return H();function B(t){v.push(t),_=c}function V(t){var e=0;if(-1!==t){var r=i.substring(q+1,t);r&&""===r.trim()&&(e=r.length)}return e}function H(t){return d||(void 0===t&&(t=i.substring(c)),S.push(t),c=m,B(S),b&&K()),W()}function $(t){c=t,B(S),S=[],F=i.indexOf(n,c)}function W(t){return{data:v,errors:E,meta:{delimiter:r,linebreak:n,aborted:h,truncated:!!t,cursor:_+(f||0)}}}function K(){o(W()),v=[],E=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return c}}function g(t){var e=t.data,r=s[e.workerId],n=!1;if(e.error)r.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){n=!0,w(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(x(r.userStep)){for(var i=0;i<e.results.data.length&&(r.userStep({data:e.results.data[i],errors:e.results.errors,meta:e.results.meta},o),!n);i++);delete e.results}else x(r.userChunk)&&(r.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!n&&w(e.workerId,e.results)}function w(t,e){var r=s[t];x(r.userComplete)&&r.userComplete(e),r.terminate(),delete s[t]}function y(){throw new Error("Not implemented.")}function b(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=b(t[r]);return e}function v(t,e){return function(){t.apply(e,arguments)}}function x(t){return"function"==typeof t}return n&&(e.onmessage=function(t){var r=t.data;if(void 0===i.WORKER_ID&&r&&(i.WORKER_ID=r.workerId),"string"==typeof r.input)e.postMessage({workerId:i.WORKER_ID,results:i.parse(r.input,r.config),finished:!0});else if(e.File&&r.input instanceof File||r.input instanceof Object){var n=i.parse(r.input,r.config);n&&e.postMessage({workerId:i.WORKER_ID,results:n,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(h.prototype=Object.create(h.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,i},void 0===(n=r.apply(e,[]))||(t.exports=n)},632:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n=r.p+"src/assets/data.csv"},300:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(s,o){function i(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,a)}u((n=n.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var r,n,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getRecommendations=e.fetchTrackPreview=void 0;var i=o(r(425)),a=function(t,e){return n(void 0,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:return r="https://api.spotify.com/v1/search?q=".concat(encodeURIComponent(t),"&type=track&limit=1"),[4,fetch(r,{headers:{Authorization:"Bearer ".concat(e)}})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent().tracks.items[0]]}}))}))};e.fetchTrackPreview=function(t){return n(void 0,void 0,void 0,(function(){var e,r,o;return s(this,(function(u){switch(u.label){case 0:return[4,n(void 0,void 0,void 0,(function(){var t,e,r,n,o,a,u;return s(this,(function(s){switch(s.label){case 0:localStorage.setItem("client_id","603a416e308c403a83bf7e33be362a1c"),localStorage.setItem("client_secret","5cb5ad810b0045cebc2fae3e4e8f58df"),t=localStorage.getItem("client_id"),e=localStorage.getItem("client_secret"),r="https://accounts.spotify.com/api/token",n="grant_type=client_credentials&client_id=".concat(t,"&client_secret=").concat(e),o={headers:{"Content-Type":"application/x-www-form-urlencoded"}},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,i.default.post(r,n,o)];case 2:return(a=s.sent()).data.access_token&&localStorage.setItem("access_token",a.data.access_token),[3,4];case 3:return u=s.sent(),console.error("Error fetching token:",u),[3,4];case 4:return[2]}}))}))];case 1:u.sent(),e=localStorage.getItem("access_token")||"",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,a(t,e)];case 3:return(r=u.sent())?[2,r.preview_url]:[3,5];case 4:return o=u.sent(),console.error("Error fetching track preview:",o),[3,5];case 5:return[2,null]}}))}))};var u=function(t,e){return n(void 0,void 0,void 0,(function(){var r,n,o,i;return s(this,(function(s){switch(s.label){case 0:r="https://api.spotify.com/v1/search?q=".concat(encodeURIComponent(t),"&type=track&limit=1"),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(r,{headers:{Authorization:"Bearer ".concat(e)}})];case 2:return[4,s.sent().json()];case 3:return n=s.sent(),[2,(o=n.tracks.items[0])?o.id:null];case 4:return i=s.sent(),console.error("Error fetching track ID:",i),[3,5];case 5:return[2,null]}}))}))};e.getRecommendations=function(t){return n(void 0,void 0,void 0,(function(){var e,r,n,o,i,a;return s(this,(function(s){switch(s.label){case 0:return e=localStorage.getItem("access_token")||"",[4,u(t.label,e)];case 1:r=s.sent()||"",n="https://api.spotify.com/v1/recommendations?seed_tracks=".concat(r,"&limit=10"),s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(n,{headers:{Authorization:"Bearer ".concat(e)}})];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),i=(o.tracks||[]).map((function(t){var e;return{name:t.name,artist:(null===(e=t.artists[0])||void 0===e?void 0:e.name)||"Unknown artist"}})),[2,i];case 5:return a=s.sent(),console.error("Error fetching recommendations:",a),[3,6];case 6:return[2,[]]}}))}))}},859:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(s,o){function i(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,a)}u((n=n.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var r,n,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(r(99)),a=r(114),u=o(r(959)),l=r(300),c=o(r(989));e.default=function(){return n(void 0,void 0,void 0,(function(){var t,e,r,o,h,f,d;return s(this,(function(p){switch(p.label){case 0:return t=document.querySelector("canvas"),[4,(0,c.default)()];case 1:return h=p.sent(),f={nodes:h.nodes,links:h.links,uiState:{isCanvasTouched:!1,isClickedOnNode:!1,mouseX:0,mouseY:0}},d=(0,i.default)(f,(function(t,n){switch(t){case"uiState.isCanvasTouched":(0,a.renderIsActiveCanvas)(n,f.nodes,f.links,e,r,o,f.uiState.isClickedOnNode,f.uiState.mouseX,f.uiState.mouseY);break;case"uiState.mouseY":(0,a.renderIsActiveCanvas)(f.uiState.isCanvasTouched,f.nodes,f.links,e,r,o,f.uiState.isClickedOnNode,f.uiState.mouseX,n)}})),t.addEventListener("click",(function(i){return n(void 0,void 0,void 0,(function(){var n,a,c;return s(this,(function(s){switch(s.label){case 0:return n=t.getBoundingClientRect(),a=i.clientX-n.left,c=i.clientY-n.top,(e=f.nodes.find((function(t){return(0,u.default)(a,c,t)})))?(d.uiState.isClickedOnNode=!!e,[4,(0,l.fetchTrackPreview)(e.label)]):(d.uiState.isCanvasTouched=!1,d.uiState.isClickedOnNode=!1,[2]);case 1:return r=s.sent()||"",[4,(0,l.getRecommendations)(e||"")];case 2:return o=s.sent(),d.uiState.isCanvasTouched=!0,d.uiState.mouseX=a,d.uiState.mouseY=c,[2]}}))}))})),(0,a.renderInitialCanvas)(f.nodes,f.links),[2]}}))}))}},156:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),(0,n(r(859)).default)()},989:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(s,o){function i(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,a)}u((n=n.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var r,n,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(823),a=o(r(337)),u=o(r(655)),l=r(177),c=r(177);e.default=function(){return n(void 0,void 0,void 0,(function(){var t,e,r;return s(this,(function(n){switch(n.label){case 0:return[4,(0,a.default)()];case 1:if(!(t=n.sent()))throw new Error("No data available");return e=function(t){var e,r=[],n=t.map((function(t){var e;return null!==(e=t.features)&&void 0!==e?e:[0,0]})),s=(0,i.kmeans)(n,7,{maxIterations:1e3,tolerance:1e-4}),o=s.centroids.map((function(t){return t[0]})),a=s.centroids.map((function(t){return t[1]})),u=Math.min.apply(Math,o),h=Math.max.apply(Math,o),f=Math.min.apply(Math,a),d=Math.max.apply(Math,a),p=window.innerWidth,m=window.innerHeight,g=400,w=new Map,y=t.sort((function(t,e){var r,n;return(null!==(r=e.spotifyStreams)&&void 0!==r?r:0)-(null!==(n=t.spotifyStreams)&&void 0!==n?n:0)})),b=y.length>0?null!==(e=y[0].spotifyStreams)&&void 0!==e?e:0:1;return t.forEach((function(t,e){var n=s.clusters[e],o=t.spotifyStreams,i=void 0===o?0:o,a=t.id,y=void 0===a?"":a,v=t.track,x=void 0===v?"":v,E=t.artist,S=void 0===E?"":E,_=t.releaseDate,M=void 0===_?"":_,R=t.albumName,k=void 0===R?"":R,C=t.amazonPlaylistCount,A=void 0===C?0:C,O=t.deezerPlaylistCount,T=void 0===O?0:O,P=t.spotifyPlaylistCount,I=void 0===P?0:P,N=(i/b).toFixed(3),j=(0,c.scaleCoordinate)(s.centroids[n][0],u,h,g,p-g),D=(0,c.scaleCoordinate)(s.centroids[n][1],f,d,g,m-g),F=Math.max(2,10*Number(N)),L=(0,l.generateUniqueCoordinates)(j,D,700,n,w),q=L.x,z=L.y;r.push({id:y.toString(),label:x,size:F,color:"#00f",artist:S,releaseDate:M,spotifyStreams:i,albumName:k,amazonPlaylistCount:A,deezerPlaylistCount:T,spotifyPlaylistCount:I,coordinates:{x:q,y:z}})})),r}(t),r=function(t){for(var e,r,n,s,o,i,a=[],l=0;l<t.length;l++)for(var c=l+1;c<t.length;c++){var h=null!==(e=t[l].features)&&void 0!==e?e:[],f=null!==(r=t[c].features)&&void 0!==r?r:[],d=(0,u.default)(h,f);d>.99999999&&a.push({source:null!==(s=null===(n=t[l].id)||void 0===n?void 0:n.toString())&&void 0!==s?s:"",target:null!==(i=null===(o=t[c].id)||void 0===o?void 0:o.toString())&&void 0!==i?i:"",value:d,color:"rgba(0, 0, 0, ".concat(d,")")})}return a}(t),[2,{nodes:e,links:r}]}}))}))}},337:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(s,o){function i(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,a)}u((n=n.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var r,n,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(r(98)),a=o(r(632)),u=o(r(779));e.default=function(){return n(void 0,void 0,void 0,(function(){var t,e;return s(this,(function(r){switch(r.label){case 0:return[4,n(void 0,void 0,void 0,(function(){var t,e;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(a.default)];case 1:return[4,r.sent().text()];case 2:return t=r.sent(),[2,i.default.parse(t,{header:!0,complete:function(t){return t.data}}).data];case 3:return e=r.sent(),console.error("  :",e),[3,4];case 4:return[2]}}))}))];case 1:return t=r.sent()||[],e=/^[a-zA-Z.()\s"']+$/,[2,t.filter((function(t){return e.test(t.Track||"")&&e.test(t.Artist||"")&&e.test(t["Album Name"]||"")})).map((function(t){var e=Number(t["Amazon Playlist Count"].replace(/,/g,""))||0,r=Number(t["Deezer Playlist Count"].replace(/,/g,""))||0,n=Number(t["Spotify Playlist Count"].replace(/,/g,""))||0,s=t["Spotify Streams"]||"0",o=t["Release Date"].split("/")||[],i=parseInt(s.replace(/,/g,""),10);return{track:t.Track,features:[Number(o[2]),e,r,n],spotifyStreams:i,id:Number((0,u.default)()),artist:t.Artist,releaseDate:t["Release Date"],albumName:t["Album Name"],amazonPlaylistCount:e,deezerPlaylistCount:r,spotifyPlaylistCount:n}}))]}}))}))}},114:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.renderInitialCanvas=e.renderIsActiveCanvas=void 0;var s=n(r(398)),o=document.querySelector("canvas"),i=o.getContext("2d"),a=document.getElementById("error-message"),u=document.getElementById("tooltip"),l=document.getElementById("recommendations-container"),c=document.getElementById("recommendations-title"),h=document.getElementById("recommendations"),f=document.getElementById("track-prev"),d=document.getElementById("audio-player"),p=document.getElementById("audio-source"),m=function(){o.width=window.innerWidth,o.height=window.innerHeight},g=function(t,e){window.onresize=m,m(),e.forEach((function(e){var r=(0,s.default)(e.source,t),n=(0,s.default)(e.target,t);r&&n&&(i.beginPath(),i.moveTo(r.coordinates.x,r.coordinates.y),i.lineTo(n.coordinates.x,n.coordinates.y),i.strokeStyle=e.color,i.lineWidth=Math.max(1,5*e.value)/100,i.stroke())})),t.forEach((function(t){i.beginPath(),i.arc(t.coordinates.x,t.coordinates.y,t.size,0,2*Math.PI,!0),i.fillStyle=t.color,i.fill()}))};e.renderInitialCanvas=g,e.renderIsActiveCanvas=function(t,e,r,n,m,w,y,b,v){if(d&&d.pause(),f&&(f.style.display="none"),function(t){t.forEach((function(t){t.highlighted=!1,t.color="rgba(0, 0, 0, ".concat(t.value,")")}))}(r),!t)return g(e,r),u&&(u.style.display="none"),f&&(f.style.display="none"),a&&(a.style.display="none"),void(l&&(l.style.display="none"));var x,E,S;y&&(x=n,E=b,S=v,u.style.display="block",u.innerHTML="\n    <strong>Track:</strong> ".concat(x.label,"<br>\n    <strong>Artist:</strong> ").concat(x.artist,"<br>\n    <strong>Album:</strong> ").concat(x.albumName,"<br>\n    <strong>Spotify Streams:</strong> ").concat(x.spotifyStreams,"<br>\n    <strong>Amazon Playlists:</strong> ").concat(x.amazonPlaylistCount,"<br>\n    <strong>Deezer Playlists:</strong> ").concat(x.deezerPlaylistCount,"<br>\n    <strong>Spotify Playlists:</strong> ").concat(x.spotifyPlaylistCount,"<br>\n    <strong>Release Date:</strong> ").concat(x.releaseDate,"\n  "),u.style.left="".concat(E+15,"px"),u.style.top="".concat(S+15,"px"),e.forEach((function(t){t.highlighted=t.id===n.id})),function(t,e){e.forEach((function(e){e.source===t||e.target===t?(e.highlighted=!0,e.color="red"):e.highlighted=!1}))}(n.id,r),function(t,e){i.clearRect(0,0,o.width,o.height),t.forEach((function(t){i.beginPath(),i.arc(t.coordinates.x,t.coordinates.y,t.size,0,2*Math.PI),i.fillStyle=t.highlighted?"red":t.color,i.fill(),i.stroke()})),e.forEach((function(e){var r=(0,s.default)(e.source,t),n=(0,s.default)(e.target,t),o=e.highlighted;r&&n&&(i.beginPath(),i.moveTo(r.coordinates.x,r.coordinates.y),i.lineTo(n.coordinates.x,n.coordinates.y),i.strokeStyle=e.color,i.lineWidth=o?Math.max(1,5*e.value)/10:Math.max(1,5*e.value)/100,i.stroke())}))}(e,r)),w?(function(t,e){l&&(l.style.display="block"),c&&(c.textContent="   ".concat(e.label," ").concat(e.artist)),h&&(h.innerHTML="",t.length>0&&t.forEach((function(t){var e=document.createElement("li");e.textContent="".concat(t.name," by ").concat(t.artist),h.appendChild(e)})))}(w,n),a&&(a.style.display="none")):a&&(a.style.display="block"),m?(function(t){f&&(f.style.display="block"),p&&(p.src=t,d&&(d.load(),d.addEventListener("canplay",(function(){d.play().catch((function(t){console.error(" :",t)}))}))))}(m),a&&(a.style.display="none")):a&&(a.style.display="block",a.textContent="  ".concat(n.label," ").concat(n.artist,"  "))}},177:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scaleCoordinate=e.generateUniqueCoordinates=void 0,e.generateUniqueCoordinates=function(t,e,r,n,s){for(var o=!1,i=0,a=0;!o;){i=t+(Math.random()-.5)*r,a=e+(Math.random()-.5)*r;var u="".concat(i.toFixed(2),"-").concat(a.toFixed(2));s.has(u)||(s.set(u,n),o=!0)}return{x:i,y:a}},e.scaleCoordinate=function(t,e,r,n,s){return n+(t-e)/(r-e)*(s-n)}},655:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.reduce((function(t,r,n){return t+r*e[n]}),0)/(Math.sqrt(t.reduce((function(t,e){return t+e*e}),0))*Math.sqrt(e.reduce((function(t,e){return t+e*e}),0)))}},398:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return e.find((function(e){return e.id===t}))}},959:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=t-r.coordinates.x,s=e-r.coordinates.y;return n*n+s*s<=r.size*r.size}},425:(t,e,r)=>{"use strict";function n(t,e){return function(){return t.apply(e,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:o}=Object,i=(a=Object.create(null),t=>{const e=s.call(t);return a[e]||(a[e]=e.slice(8,-1).toLowerCase())});var a;const u=t=>(t=t.toLowerCase(),e=>i(e)===t),l=t=>e=>typeof e===t,{isArray:c}=Array,h=l("undefined"),f=u("ArrayBuffer"),d=l("string"),p=l("function"),m=l("number"),g=t=>null!==t&&"object"==typeof t,w=t=>{if("object"!==i(t))return!1;const e=o(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},y=u("Date"),b=u("File"),v=u("Blob"),x=u("FileList"),E=u("URLSearchParams"),[S,_,M,R]=["ReadableStream","Request","Response","Headers"].map(u);function k(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,s;if("object"!=typeof t&&(t=[t]),c(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let i;for(n=0;n<o;n++)i=s[n],e.call(null,t[i],i,t)}}function C(t,e){e=e.toLowerCase();const r=Object.keys(t);let n,s=r.length;for(;s-- >0;)if(n=r[s],e===n.toLowerCase())return n;return null}const A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,O=t=>!h(t)&&t!==A,T=(P="undefined"!=typeof Uint8Array&&o(Uint8Array),t=>P&&t instanceof P);var P;const I=u("HTMLFormElement"),N=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),j=u("RegExp"),D=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};k(r,((r,s)=>{let o;!1!==(o=e(r,s,t))&&(n[s]=o||r)})),Object.defineProperties(t,n)},F="abcdefghijklmnopqrstuvwxyz",L="0123456789",q={DIGIT:L,ALPHA:F,ALPHA_DIGIT:F+F.toUpperCase()+L},z=u("AsyncFunction"),U=(B="function"==typeof setImmediate,V=p(A.postMessage),B?setImmediate:V?(H=`axios@${Math.random()}`,$=[],A.addEventListener("message",(({source:t,data:e})=>{t===A&&e===H&&$.length&&$.shift()()}),!1),t=>{$.push(t),A.postMessage(H,"*")}):t=>setTimeout(t));var B,V,H,$;const W="undefined"!=typeof queueMicrotask?queueMicrotask.bind(A):"undefined"!=typeof process&&process.nextTick||U;var K={isArray:c,isArrayBuffer:f,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&p(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||p(t.append)&&("formdata"===(e=i(t))||"object"===e&&p(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&f(t.buffer),e},isString:d,isNumber:m,isBoolean:t=>!0===t||!1===t,isObject:g,isPlainObject:w,isReadableStream:S,isRequest:_,isResponse:M,isHeaders:R,isUndefined:h,isDate:y,isFile:b,isBlob:v,isRegExp:j,isFunction:p,isStream:t=>g(t)&&p(t.pipe),isURLSearchParams:E,isTypedArray:T,isFileList:x,forEach:k,merge:function t(){const{caseless:e}=O(this)&&this||{},r={},n=(n,s)=>{const o=e&&C(r,s)||s;w(r[o])&&w(n)?r[o]=t(r[o],n):w(n)?r[o]=t({},n):c(n)?r[o]=n.slice():r[o]=n};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&k(arguments[t],n);return r},extend:(t,e,r,{allOwnKeys:s}={})=>(k(e,((e,s)=>{r&&p(e)?t[s]=n(e,r):t[s]=e}),{allOwnKeys:s}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let s,i,a;const u={};if(e=e||{},null==t)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],n&&!n(a,t,e)||u[a]||(e[a]=t[a],u[a]=!0);t=!1!==r&&o(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:i,kindOfTest:u,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(c(t))return t;let e=t.length;if(!m(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:I,hasOwnProperty:N,hasOwnProp:N,reduceDescriptors:D,freezeMethods:t=>{D(t,((e,r)=>{if(p(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];p(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach((t=>{r[t]=!0}))};return c(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:C,global:A,isContextDefined:O,ALPHABET:q,generateString:(t=16,e=q.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r},isSpecCompliantForm:function(t){return!!(t&&p(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),r=(t,n)=>{if(g(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const s=c(t)?[]:{};return k(t,((t,e)=>{const o=r(t,n+1);!h(o)&&(s[e]=o)})),e[n]=void 0,s}}return t};return r(t,0)},isAsyncFn:z,isThenable:t=>t&&(g(t)||p(t))&&p(t.then)&&p(t.catch),setImmediate:U,asap:W};function J(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}K.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const G=J.prototype,X={};function Q(t){return K.isPlainObject(t)||K.isArray(t)}function Y(t){return K.endsWith(t,"[]")?t.slice(0,-2):t}function Z(t,e,r){return t?t.concat(e).map((function(t,e){return t=Y(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{X[t]={value:t}})),Object.defineProperties(J,X),Object.defineProperty(G,"isAxiosError",{value:!0}),J.from=(t,e,r,n,s,o)=>{const i=Object.create(G);return K.toFlatObject(t,i,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),J.call(i,t.message,e,r,n,s),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const tt=K.toFlatObject(K,{},null,(function(t){return/^is[A-Z]/.test(t)}));function et(t,e,r){if(!K.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const n=(r=K.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!K.isUndefined(e[t])}))).metaTokens,s=r.visitor||l,o=r.dots,i=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(s))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(K.isDate(t))return t.toISOString();if(!a&&K.isBlob(t))throw new J("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(t)||K.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function l(t,r,s){let a=t;if(t&&!s&&"object"==typeof t)if(K.endsWith(r,"{}"))r=n?r:r.slice(0,-2),t=JSON.stringify(t);else if(K.isArray(t)&&function(t){return K.isArray(t)&&!t.some(Q)}(t)||(K.isFileList(t)||K.endsWith(r,"[]"))&&(a=K.toArray(t)))return r=Y(r),a.forEach((function(t,n){!K.isUndefined(t)&&null!==t&&e.append(!0===i?Z([r],n,o):null===i?r:r+"[]",u(t))})),!1;return!!Q(t)||(e.append(Z(s,r,o),u(t)),!1)}const c=[],h=Object.assign(tt,{defaultVisitor:l,convertValue:u,isVisitable:Q});if(!K.isObject(t))throw new TypeError("data must be an object");return function t(r,n){if(!K.isUndefined(r)){if(-1!==c.indexOf(r))throw Error("Circular reference detected in "+n.join("."));c.push(r),K.forEach(r,(function(r,o){!0===(!(K.isUndefined(r)||null===r)&&s.call(e,r,K.isString(o)?o.trim():o,n,h))&&t(r,n?n.concat(o):[o])})),c.pop()}}(t),e}function rt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function nt(t,e){this._pairs=[],t&&et(t,this,e)}const st=nt.prototype;function ot(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function it(t,e,r){if(!e)return t;const n=r&&r.encode||ot,s=r&&r.serialize;let o;if(o=s?s(e,r):K.isURLSearchParams(e)?e.toString():new nt(e,r).toString(n),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}st.append=function(t,e){this._pairs.push([t,e])},st.toString=function(t){const e=t?function(e){return t.call(this,e,rt)}:rt;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var at=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},ut={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:nt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const ct="undefined"!=typeof window&&"undefined"!=typeof document,ht=(ft="undefined"!=typeof navigator&&navigator.product,ct&&["ReactNative","NativeScript","NS"].indexOf(ft)<0);var ft;const dt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,pt=ct&&window.location.href||"http://localhost";var mt={...Object.freeze({__proto__:null,hasBrowserEnv:ct,hasStandardBrowserWebWorkerEnv:dt,hasStandardBrowserEnv:ht,origin:pt}),...lt};function gt(t){function e(t,r,n,s){let o=t[s++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),a=s>=t.length;return o=!o&&K.isArray(n)?n.length:o,a?(K.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!i):(n[o]&&K.isObject(n[o])||(n[o]=[]),e(t,r,n[o],s)&&K.isArray(n[o])&&(n[o]=function(t){const e={},r=Object.keys(t);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],e[o]=t[o];return e}(n[o])),!i)}if(K.isFormData(t)&&K.isFunction(t.entries)){const r={};return K.forEachEntry(t,((t,n)=>{e(function(t){return K.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),n,r,0)})),r}return null}const wt={transitional:ut,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,s=K.isObject(t);if(s&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return n?JSON.stringify(gt(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return et(t,new mt.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,n){return mt.isNode&&K.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=K.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return et(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return s||n?(e.setContentType("application/json",!1),function(t){if(K.isString(t))try{return(0,JSON.parse)(t),K.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||wt.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(r&&!this.responseType||n)){const r=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw J.from(t,J.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mt.classes.FormData,Blob:mt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],(t=>{wt.headers[t]={}}));var yt=wt;const bt=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vt=Symbol("internals");function xt(t){return t&&String(t).trim().toLowerCase()}function Et(t){return!1===t||null==t?t:K.isArray(t)?t.map(Et):String(t)}function St(t,e,r,n,s){return K.isFunction(n)?n.call(this,e,r):(s&&(e=r),K.isString(e)?K.isString(n)?-1!==e.indexOf(n):K.isRegExp(n)?n.test(e):void 0:void 0)}class _t{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function s(t,e,r){const s=xt(e);if(!s)throw new Error("header name must be a non-empty string");const o=K.findKey(n,s);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||e]=Et(t))}const o=(t,e)=>K.forEach(t,((t,r)=>s(t,r,e)));if(K.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(K.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))o((t=>{const e={};let r,n,s;return t&&t.split("\n").forEach((function(t){s=t.indexOf(":"),r=t.substring(0,s).trim().toLowerCase(),n=t.substring(s+1).trim(),!r||e[r]&&bt[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e})(t),e);else if(K.isHeaders(t))for(const[e,n]of t.entries())s(n,e,r);else null!=t&&s(e,t,r);return this}get(t,e){if(t=xt(t)){const r=K.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(K.isFunction(e))return e.call(this,t,r);if(K.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=xt(t)){const r=K.findKey(this,t);return!(!r||void 0===this[r]||e&&!St(0,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function s(t){if(t=xt(t)){const s=K.findKey(r,t);!s||e&&!St(0,r[s],s,e)||(delete r[s],n=!0)}}return K.isArray(t)?t.forEach(s):s(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;for(;r--;){const s=e[r];t&&!St(0,this[s],s,t,!0)||(delete this[s],n=!0)}return n}normalize(t){const e=this,r={};return K.forEach(this,((n,s)=>{const o=K.findKey(r,s);if(o)return e[o]=Et(n),void delete e[s];const i=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}(s):String(s).trim();i!==s&&delete e[s],e[i]=Et(n),r[i]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return K.forEach(this,((r,n)=>{null!=r&&!1!==r&&(e[n]=t&&K.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=(this[vt]=this[vt]={accessors:{}}).accessors,r=this.prototype;function n(t){const n=xt(t);e[n]||(function(t,e){const r=K.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+r,{value:function(t,r,s){return this[n].call(this,e,t,r,s)},configurable:!0})}))}(r,t),e[n]=!0)}return K.isArray(t)?t.forEach(n):n(t),this}}_t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),K.reduceDescriptors(_t.prototype,(({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}})),K.freezeMethods(_t);var Mt=_t;function Rt(t,e){const r=this||yt,n=e||r,s=Mt.from(n.headers);let o=n.data;return K.forEach(t,(function(t){o=t.call(r,o,s.normalize(),e?e.status:void 0)})),s.normalize(),o}function kt(t){return!(!t||!t.__CANCEL__)}function Ct(t,e,r){J.call(this,null==t?"canceled":t,J.ERR_CANCELED,e,r),this.name="CanceledError"}function At(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new J("Request failed with status code "+r.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}K.inherits(Ct,J,{__CANCEL__:!0});const Ot=(t,e,r=3)=>{let n=0;const s=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s,o=0,i=0;return e=void 0!==e?e:1e3,function(a){const u=Date.now(),l=n[i];s||(s=u),r[o]=a,n[o]=u;let c=i,h=0;for(;c!==o;)h+=r[c++],c%=t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),u-s<e)return;const f=l&&u-l;return f?Math.round(1e3*h/f):void 0}}(50,250);return function(t,e){let r,n,s=0,o=1e3/e;const i=(e,o=Date.now())=>{s=o,r=null,n&&(clearTimeout(n),n=null),t.apply(null,e)};return[(...t)=>{const e=Date.now(),a=e-s;a>=o?i(t,e):(r=t,n||(n=setTimeout((()=>{n=null,i(r)}),o-a)))},()=>r&&i(r)]}((r=>{const o=r.loaded,i=r.lengthComputable?r.total:void 0,a=o-n,u=s(a);n=o,t({loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:u||void 0,estimated:u&&i&&o<=i?(i-o)/u:void 0,event:r,lengthComputable:null!=i,[e?"download":"upload"]:!0})}),r)},Tt=(t,e)=>{const r=null!=t;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Pt=t=>(...e)=>K.asap((()=>t(...e)));var It=mt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function n(r){let n=r;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return r=n(window.location.href),function(t){const e=K.isString(t)?n(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return!0},Nt=mt.hasStandardBrowserEnv?{write(t,e,r,n,s,o){const i=[t+"="+encodeURIComponent(e)];K.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),K.isString(n)&&i.push("path="+n),K.isString(s)&&i.push("domain="+s),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function jt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Dt=t=>t instanceof Mt?{...t}:t;function Ft(t,e){e=e||{};const r={};function n(t,e,r){return K.isPlainObject(t)&&K.isPlainObject(e)?K.merge.call({caseless:r},t,e):K.isPlainObject(e)?K.merge({},e):K.isArray(e)?e.slice():e}function s(t,e,r){return K.isUndefined(e)?K.isUndefined(t)?void 0:n(void 0,t,r):n(t,e,r)}function o(t,e){if(!K.isUndefined(e))return n(void 0,e)}function i(t,e){return K.isUndefined(e)?K.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,s,o){return o in e?n(r,s):o in t?n(void 0,r):void 0}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(t,e)=>s(Dt(t),Dt(e),!0)};return K.forEach(Object.keys(Object.assign({},t,e)),(function(n){const o=u[n]||s,i=o(t[n],e[n],n);K.isUndefined(i)&&o!==a||(r[n]=i)})),r}var Lt=t=>{const e=Ft({},t);let r,{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:u}=e;if(e.headers=a=Mt.from(a),e.url=it(jt(e.baseURL,e.url),t.params,t.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),K.isFormData(n))if(mt.hasStandardBrowserEnv||mt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[t,...e]=r?r.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(mt.hasStandardBrowserEnv&&(s&&K.isFunction(s)&&(s=s(e)),s||!1!==s&&It(e.url))){const t=o&&i&&Nt.read(i);t&&a.set(o,t)}return e},qt="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,r){const n=Lt(t);let s=n.data;const o=Mt.from(n.headers).normalize();let i,a,u,l,c,{responseType:h,onUploadProgress:f,onDownloadProgress:d}=n;function p(){l&&l(),c&&c(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const n=Mt.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());At((function(t){e(t),p()}),(function(t){r(t),p()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:t,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(r(new J("Request aborted",J.ECONNABORTED,t,m)),m=null)},m.onerror=function(){r(new J("Network Error",J.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const s=n.transitional||ut;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new J(e,s.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,t,m)),m=null},void 0===s&&o.setContentType(null),"setRequestHeader"in m&&K.forEach(o.toJSON(),(function(t,e){m.setRequestHeader(e,t)})),K.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),h&&"json"!==h&&(m.responseType=n.responseType),d&&([u,c]=Ot(d,!0),m.addEventListener("progress",u)),f&&m.upload&&([a,l]=Ot(f),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",l)),(n.cancelToken||n.signal)&&(i=e=>{m&&(r(!e||e.type?new Ct(null,t,m):e),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const w=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(n.url);w&&-1===mt.protocols.indexOf(w)?r(new J("Unsupported protocol "+w+":",J.ERR_BAD_REQUEST,t)):m.send(s||null)}))},zt=(t,e)=>{let r,n=new AbortController;const s=function(t){if(!r){r=!0,i();const e=t instanceof Error?t:this.reason;n.abort(e instanceof J?e:new Ct(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{s(new J(`timeout ${e} of ms exceeded`,J.ETIMEDOUT))}),e);const i=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t&&(t.removeEventListener?t.removeEventListener("abort",s):t.unsubscribe(s))})),t=null)};t.forEach((t=>t&&t.addEventListener&&t.addEventListener("abort",s)));const{signal:a}=n;return a.unsubscribe=i,[a,()=>{o&&clearTimeout(o),o=null}]};const Ut=function*(t,e){let r=t.byteLength;if(!e||r<e)return void(yield t);let n,s=0;for(;s<r;)n=s+e,yield t.slice(s,n),s=n},Bt=(t,e,r,n,s)=>{const o=async function*(t,e,r){for await(const n of t)yield*Ut(ArrayBuffer.isView(n)?n:await r(String(n)),e)}(t,e,s);let i,a=0,u=t=>{i||(i=!0,n&&n(t))};return new ReadableStream({async pull(t){try{const{done:e,value:n}=await o.next();if(e)return u(),void t.close();let s=n.byteLength;if(r){let t=a+=s;r(t)}t.enqueue(new Uint8Array(n))}catch(t){throw u(t),t}},cancel:t=>(u(t),o.return())},{highWaterMark:2})},Vt="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ht=Vt&&"function"==typeof ReadableStream,$t=Vt&&("function"==typeof TextEncoder?(Wt=new TextEncoder,t=>Wt.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var Wt;const Kt=(t,...e)=>{try{return!!t(...e)}catch(t){return!1}},Jt=Ht&&Kt((()=>{let t=!1;const e=new Request(mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),Gt=Ht&&Kt((()=>K.isReadableStream(new Response("").body))),Xt={stream:Gt&&(t=>t.body)};var Qt;Vt&&(Qt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!Xt[t]&&(Xt[t]=K.isFunction(Qt[t])?e=>e[t]():(e,r)=>{throw new J(`Response type '${t}' is not supported`,J.ERR_NOT_SUPPORT,r)})})));const Yt={http:null,xhr:qt,fetch:Vt&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:u,responseType:l,headers:c,withCredentials:h="same-origin",fetchOptions:f}=Lt(t);l=l?(l+"").toLowerCase():"text";let d,p,[m,g]=s||o||i?zt([s,o],i):[];const w=()=>{!d&&setTimeout((()=>{m&&m.unsubscribe()})),d=!0};let y;try{if(u&&Jt&&"get"!==r&&"head"!==r&&0!==(y=await(async(t,e)=>{const r=K.toFiniteNumber(t.getContentLength());return null==r?(async t=>null==t?0:K.isBlob(t)?t.size:K.isSpecCompliantForm(t)?(await new Request(t).arrayBuffer()).byteLength:K.isArrayBufferView(t)||K.isArrayBuffer(t)?t.byteLength:(K.isURLSearchParams(t)&&(t+=""),K.isString(t)?(await $t(t)).byteLength:void 0))(e):r})(c,n))){let t,r=new Request(e,{method:"POST",body:n,duplex:"half"});if(K.isFormData(n)&&(t=r.headers.get("content-type"))&&c.setContentType(t),r.body){const[t,e]=Tt(y,Ot(Pt(u)));n=Bt(r.body,65536,t,e,$t)}}K.isString(h)||(h=h?"include":"omit"),p=new Request(e,{...f,signal:m,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:h});let s=await fetch(p);const o=Gt&&("stream"===l||"response"===l);if(Gt&&(a||o)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=s[e]}));const e=K.toFiniteNumber(s.headers.get("content-length")),[r,n]=a&&Tt(e,Ot(Pt(a),!0))||[];s=new Response(Bt(s.body,65536,r,(()=>{n&&n(),o&&w()}),$t),t)}l=l||"text";let i=await Xt[K.findKey(Xt,l)||"text"](s,t);return!o&&w(),g&&g(),await new Promise(((e,r)=>{At(e,r,{data:i,headers:Mt.from(s.headers),status:s.status,statusText:s.statusText,config:t,request:p})}))}catch(e){if(w(),e&&"TypeError"===e.name&&/fetch/i.test(e.message))throw Object.assign(new J("Network Error",J.ERR_NETWORK,t,p),{cause:e.cause||e});throw J.from(e,e&&e.code,t,p)}})};K.forEach(Yt,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const Zt=t=>`- ${t}`,te=t=>K.isFunction(t)||null===t||!1===t;var ee=t=>{t=K.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let o=0;o<e;o++){let e;if(r=t[o],n=r,!te(r)&&(n=Yt[(e=String(r)).toLowerCase()],void 0===n))throw new J(`Unknown adapter '${e}'`);if(n)break;s[e||"#"+o]=n}if(!n){const t=Object.entries(s).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));throw new J("There is no suitable adapter to dispatch the request "+(e?t.length>1?"since :\n"+t.map(Zt).join("\n"):" "+Zt(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function re(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ct(null,t)}function ne(t){return re(t),t.headers=Mt.from(t.headers),t.data=Rt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ee(t.adapter||yt.adapter)(t).then((function(e){return re(t),e.data=Rt.call(t,t.transformResponse,e),e.headers=Mt.from(e.headers),e}),(function(e){return kt(e)||(re(t),e&&e.response&&(e.response.data=Rt.call(t,t.transformResponse,e.response),e.response.headers=Mt.from(e.response.headers))),Promise.reject(e)}))}const se={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{se[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const oe={};se.transitional=function(t,e,r){function n(t,e){return"[Axios v1.7.3] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,s,o)=>{if(!1===t)throw new J(n(s," has been removed"+(e?" in "+e:"")),J.ERR_DEPRECATED);return e&&!oe[s]&&(oe[s]=!0,console.warn(n(s," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,s,o)}};var ie={assertOptions:function(t,e,r){if("object"!=typeof t)throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const o=n[s],i=e[o];if(i){const e=t[o],r=void 0===e||i(e,o,t);if(!0!==r)throw new J("option "+o+" must be "+r,J.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new J("Unknown option "+o,J.ERR_BAD_OPTION)}},validators:se};const ae=ie.validators;class ue{constructor(t){this.defaults=t,this.interceptors={request:new at,response:new at}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const r=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?r&&!String(t.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+r):t.stack=r}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Ft(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:s}=e;void 0!==r&&ie.assertOptions(r,{silentJSONParsing:ae.transitional(ae.boolean),forcedJSONParsing:ae.transitional(ae.boolean),clarifyTimeoutError:ae.transitional(ae.boolean)},!1),null!=n&&(K.isFunction(n)?e.paramsSerializer={serialize:n}:ie.assertOptions(n,{encode:ae.function,serialize:ae.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=s&&K.merge(s.common,s[e.method]);s&&K.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete s[t]})),e.headers=Mt.concat(o,s);const i=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,i.unshift(t.fulfilled,t.rejected))}));const u=[];let l;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let c,h=0;if(!a){const t=[ne.bind(this),void 0];for(t.unshift.apply(t,i),t.push.apply(t,u),c=t.length,l=Promise.resolve(e);h<c;)l=l.then(t[h++],t[h++]);return l}c=i.length;let f=e;for(h=0;h<c;){const t=i[h++],e=i[h++];try{f=t(f)}catch(t){e.call(this,t);break}}try{l=ne.call(this,f)}catch(t){return Promise.reject(t)}for(h=0,c=u.length;h<c;)l=l.then(u[h++],u[h++]);return l}getUri(t){return it(jt((t=Ft(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}K.forEach(["delete","get","head","options"],(function(t){ue.prototype[t]=function(e,r){return this.request(Ft(r||{},{method:t,url:e,data:(r||{}).data}))}})),K.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,s){return this.request(Ft(s||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}ue.prototype[t]=e(),ue.prototype[t+"Form"]=e(!0)}));var le=ue;class ce{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,s){r.reason||(r.reason=new Ct(t,n,s),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new ce((function(e){t=e})),cancel:t}}}var he=ce;const fe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fe).forEach((([t,e])=>{fe[e]=t}));var de=fe;const pe=function t(e){const r=new le(e),s=n(le.prototype.request,r);return K.extend(s,le.prototype,r,{allOwnKeys:!0}),K.extend(s,r,null,{allOwnKeys:!0}),s.create=function(r){return t(Ft(e,r))},s}(yt);pe.Axios=le,pe.CanceledError=Ct,pe.CancelToken=he,pe.isCancel=kt,pe.VERSION="1.7.3",pe.toFormData=et,pe.AxiosError=J,pe.Cancel=pe.CanceledError,pe.all=function(t){return Promise.all(t)},pe.spread=function(t){return function(e){return t.apply(null,e)}},pe.isAxiosError=function(t){return K.isObject(t)&&!0===t.isAxiosError},pe.mergeConfig=Ft,pe.AxiosHeaders=Mt,pe.formToJSON=t=>gt(K.isHTMLForm(t)?new FormData(t):t),pe.getAdapter=ee,pe.HttpStatusCode=de,pe.default=pe,t.exports=pe},99:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>L});const n=".",s=Symbol("target"),o=Symbol("unsubscribe");function i(t){return t instanceof Date||t instanceof Set||t instanceof Map||t instanceof WeakSet||t instanceof WeakMap||ArrayBuffer.isView(t)}const a=Array.isArray;function u(t){return"symbol"==typeof t}const l={after:(t,e)=>a(t)?t.slice(e.length):""===e?t:t.slice(e.length+1),concat:(t,e)=>a(t)?(t=[...t],e&&t.push(e),t):e&&void 0!==e.toString?(""!==t&&(t+=n),u(e)?t+e.toString():t+e):t,initial(t){if(a(t))return t.slice(0,-1);if(""===t)return t;const e=t.lastIndexOf(n);return-1===e?"":t.slice(0,e)},last(t){if(a(t))return t.at(-1)??"";if(""===t)return t;const e=t.lastIndexOf(n);return-1===e?t:t.slice(e+1)},walk(t,e){if(a(t))for(const r of t)e(r);else if(""!==t){let r=0,s=t.indexOf(n);if(-1===s)e(t);else for(;r<t.length;)-1===s&&(s=t.length),e(t.slice(r,s)),r=s+1,s=t.indexOf(n,r)}},get(t,e){return this.walk(e,(e=>{t&&(t=t[e])})),t},isSubPath(t,e){if(a(t)){if(t.length<e.length)return!1;for(let r=0;r<e.length;r++)if(t[r]!==e[r])return!1;return!0}return!(t.length<e.length||t!==e&&(!t.startsWith(e)||t[e.length]!==n))},isRootPath:t=>a(t)?0===t.length:""===t};function c(t,e,r){return t.isUnsubscribed||e.ignoreSymbols&&u(r)||e.ignoreUnderscores&&"_"===r.charAt(0)||"ignoreKeys"in e&&e.ignoreKeys.includes(r)}class h{constructor(t){this._equals=t,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return void 0===this._descriptorCache&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(t){const e=this._getDescriptorCache();let r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r}_getOwnPropertyDescriptor(t,e){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(t,e);const r=this._getProperties(t);let n=r[e];return void 0===n&&(n=Reflect.getOwnPropertyDescriptor(t,e),r[e]=n),n}getProxy(t,e,r,n){if(this.isUnsubscribed)return t;const s=t[n],o=s??t;this._pathCache.set(o,e);let i=this._proxyCache.get(o);return void 0===i&&(i=void 0===s?new Proxy(t,r):t,this._proxyCache.set(o,i)),i}getPath(t){return this.isUnsubscribed?void 0:this._pathCache.get(t)}isDetached(t,e){return!Object.is(t,l.get(e,this.getPath(t)))}defineProperty(t,e,r){return!!Reflect.defineProperty(t,e,r)&&(this.isUnsubscribed||(this._getProperties(t)[e]=r),!0)}setProperty(t,e,r,n,s){if(!this._equals(s,r)||!(e in t)){const s=this._getOwnPropertyDescriptor(t,e);return void 0!==s&&"set"in s?Reflect.set(t,e,r,n):Reflect.set(t,e,r)}return!0}deleteProperty(t,e,r){if(Reflect.deleteProperty(t,e)){if(!this.isUnsubscribed){const n=this._getDescriptorCache().get(t);n&&(delete n[e],this._pathCache.delete(r))}return!0}return!1}isSameDescriptor(t,e,r){const n=this._getOwnPropertyDescriptor(e,r);return void 0!==t&&void 0!==n&&Object.is(t.value,n.value)&&(t.writable||!1)===(n.writable||!1)&&(t.enumerable||!1)===(n.enumerable||!1)&&(t.configurable||!1)===(n.configurable||!1)&&t.get===n.get&&t.set===n.set}isGetInvariant(t,e){const r=this._getOwnPropertyDescriptor(t,e);return void 0!==r&&!0!==r.configurable&&!0!==r.writable}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}}function f(t){return"[object Object]"===toString.call(t)}function d(){return!0}function p(t,e){return t.length!==e.length||t.some(((t,r)=>e[r]!==t))}const m=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),g=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),w={push:d,pop:d,shift:d,unshift:d,copyWithin:p,reverse:p,sort:p,splice:p,flat:p,fill:p},y=new Set([...m,...g,...Object.keys(w)]);function b(t,e){if(t.size!==e.size)return!0;for(const r of t)if(!e.has(r))return!0;return!1}const v=["keys","values","entries"],x=new Set(["has","toString"]),E={add:b,clear:b,delete:b,forEach:b},S=new Set([...x,...Object.keys(E),...v]);function _(t,e){if(t.size!==e.size)return!0;let r;for(const[n,s]of t)if(r=e.get(n),r!==s||void 0===r&&!e.has(n))return!0;return!1}const M=new Set([...x,"get"]),R={set:_,clear:_,delete:_,forEach:_},k=new Set([...M,...Object.keys(R),...v]);class C{constructor(t,e,r,n){this._path=e,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=n,this._changes=n?[]:null,this.clone=void 0===e?t:this._shallowClone(t)}static isHandledMethod(t){return m.has(t)}_shallowClone(t){let e=t;if(f(t))e={...t};else if(a(t)||ArrayBuffer.isView(t))e=[...t];else if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set([...t].map((t=>this._shallowClone(t))));else if(t instanceof Map){e=new Map;for(const[r,n]of t.entries())e.set(r,this._shallowClone(n))}return this._clonedCache.add(e),e}preferredThisArg(t,e,r,n){return t?(a(n)?this._onIsChanged=w[e]:n instanceof Set?this._onIsChanged=E[e]:n instanceof Map&&(this._onIsChanged=R[e]),n):r}update(t,e,r){const n=l.after(t,this._path);if("length"!==e){let t=this.clone;l.walk(n,(e=>{t?.[e]&&(this._clonedCache.has(t[e])||(t[e]=this._shallowClone(t[e])),t=t[e])})),this._hasOnValidate&&this._changes.push({path:n,property:e,previous:r}),t?.[e]&&(t[e]=r)}this._isChanged=!0}undo(t){let e;for(let r=this._changes.length-1;-1!==r;r--)e=this._changes[r],l.get(t,e.path)[e.property]=e.previous}isChanged(t){return void 0===this._onIsChanged?this._isChanged:this._onIsChanged(this.clone,t)}isPathApplicable(t){return l.isRootPath(this._path)||l.isSubPath(t,this._path)}}class A extends C{static isHandledMethod(t){return y.has(t)}}class O extends C{undo(t){t.setTime(this.clone.getTime())}isChanged(t,e){return!e(this.clone.valueOf(),t.valueOf())}}class T extends C{static isHandledMethod(t){return S.has(t)}undo(t){for(const e of this.clone)t.add(e);for(const e of t)this.clone.has(e)||t.delete(e)}}class P extends C{static isHandledMethod(t){return k.has(t)}undo(t){for(const[e,r]of this.clone.entries())t.set(e,r);for(const e of t.keys())this.clone.has(e)||t.delete(e)}}class I extends C{constructor(t,e,r,n){super(void 0,e,r,n),this._argument1=r[0],this._weakValue=t.has(this._argument1)}isChanged(t){return this._weakValue!==t.has(this._argument1)}undo(t){this._weakValue&&!t.has(this._argument1)?t.add(this._argument1):t.delete(this._argument1)}}class N extends C{constructor(t,e,r,n){super(void 0,e,r,n),this._weakKey=r[0],this._weakHas=t.has(this._weakKey),this._weakValue=t.get(this._weakKey)}isChanged(t){return this._weakValue!==t.get(this._weakKey)}undo(t){const e=t.has(this._weakKey);this._weakHas&&!e?t.set(this._weakKey,this._weakValue):!this._weakHas&&e?t.delete(this._weakKey):this._weakValue!==t.get(this._weakKey)&&t.set(this._weakKey,this._weakValue)}}class j{constructor(t){this._stack=[],this._hasOnValidate=t}static isHandledType(t){return f(t)||a(t)||i(t)}static isHandledMethod(t,e){return f(t)?C.isHandledMethod(e):a(t)?A.isHandledMethod(e):t instanceof Set?T.isHandledMethod(e):t instanceof Map?P.isHandledMethod(e):i(t)}get isCloning(){return this._stack.length>0}start(t,e,r){let n=C;a(t)?n=A:t instanceof Date?n=O:t instanceof Set?n=T:t instanceof Map?n=P:t instanceof WeakSet?n=I:t instanceof WeakMap&&(n=N),this._stack.push(new n(t,e,r,this._hasOnValidate))}update(t,e,r){this._stack.at(-1).update(t,e,r)}preferredThisArg(t,e,r){const{name:n}=t,s=j.isHandledMethod(r,n);return this._stack.at(-1).preferredThisArg(s,n,e,r)}isChanged(t,e,r){return this._stack.at(-1).isChanged(t,e,r)}isPartOfClone(t){return this._stack.at(-1).isPathApplicable(t)}undo(t){void 0!==this._previousClone&&this._previousClone.undo(t)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}}const D={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},F=(t,e,r={})=>{r={...D,...r};const f=Symbol("ProxyTarget"),{equals:d,isShallow:p,ignoreDetached:m,details:g}=r,w=new h(d),y="function"==typeof r.onValidate,b=new j(y),v=(t,e,n,s,o)=>!y||b.isCloning||!0===r.onValidate(l.concat(w.getPath(t),e),n,s,o),x=(e,n,s,o)=>{c(w,r,n)||m&&w.isDetached(e,t)||E(w.getPath(e),n,s,o)},E=(t,r,n,s,o)=>{b.isCloning&&b.isPartOfClone(t)?b.update(t,r,s):e(l.concat(t,r),n,s,o)},S=t=>t?t[f]??t:t,_=(e,n,s,o)=>{if(function(t){return("object"==typeof t?null===t:"function"!=typeof t)||t instanceof RegExp}(e)||"constructor"===s||p&&!j.isHandledMethod(n,s)||c(w,r,s)||w.isGetInvariant(n,s)||m&&w.isDetached(n,t))return e;void 0===o&&(o=w.getPath(n));const i=l.concat(o,s),a=w.getPath(e);return a&&M(i,a)?w.getProxy(e,a,R,f):w.getProxy(e,i,R,f)},M=(t,e)=>{if(u(t)||t.length<=e.length)return!1;if(a(e)&&0===e.length)return!1;const r=a(t)?t:t.split(n),s=a(e)?e:e.split(n);return!(r.length<=s.length||s.some(((t,e)=>t!==r[e])))},R={get(t,e,r){if(u(e)){if(e===f||e===s)return t;if(e===o&&!w.isUnsubscribed&&0===w.getPath(t).length)return w.unsubscribe(),t}const n=i(t)?Reflect.get(t,e):Reflect.get(t,e,r);return _(n,t,e)},set(t,e,r,n){r=S(r);const s=t[f]??t,o=s[e];if(d(o,r)&&e in t)return!0;const i=v(t,e,r,o);return i&&w.setProperty(s,e,r,n,o)?(x(t,e,t[e],o),!0):!i},defineProperty(t,e,r){if(!w.isSameDescriptor(r,t,e)){const n=t[e];v(t,e,r.value,n)&&w.defineProperty(t,e,r,n)&&x(t,e,r.value,n)}return!0},deleteProperty(t,e){if(!Reflect.has(t,e))return!0;const r=Reflect.get(t,e),n=v(t,e,void 0,r);return n&&w.deleteProperty(t,e,r)?(x(t,e,void 0,r),!0):!n},apply(e,r,n){const o=r[f]??r;if(w.isUnsubscribed)return Reflect.apply(e,o,n);if((!1===g||!0!==g&&!g.includes(e.name))&&j.isHandledType(o)){let a=l.initial(w.getPath(e));const u=j.isHandledMethod(o,e.name);b.start(o,a,n);let c=Reflect.apply(e,b.preferredThisArg(e,r,o),u?n.map((t=>S(t))):n);const h=b.isChanged(o,d),f=b.stop();if(j.isHandledType(c)&&u&&(r instanceof Map&&"get"===e.name&&(a=l.concat(a,n[0])),c=w.getProxy(c,a,R)),h){const r={name:e.name,args:n,result:c},s=b.isCloning?l.initial(a):a,i=b.isCloning?l.last(a):"";v(l.get(t,s),i,o,f,r)?E(s,i,o,f,r):b.undo(o)}return(r instanceof Map||r instanceof Set)&&"object"==typeof(i=c)&&"function"==typeof i.next?function(t,e,r,n,o){const i=t.next;if("entries"===e.name)t.next=function(){const t=i.call(this);return!1===t.done&&(t.value[0]=o(t.value[0],e,t.value[0],n),t.value[1]=o(t.value[1],e,t.value[0],n)),t};else if("values"===e.name){const a=r[s].keys();t.next=function(){const t=i.call(this);return!1===t.done&&(t.value=o(t.value,e,a.next().value,n)),t}}else t.next=function(){const t=i.call(this);return!1===t.done&&(t.value=o(t.value,e,t.value,n)),t};return t}(c,e,r,a,_):c}var i;return Reflect.apply(e,r,n)}},k=w.getProxy(t,r.pathAsArray?[]:"",R);return e=e.bind(k),y&&(r.onValidate=r.onValidate.bind(k)),k};F.target=t=>t?.[s]??t,F.unsubscribe=t=>t?.[o]??t;const L=F}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=n[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),r(156)})();