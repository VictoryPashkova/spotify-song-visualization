/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={933:(t,e,r)=>{"use strict";r.r(e),r.d(e,{isAnyArray:()=>o});const n=Object.prototype.toString;function o(t){const e=n.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},192:(t,e,r)=>{var n=r(580).Symbol;t.exports=n},129:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},389:(t,e,r)=>{var n=r(192),o=r(468),s=r(859),i=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?o(t):s(t)}},713:(t,e,r)=>{var n=r(192),o=r(129),s=r(224),i=r(469),a=n?n.prototype:void 0,u=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(s(e))return o(e,t)+"";if(i(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},877:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},468:(t,e,r)=>{var n=r(192),o=Object.prototype,s=o.hasOwnProperty,i=o.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=s.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var o=i.call(t);return n&&(e?t[a]=r:delete t[a]),o}},859:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},580:(t,e,r)=>{var n=r(877),o="object"==typeof self&&self&&self.Object===Object&&self,s=n||o||Function("return this")();t.exports=s},224:t=>{var e=Array.isArray;t.exports=e},13:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},469:(t,e,r)=>{var n=r(389),o=r(13);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},137:(t,e,r)=>{var n=r(713);t.exports=function(t){return null==t?"":n(t)}},779:(t,e,r)=>{var n=r(137),o=0;t.exports=function(t){var e=++o;return n(t)+e}},862:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});var n=r(933);function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!(0,n.isAnyArray)(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,o=void 0===r?0:r,s=e.toIndex,i=void 0===s?t.length:s;if(o<0||o>=t.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=o||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[o],u=o+1;u<i;u++)t[u]<a&&(a=t[u]);return a}(t),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.isAnyArray)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,o=void 0===r?0:r,s=e.toIndex,i=void 0===s?t.length:s;if(o<0||o>=t.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=o||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[o],u=o+1;u<i;u++)t[u]>a&&(a=t[u]);return a}(t);if(o===s)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=r.min,a=void 0===i?r.autoMinMax?o:0:i,u=r.max,c=void 0===u?r.autoMinMax?s:1:u;if(a>=c)throw new RangeError("min option must be smaller than max option");for(var l=(c-a)/(s-o),h=0;h<t.length;h++)e[h]=(t[h]-o)*l+a;return e}},868:(t,e,r)=>{"use strict";var n=r(933),o=r(862);const s=" ".repeat(2),i=" ".repeat(4);function a(t,e={}){const{maxRows:r=15,maxColumns:n=10,maxNumSize:o=8,padMinus:a="auto"}=e;return`${t.constructor.name} {\n${s}[\n${i}${function(t,e,r,n,o){const{rows:s,columns:a}=t,c=Math.min(s,e),l=Math.min(a,r),h=[];if("auto"===o){o=!1;t:for(let e=0;e<c;e++)for(let r=0;r<l;r++)if(t.get(e,r)<0){o=!0;break t}}for(let e=0;e<c;e++){let r=[];for(let s=0;s<l;s++)r.push(u(t.get(e,s),n,o));h.push(`${r.join(" ")}`)}return l!==a&&(h[h.length-1]+=` ... ${a-r} more columns`),c!==s&&h.push(`... ${s-e} more rows`),h.join(`\n${i}`)}(t,r,n,o,a)}\n${s}]\n${s}rows: ${t.rows}\n${s}columns: ${t.columns}\n}`}function u(t,e,r){return(t>=0&&r?` ${c(t,e-1)}`:c(t,e)).padEnd(e)}function c(t,e){let r=t.toString();if(r.length<=e)return r;let n=t.toFixed(e);if(n.length>e&&(n=t.toFixed(Math.max(0,e-(n.length-e)))),n.length<=e&&!n.startsWith("0.000")&&!n.startsWith("-0.000"))return n;let o=t.toExponential(e);return o.length>e&&(o=t.toExponential(Math.max(0,e-(o.length-e)))),o.slice(0)}function l(t,e,r){let n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function h(t,e,r){let n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function f(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function p(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function d(t,e){if(!n.isAnyArray(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function m(t,e){if(!n.isAnyArray(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function g(t,e,r,n,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(y("startRow",e),y("endRow",r),y("startColumn",n),y("endColumn",o),e>r||n>o||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||o<0||o>=t.columns)throw new RangeError("Submatrix indices are out of range")}function w(t,e=0){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function y(t,e){if("number"!=typeof e)throw new TypeError(`${t} must be a number`)}function b(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class v{static from1DArray(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");let n=new E(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)n.set(o,t,r[o*e+t]);return n}static rowVector(t){let e=new E(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new E(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new E(t,e)}static ones(t,e){return new E(t,e).fill(1)}static rand(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{random:n=Math.random}=r;let o=new E(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++)o.set(r,t,n());return o}static randInt(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{min:n=0,max:o=1e3,random:s=Math.random}=r;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(n>=o)throw new RangeError("min must be smaller than max");let i=o-n,a=new E(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=n+Math.round(s()*i);a.set(r,t,e)}return a}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let n=Math.min(t,e),o=this.zeros(t,e);for(let t=0;t<n;t++)o.set(t,t,r);return o}static diag(t,e,r){let n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);let o=Math.min(n,e,r),s=this.zeros(e,r);for(let e=0;e<o;e++)s.set(e,e,t[e]);return s}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,o=new E(r,n);for(let s=0;s<r;s++)for(let r=0;r<n;r++)o.set(s,r,Math.min(t.get(s,r),e.get(s,r)));return o}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,o=new this(r,n);for(let s=0;s<r;s++)for(let r=0;r<n;r++)o.set(s,r,Math.max(t.get(s,r),e.get(s,r)));return o}static checkMatrix(t){return v.isMatrix(t)?t:new E(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let t=0;t<this.rows;t++)if(0!==this.get(t,t))return!1;return!0}isEchelonForm(){let t=0,e=0,r=-1,n=!0,o=!1;for(;t<this.rows&&n;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,o=!1;for(;t<this.rows&&n;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let n=e;for(let o=e;o<t.rows;o++)t.get(o,r)>t.get(n,r)&&(n=o);if(0===t.get(n,r))r++;else{t.swapRows(e,n);let o=t.get(e,r);for(let n=r;n<t.columns;n++)t.set(e,n,t.get(e,n)/o);for(let n=e+1;n<t.rows;n++){let o=t.get(n,r)/t.get(e,r);t.set(n,r,0);for(let s=r+1;s<t.columns;s++)t.set(n,s,t.get(n,s)-t.get(e,s)*o)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;for(;n>=0;)if(0===t.maxRow(n))n--;else{let o=0,s=!1;for(;o<r&&!1===s;)1===t.get(n,o)?s=!0:o++;for(let r=0;r<n;r++){let s=t.get(r,o);for(let i=o;i<e;i++){let e=t.get(r,i)-s*t.get(n,i);t.set(r,i,e)}}n--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let n=new E(this.rows*e,this.columns*r);for(let t=0;t<e;t++)for(let e=0;e<r;e++)n.setSubMatrix(this,this.rows*t,this.columns*e);return n}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){l(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return E.rowVector(this.getRow(t))}setRow(t,e){l(this,t),e=f(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){l(this,t),l(this,e);for(let r=0;r<this.columns;r++){let n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){h(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return E.columnVector(this.getColumn(t))}setColumn(t,e){h(this,t),e=p(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){h(this,t),h(this,e);for(let r=0;r<this.rows;r++){let n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=f(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=p(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){l(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){h(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){b(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){b(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){if(l(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){l(this,t),b(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){if(l(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){l(this,t),b(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){h(this,t),b(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){if(h(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){h(this,t),b(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${t}`)}}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){v.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let n=0;n<e.length;n++)r+=e[n]*t[n];return r}mmul(t){t=E.checkMatrix(t);let e=this.rows,r=this.columns,n=t.columns,o=new E(e,n),s=new Float64Array(r);for(let i=0;i<n;i++){for(let e=0;e<r;e++)s[e]=t.get(e,i);for(let t=0;t<e;t++){let e=0;for(let n=0;n<r;n++)e+=this.get(t,n)*s[n];o.set(t,i,e)}}return o}strassen2x2(t){t=E.checkMatrix(t);let e=new E(2,2);const r=this.get(0,0),n=t.get(0,0),o=this.get(0,1),s=t.get(0,1),i=this.get(1,0),a=t.get(1,0),u=this.get(1,1),c=t.get(1,1),l=(r+u)*(n+c),h=(i+u)*n,f=r*(s-c),p=u*(a-n),d=(r+o)*c,m=l+p-d+(o-u)*(a+c),g=f+d,w=h+p,y=l-h+f+(i-r)*(n+s);return e.set(0,0,m),e.set(0,1,g),e.set(1,0,w),e.set(1,1,y),e}strassen3x3(t){t=E.checkMatrix(t);let e=new E(3,3);const r=this.get(0,0),n=this.get(0,1),o=this.get(0,2),s=this.get(1,0),i=this.get(1,1),a=this.get(1,2),u=this.get(2,0),c=this.get(2,1),l=this.get(2,2),h=t.get(0,0),f=t.get(0,1),p=t.get(0,2),d=t.get(1,0),m=t.get(1,1),g=t.get(1,2),w=t.get(2,0),y=t.get(2,1),b=t.get(2,2),v=(r-s)*(-f+m),x=(-r+s+i)*(h-f+m),S=(s+i)*(-h+f),M=r*h,R=(-r+u+c)*(h-p+g),_=(-r+u)*(p-g),k=(u+c)*(-h+p),A=(-o+c+l)*(m+w-y),O=(o-l)*(m-y),T=o*w,C=(c+l)*(-w+y),L=(-o+i+a)*(g+w-b),N=(o-a)*(g-b),I=(i+a)*(-w+b),j=M+T+n*d,P=(r+n+o-s-i-c-l)*m+x+S+M+A+T+C,F=M+R+k+(r+n+o-i-a-u-c)*g+T+L+I,D=v+i*(-h+f+d-m-g-w+b)+x+M+T+L+N,z=v+x+S+M+a*y,q=T+L+N+I+s*p,U=M+R+_+c*(-h+p+d-m-g-w+y)+A+O+T,B=A+O+T+C+u*f,V=M+R+_+k+l*b;return e.set(0,0,j),e.set(0,1,P),e.set(0,2,F),e.set(1,0,D),e.set(1,1,z),e.set(1,2,q),e.set(2,0,U),e.set(2,1,B),e.set(2,2,V),e}mmulStrassen(t){t=E.checkMatrix(t);let e=this.clone(),r=e.rows,n=e.columns,o=t.rows,s=t.columns;function i(t,e,r){let n=t.rows,o=t.columns;if(n===e&&o===r)return t;{let n=v.zeros(e,r);return n=n.setSubMatrix(t,0,0),n}}n!==o&&console.warn(`Multiplying ${r} x ${n} and ${o} x ${s} matrix: dimensions do not match.`);let a=Math.max(r,o),u=Math.max(n,s);return e=i(e,a,u),function t(e,r,n,o){if(n<=512||o<=512)return e.mmul(r);n%2==1&&o%2==1?(e=i(e,n+1,o+1),r=i(r,n+1,o+1)):n%2==1?(e=i(e,n+1,o),r=i(r,n+1,o)):o%2==1&&(e=i(e,n,o+1),r=i(r,n,o+1));let s=parseInt(e.rows/2,10),a=parseInt(e.columns/2,10),u=e.subMatrix(0,s-1,0,a-1),c=r.subMatrix(0,s-1,0,a-1),l=e.subMatrix(0,s-1,a,e.columns-1),h=r.subMatrix(0,s-1,a,r.columns-1),f=e.subMatrix(s,e.rows-1,0,a-1),p=r.subMatrix(s,r.rows-1,0,a-1),d=e.subMatrix(s,e.rows-1,a,e.columns-1),m=r.subMatrix(s,r.rows-1,a,r.columns-1),g=t(v.add(u,d),v.add(c,m),s,a),w=t(v.add(f,d),c,s,a),y=t(u,v.sub(h,m),s,a),b=t(d,v.sub(p,c),s,a),x=t(v.add(u,l),m,s,a),E=t(v.sub(f,u),v.add(c,h),s,a),S=t(v.sub(l,d),v.add(p,m),s,a),M=v.add(g,b);M.sub(x),M.add(S);let R=v.add(y,x),_=v.add(w,b),k=v.sub(g,w);k.add(y),k.add(E);let A=v.zeros(2*M.rows,2*M.columns);return A=A.setSubMatrix(M,0,0),A=A.setSubMatrix(R,M.rows,0),A=A.setSubMatrix(_,0,M.columns),A=A.setSubMatrix(k,M.rows,M.columns),A.subMatrix(0,n-1,0,o-1)}(e,t=i(t,a,u),a,u)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new E(this.rows,this.columns);for(let t=0;t<this.rows;t++){const s=this.getRow(t);s.length>0&&o(s,{min:e,max:r,output:s}),n.setRow(t,s)}return n}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new E(this.rows,this.columns);for(let t=0;t<this.columns;t++){const s=this.getColumn(t);s.length&&o(s,{min:e,max:r,output:s}),n.setColumn(t,s)}return n}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),n=this.get(e,this.columns-1-r);this.set(e,r,n),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),n=this.get(this.rows-1-r,e);this.set(r,e,n),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=E.checkMatrix(t);let e=this.rows,r=this.columns,n=t.rows,o=t.columns,s=new E(e*n,r*o);for(let i=0;i<e;i++)for(let e=0;e<r;e++)for(let r=0;r<n;r++)for(let a=0;a<o;a++)s.set(n*i+r,o*e+a,this.get(i,e)*t.get(r,a));return s}kroneckerSum(t){if(t=E.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,n=this.kroneckerProduct(E.eye(r,r)),o=E.eye(e,e).kroneckerProduct(t);return n.add(o)}transpose(){let t=new E(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=x){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=x){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){g(this,t,e,r,n);let o=new E(e-t+1,n-r+1);for(let s=t;s<=e;s++)for(let e=r;e<=n;e++)o.set(s-t,e-r,this.get(s,e));return o}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let n=new E(t.length,r-e+1);for(let o=0;o<t.length;o++)for(let s=e;s<=r;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError(`Row index out of range: ${t[o]}`);n.set(o,s-e,this.get(t[o],s))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let n=new E(r-e+1,t.length);for(let o=0;o<t.length;o++)for(let s=e;s<=r;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError(`Column index out of range: ${t[o]}`);n.set(s-e,o,this.get(s,t[o]))}return n}setSubMatrix(t,e,r){if((t=E.checkMatrix(t)).isEmpty())return this;g(this,e,e+t.rows-1,r,r+t.columns-1);for(let n=0;n<t.rows;n++)for(let o=0;o<t.columns;o++)this.set(e+n,r+o,t.get(n,o));return this}selection(t,e){d(this,t),m(this,e);let r=new E(t.length,e.length);for(let n=0;n<t.length;n++){let o=t[n];for(let t=0;t<e.length;t++){let s=e[t];r.set(n,t,this.get(o,s))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){return this.constructor.copy(this,new E(this.rows,this.columns))}static copy(t,e){for(const[r,n,o]of t.entries())e.set(r,n,o);return e}sum(t){switch(t){case"row":return function(t){let e=w(t.rows);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}(this);case"column":return function(t){let e=w(t.columns);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}(this);case void 0:return function(t){let e=0;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e+=t.get(r,n);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=w(t.rows,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}(this);case"column":return function(t){let e=w(t.columns,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}(this);case void 0:return function(t){let e=1;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e*=t.get(r,n);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:r=!0,mean:o=this.mean(t)}=e;if("boolean"!=typeof r)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!n.isAnyArray(o))throw new TypeError("mean must be an array");return function(t,e,r){const n=t.rows,o=t.columns,s=[];for(let i=0;i<n;i++){let n=0,a=0,u=0;for(let e=0;e<o;e++)u=t.get(i,e)-r[i],n+=u,a+=u*u;e?s.push((a-n*n/o)/(o-1)):s.push((a-n*n/o)/o)}return s}(this,r,o);case"column":if(!n.isAnyArray(o))throw new TypeError("mean must be an array");return function(t,e,r){const n=t.rows,o=t.columns,s=[];for(let i=0;i<o;i++){let o=0,a=0,u=0;for(let e=0;e<n;e++)u=t.get(e,i)-r[i],o+=u,a+=u*u;e?s.push((a-o*o/n)/(n-1)):s.push((a-o*o/n)/n)}return s}(this,r,o);case void 0:if("number"!=typeof o)throw new TypeError("mean must be a number");return function(t,e,r){const n=t.rows,o=t.columns,s=n*o;let i=0,a=0,u=0;for(let e=0;e<n;e++)for(let n=0;n<o;n++)u=t.get(e,n)-r,i+=u,a+=u*u;return e?(a-i*i/s)/(s-1):(a-i*i/s)/s}(this,r,o);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let t=0;t<r.length;t++)r[t]=Math.sqrt(r[t]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:r=this.mean(t)}=e;switch(t){case"row":if(!n.isAnyArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}(this,r),this;case"column":if(!n.isAnyArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}(this,r),this;case void 0:if("number"!=typeof r)throw new TypeError("center must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.rows;r++){let n=0;for(let e=0;e<t.columns;e++)n+=t.get(r,e)**2/(t.columns-1);e.push(Math.sqrt(n))}return e}(this);else if(!n.isAnyArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}(this,r),this;case"column":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.columns;r++){let n=0;for(let e=0;e<t.rows;e++)n+=t.get(e,r)**2/(t.rows-1);e.push(Math.sqrt(n))}return e}(this);else if(!n.isAnyArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}(this,r),this;case void 0:if(void 0===r)r=function(t){const e=t.size-1;let r=0;for(let n=0;n<t.columns;n++)for(let o=0;o<t.rows;o++)r+=t.get(o,n)**2/e;return Math.sqrt(r)}(this);else if("number"!=typeof r)throw new TypeError("scale must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return a(this,t)}[Symbol.iterator](){return this.entries()}*entries(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield[t,e,this.get(t,e)]}*values(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)yield this.get(t,e)}}function x(t,e){return t-e}v.prototype.klass="Matrix","undefined"!=typeof Symbol&&(v.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return a(this)}),v.random=v.rand,v.randomInt=v.randInt,v.diagonal=v.diag,v.prototype.diagonal=v.prototype.diag,v.identity=v.eye,v.prototype.negate=v.prototype.neg,v.prototype.tensorProduct=v.prototype.kroneckerProduct;class E extends v{data;#t(t,e){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e));this.rows=t,this.columns=e}constructor(t,e){if(super(),E.isMatrix(t))this.#t(t.rows,t.columns),E.copy(t,this);else if(Number.isInteger(t)&&t>=0)this.#t(t,e);else{if(!n.isAnyArray(t))throw new TypeError("First argument must be a positive number or an array");{const r=t;if("number"!=typeof(e=(t=r.length)?r[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let n=0;n<t;n++){if(r[n].length!==e)throw new RangeError("Inconsistent array dimensions");if(!r[n].every((t=>"number"==typeof t)))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[n]))}this.rows=t,this.columns=e}}}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return l(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),l(this,t,!0),e=Float64Array.from(f(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){h(this,t);for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let n=0;n<t;n++)r[n]=this.data[e][n];for(let n=t+1;n<this.columns;n++)r[n-1]=this.data[e][n];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),h(this,t,!0),e=p(this,e);for(let r=0;r<this.rows;r++){const n=new Float64Array(this.columns+1);let o=0;for(;o<t;o++)n[o]=this.data[r][o];for(n[o++]=e[r];o<this.columns+1;o++)n[o]=this.data[r][o-1];this.data[r]=n}return this.columns+=1,this}}!function(t,e){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){return new e(t).add(r)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){return new e(t).sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){return new e(t).mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){return new e(t).div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){return new e(t).mod(r)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){return new e(t).and(r)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){return new e(t).or(r)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){return new e(t).xor(r)},t.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.leftShift=function(t,r){return new e(t).leftShift(r)},t.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.signPropagatingRightShift=function(t,r){return new e(t).signPropagatingRightShift(r)},t.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.rightShift=function(t,r){return new e(t).rightShift(r)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){return new e(t).not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){return new e(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){return new e(t).acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){return new e(t).acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){return new e(t).asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){return new e(t).asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){return new e(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){return new e(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){return new e(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){return new e(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){return new e(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){return new e(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){return new e(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){return new e(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){return new e(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){return new e(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){return new e(t).fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){return new e(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){return new e(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){return new e(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){return new e(t).log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){return new e(t).round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){return new e(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){return new e(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){return new e(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){return new e(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){return new e(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){return new e(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){return new e(t).trunc()},t.pow=function(t,r){return new e(t).pow(r)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t);return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)**t.get(e,r));return this}}(v,E);class S extends v{#e;get size(){return this.#e.size}get rows(){return this.#e.rows}get columns(){return this.#e.columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(t){return E.isMatrix(t)&&"SymmetricMatrix"===t.klassType}static zeros(t){return new this(t)}static ones(t){return new this(t).fill(1)}constructor(t){if(super(),E.isMatrix(t)){if(!t.isSymmetric())throw new TypeError("not symmetric data");this.#e=E.copy(t,new E(t.rows,t.rows))}else if(Number.isInteger(t)&&t>=0)this.#e=new E(t,t);else if(this.#e=new E(t),!this.isSymmetric())throw new TypeError("not symmetric data")}clone(){const t=new S(this.diagonalSize);for(const[e,r,n]of this.upperRightEntries())t.set(e,r,n);return t}toMatrix(){return new E(this)}get(t,e){return this.#e.get(t,e)}set(t,e,r){return this.#e.set(t,e,r),this.#e.set(e,t,r),this}removeCross(t){return this.#e.removeRow(t),this.#e.removeColumn(t),this}addCross(t,e){void 0===e&&(e=t,t=this.diagonalSize);const r=e.slice();return r.splice(t,1),this.#e.addRow(t,r),this.#e.addColumn(t,e),this}applyMask(t){if(t.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const e=[];for(const[r,n]of t.entries())n||e.push(r);e.reverse();for(const t of e)this.removeCross(t);return this}toCompact(){const{diagonalSize:t}=this,e=new Array(t*(t+1)/2);for(let r=0,n=0,o=0;o<e.length;o++)e[o]=this.get(n,r),++r>=t&&(r=++n);return e}static fromCompact(t){const e=t.length,r=(Math.sqrt(8*e+1)-1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(t)}`);const n=new S(r);for(let o=0,s=0,i=0;i<e;i++)n.set(o,s,t[i]),++o>=r&&(o=++s);return n}*upperRightEntries(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield[t,e,r],++e>=this.diagonalSize&&(e=++t)}}*upperRightValues(){for(let t=0,e=0;t<this.diagonalSize;void 0){const r=this.get(t,e);yield r,++e>=this.diagonalSize&&(e=++t)}}}S.prototype.klassType="SymmetricMatrix";class M extends S{static isDistanceMatrix(t){return S.isSymmetricMatrix(t)&&"DistanceMatrix"===t.klassSubType}constructor(t){if(super(t),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(t,e,r){return t===e&&(r=0),super.set(t,e,r)}addCross(t,e){return void 0===e&&(e=t,t=this.diagonalSize),(e=e.slice())[t]=0,super.addCross(t,e)}toSymmetricMatrix(){return new S(this)}clone(){const t=new M(this.diagonalSize);for(const[e,r,n]of this.upperRightEntries())e!==r&&t.set(e,r,n);return t}toCompact(){const{diagonalSize:t}=this,e=new Array((t-1)*t/2);for(let r=1,n=0,o=0;o<e.length;o++)e[o]=this.get(n,r),++r>=t&&(r=1+ ++n);return e}static fromCompact(t){const e=t.length;if(0===e)return new this(0);const r=(Math.sqrt(8*e+1)+1)/2;if(!Number.isInteger(r))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(t)}`);const n=new this(r);for(let o=1,s=0,i=0;i<e;i++)n.set(o,s,t[i]),++o>=r&&(o=1+ ++s);return n}}M.prototype.klassSubType="DistanceMatrix";class R extends v{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}class _ extends R{constructor(t,e,r){d(t,e),m(t,r),super(t,e.length,r.length),this.rowIndices=e,this.columnIndices=r}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class k extends v{constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let n=this._calculateIndex(t,e);return this.data[n]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}class A extends v{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}class O{constructor(t){let e,r,n,o,s,i,a,u,c,l=(t=A.checkMatrix(t)).clone(),h=l.rows,f=l.columns,p=new Float64Array(h),d=1;for(e=0;e<h;e++)p[e]=e;for(u=new Float64Array(h),r=0;r<f;r++){for(e=0;e<h;e++)u[e]=l.get(e,r);for(e=0;e<h;e++){for(c=Math.min(e,r),s=0,n=0;n<c;n++)s+=l.get(e,n)*u[n];u[e]-=s,l.set(e,r,u[e])}for(o=r,e=r+1;e<h;e++)Math.abs(u[e])>Math.abs(u[o])&&(o=e);if(o!==r){for(n=0;n<f;n++)i=l.get(o,n),l.set(o,n,l.get(r,n)),l.set(r,n,i);a=p[o],p[o]=p[r],p[r]=a,d=-d}if(r<h&&0!==l.get(r,r))for(e=r+1;e<h;e++)l.set(e,r,l.get(e,r)/l.get(r,r))}this.LU=l,this.pivotVector=p,this.pivotSign=d}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=E.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r,n,o,s=t.columns,i=t.subMatrixRow(this.pivotVector,0,s-1),a=e.columns;for(o=0;o<a;o++)for(r=o+1;r<a;r++)for(n=0;n<s;n++)i.set(r,n,i.get(r,n)-i.get(o,n)*e.get(r,o));for(o=a-1;o>=0;o--){for(n=0;n<s;n++)i.set(o,n,i.get(o,n)/e.get(o,o));for(r=0;r<o;r++)for(n=0;n<s;n++)i.set(r,n,i.get(r,n)-i.get(o,n)*e.get(r,o))}return i}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let n=0;n<r;n++)e*=t.get(n,n);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new E(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o>e?n.set(o,e,t.get(o,e)):o===e?n.set(o,e,1):n.set(o,e,0);return n}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,n=new E(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o<=e?n.set(o,e,t.get(o,e)):n.set(o,e,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function T(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class C{constructor(t){let e,r,n,o,s=(t=A.checkMatrix(t)).clone(),i=t.rows,a=t.columns,u=new Float64Array(a);for(n=0;n<a;n++){let t=0;for(e=n;e<i;e++)t=T(t,s.get(e,n));if(0!==t){for(s.get(n,n)<0&&(t=-t),e=n;e<i;e++)s.set(e,n,s.get(e,n)/t);for(s.set(n,n,s.get(n,n)+1),r=n+1;r<a;r++){for(o=0,e=n;e<i;e++)o+=s.get(e,n)*s.get(e,r);for(o=-o/s.get(n,n),e=n;e<i;e++)s.set(e,r,s.get(e,r)+o*s.get(e,n))}}u[n]=-t}this.QR=s,this.Rdiag=u}solve(t){t=E.checkMatrix(t);let e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let n,o,s,i,a=t.columns,u=t.clone(),c=e.columns;for(s=0;s<c;s++)for(o=0;o<a;o++){for(i=0,n=s;n<r;n++)i+=e.get(n,s)*u.get(n,o);for(i=-i/e.get(s,s),n=s;n<r;n++)u.set(n,o,u.get(n,o)+i*e.get(n,s))}for(s=c-1;s>=0;s--){for(o=0;o<a;o++)u.set(s,o,u.get(s,o)/this.Rdiag[s]);for(n=0;n<s;n++)for(o=0;o<a;o++)u.set(n,o,u.get(n,o)-u.get(s,o)*e.get(n,s))}return u.subMatrix(0,c-1,0,a-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,n=r.columns,o=new E(n,n);for(t=0;t<n;t++)for(e=0;e<n;e++)t<e?o.set(t,e,r.get(t,e)):t===e?o.set(t,e,this.Rdiag[t]):o.set(t,e,0);return o}get orthogonalMatrix(){let t,e,r,n,o=this.QR,s=o.rows,i=o.columns,a=new E(s,i);for(r=i-1;r>=0;r--){for(t=0;t<s;t++)a.set(t,r,0);for(a.set(r,r,1),e=r;e<i;e++)if(0!==o.get(r,r)){for(n=0,t=r;t<s;t++)n+=o.get(t,r)*a.get(t,e);for(n=-n/o.get(r,r),t=r;t<s;t++)a.set(t,e,a.get(t,e)+n*o.get(t,r))}}return a}}class L{constructor(t,e={}){if((t=A.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,n=t.columns;const{computeLeftSingularVectors:o=!0,computeRightSingularVectors:s=!0,autoTranspose:i=!1}=e;let a,u=Boolean(o),c=Boolean(s),l=!1;if(r<n)if(i){a=t.transpose(),r=a.rows,n=a.columns,l=!0;let e=u;u=c,c=e}else a=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else a=t.clone();let h=Math.min(r,n),f=Math.min(r+1,n),p=new Float64Array(f),d=new E(r,h),m=new E(n,n),g=new Float64Array(n),w=new Float64Array(r),y=new Float64Array(f);for(let t=0;t<f;t++)y[t]=t;let b=Math.min(r-1,n),v=Math.max(0,Math.min(n-2,r)),x=Math.max(b,v);for(let t=0;t<x;t++){if(t<b){p[t]=0;for(let e=t;e<r;e++)p[t]=T(p[t],a.get(e,t));if(0!==p[t]){a.get(t,t)<0&&(p[t]=-p[t]);for(let e=t;e<r;e++)a.set(e,t,a.get(e,t)/p[t]);a.set(t,t,a.get(t,t)+1)}p[t]=-p[t]}for(let e=t+1;e<n;e++){if(t<b&&0!==p[t]){let n=0;for(let o=t;o<r;o++)n+=a.get(o,t)*a.get(o,e);n=-n/a.get(t,t);for(let o=t;o<r;o++)a.set(o,e,a.get(o,e)+n*a.get(o,t))}g[e]=a.get(t,e)}if(u&&t<b)for(let e=t;e<r;e++)d.set(e,t,a.get(e,t));if(t<v){g[t]=0;for(let e=t+1;e<n;e++)g[t]=T(g[t],g[e]);if(0!==g[t]){g[t+1]<0&&(g[t]=0-g[t]);for(let e=t+1;e<n;e++)g[e]/=g[t];g[t+1]+=1}if(g[t]=-g[t],t+1<r&&0!==g[t]){for(let e=t+1;e<r;e++)w[e]=0;for(let e=t+1;e<r;e++)for(let r=t+1;r<n;r++)w[e]+=g[r]*a.get(e,r);for(let e=t+1;e<n;e++){let n=-g[e]/g[t+1];for(let o=t+1;o<r;o++)a.set(o,e,a.get(o,e)+n*w[o])}}if(c)for(let e=t+1;e<n;e++)m.set(e,t,g[e])}}let S=Math.min(n,r+1);if(b<n&&(p[b]=a.get(b,b)),r<S&&(p[S-1]=0),v+1<S&&(g[v]=a.get(v,S-1)),g[S-1]=0,u){for(let t=b;t<h;t++){for(let e=0;e<r;e++)d.set(e,t,0);d.set(t,t,1)}for(let t=b-1;t>=0;t--)if(0!==p[t]){for(let e=t+1;e<h;e++){let n=0;for(let o=t;o<r;o++)n+=d.get(o,t)*d.get(o,e);n=-n/d.get(t,t);for(let o=t;o<r;o++)d.set(o,e,d.get(o,e)+n*d.get(o,t))}for(let e=t;e<r;e++)d.set(e,t,-d.get(e,t));d.set(t,t,1+d.get(t,t));for(let e=0;e<t-1;e++)d.set(e,t,0)}else{for(let e=0;e<r;e++)d.set(e,t,0);d.set(t,t,1)}}if(c)for(let t=n-1;t>=0;t--){if(t<v&&0!==g[t])for(let e=t+1;e<n;e++){let r=0;for(let o=t+1;o<n;o++)r+=m.get(o,t)*m.get(o,e);r=-r/m.get(t+1,t);for(let o=t+1;o<n;o++)m.set(o,e,m.get(o,e)+r*m.get(o,t))}for(let e=0;e<n;e++)m.set(e,t,0);m.set(t,t,1)}let M=S-1,R=Number.EPSILON;for(;S>0;){let t,e;for(t=S-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+R*Math.abs(p[t]+Math.abs(p[t+1]));if(Math.abs(g[t])<=e||Number.isNaN(g[t])){g[t]=0;break}}if(t===S-2)e=4;else{let r;for(r=S-1;r>=t&&r!==t;r--){let e=(r!==S?Math.abs(g[r]):0)+(r!==t+1?Math.abs(g[r-1]):0);if(Math.abs(p[r])<=R*e){p[r]=0;break}}r===t?e=3:r===S-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=g[S-2];g[S-2]=0;for(let r=S-2;r>=t;r--){let o=T(p[r],e),s=p[r]/o,i=e/o;if(p[r]=o,r!==t&&(e=-i*g[r-1],g[r-1]=s*g[r-1]),c)for(let t=0;t<n;t++)o=s*m.get(t,r)+i*m.get(t,S-1),m.set(t,S-1,-i*m.get(t,r)+s*m.get(t,S-1)),m.set(t,r,o)}break}case 2:{let e=g[t-1];g[t-1]=0;for(let n=t;n<S;n++){let o=T(p[n],e),s=p[n]/o,i=e/o;if(p[n]=o,e=-i*g[n],g[n]=s*g[n],u)for(let e=0;e<r;e++)o=s*d.get(e,n)+i*d.get(e,t-1),d.set(e,t-1,-i*d.get(e,n)+s*d.get(e,t-1)),d.set(e,n,o)}break}case 3:{const e=Math.max(Math.abs(p[S-1]),Math.abs(p[S-2]),Math.abs(g[S-2]),Math.abs(p[t]),Math.abs(g[t])),o=p[S-1]/e,s=p[S-2]/e,i=g[S-2]/e,a=p[t]/e,l=g[t]/e,h=((s+o)*(s-o)+i*i)/2,f=o*i*(o*i);let w=0;0===h&&0===f||(w=h<0?0-Math.sqrt(h*h+f):Math.sqrt(h*h+f),w=f/(h+w));let y=(a+o)*(a-o)+w,b=a*l;for(let e=t;e<S-1;e++){let o=T(y,b);0===o&&(o=Number.MIN_VALUE);let s=y/o,i=b/o;if(e!==t&&(g[e-1]=o),y=s*p[e]+i*g[e],g[e]=s*g[e]-i*p[e],b=i*p[e+1],p[e+1]=s*p[e+1],c)for(let t=0;t<n;t++)o=s*m.get(t,e)+i*m.get(t,e+1),m.set(t,e+1,-i*m.get(t,e)+s*m.get(t,e+1)),m.set(t,e,o);if(o=T(y,b),0===o&&(o=Number.MIN_VALUE),s=y/o,i=b/o,p[e]=o,y=s*g[e]+i*p[e+1],p[e+1]=-i*g[e]+s*p[e+1],b=i*g[e+1],g[e+1]=s*g[e+1],u&&e<r-1)for(let t=0;t<r;t++)o=s*d.get(t,e)+i*d.get(t,e+1),d.set(t,e+1,-i*d.get(t,e)+s*d.get(t,e+1)),d.set(t,e,o)}g[S-2]=y;break}case 4:if(p[t]<=0&&(p[t]=p[t]<0?-p[t]:0,c))for(let e=0;e<=M;e++)m.set(e,t,-m.get(e,t));for(;t<M&&!(p[t]>=p[t+1]);){let e=p[t];if(p[t]=p[t+1],p[t+1]=e,c&&t<n-1)for(let r=0;r<n;r++)e=m.get(r,t+1),m.set(r,t+1,m.get(r,t)),m.set(r,t,e);if(u&&t<r-1)for(let n=0;n<r;n++)e=d.get(n,t+1),d.set(n,t+1,d.get(n,t)),d.set(n,t,e);t++}S--}}if(l){let t=m;m=d,d=t}this.m=r,this.n=n,this.s=p,this.U=d,this.V=m}solve(t){let e=t,r=this.threshold,n=this.s.length,o=E.zeros(n,n);for(let t=0;t<n;t++)Math.abs(this.s[t])<=r?o.set(t,t,0):o.set(t,t,1/this.s[t]);let s=this.U,i=this.rightSingularVectors,a=i.mmul(o),u=i.rows,c=s.rows,l=E.zeros(u,c);for(let t=0;t<u;t++)for(let e=0;e<c;e++){let r=0;for(let o=0;o<n;o++)r+=a.get(t,o)*s.get(e,o);l.set(t,e,r)}return l.mmul(e)}solveForDiagonal(t){return this.solve(E.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,n=t.columns,o=new E(r,this.s.length);for(let s=0;s<r;s++)for(let r=0;r<n;r++)Math.abs(this.s[r])>e&&o.set(s,r,t.get(s,r)/this.s[r]);let s=this.U,i=s.rows,a=s.columns,u=new E(r,i);for(let t=0;t<r;t++)for(let e=0;e<i;e++){let r=0;for(let n=0;n<a;n++)r+=o.get(t,n)*s.get(e,n);u.set(t,e,r)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let n=0,o=r.length;n<o;n++)r[n]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return E.diag(this.s)}}function N(t,e,r=!1){return t=A.checkMatrix(t),e=A.checkMatrix(e),r?new L(t).solve(e):t.isSquare()?new O(t).solve(e):new C(t).solve(e)}function I(t,e){let r=[];for(let n=0;n<t;n++)n!==e&&r.push(n);return r}function j(t,e,r,n=1e-9,o=1e-9){if(t>o)return new Array(e.rows+1).fill(0);{let t=e.addRow(r,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<n&&t.set(e,0,0);return t.to1DArray()}}class P{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(!(t=A.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let n,o,s=t.columns,i=new E(s,s),a=new Float64Array(s),u=new Float64Array(s),c=t,l=!1;if(l=!!r||t.isSymmetric(),l){for(n=0;n<s;n++)for(o=0;o<s;o++)i.set(n,o,c.get(n,o));!function(t,e,r,n){let o,s,i,a,u,c,l,h;for(u=0;u<t;u++)r[u]=n.get(t-1,u);for(a=t-1;a>0;a--){for(h=0,i=0,c=0;c<a;c++)h+=Math.abs(r[c]);if(0===h)for(e[a]=r[a-1],u=0;u<a;u++)r[u]=n.get(a-1,u),n.set(a,u,0),n.set(u,a,0);else{for(c=0;c<a;c++)r[c]/=h,i+=r[c]*r[c];for(o=r[a-1],s=Math.sqrt(i),o>0&&(s=-s),e[a]=h*s,i-=o*s,r[a-1]=o-s,u=0;u<a;u++)e[u]=0;for(u=0;u<a;u++){for(o=r[u],n.set(u,a,o),s=e[u]+n.get(u,u)*o,c=u+1;c<=a-1;c++)s+=n.get(c,u)*r[c],e[c]+=n.get(c,u)*o;e[u]=s}for(o=0,u=0;u<a;u++)e[u]/=i,o+=e[u]*r[u];for(l=o/(i+i),u=0;u<a;u++)e[u]-=l*r[u];for(u=0;u<a;u++){for(o=r[u],s=e[u],c=u;c<=a-1;c++)n.set(c,u,n.get(c,u)-(o*e[c]+s*r[c]));r[u]=n.get(a-1,u),n.set(a,u,0)}}r[a]=i}for(a=0;a<t-1;a++){if(n.set(t-1,a,n.get(a,a)),n.set(a,a,1),i=r[a+1],0!==i){for(c=0;c<=a;c++)r[c]=n.get(c,a+1)/i;for(u=0;u<=a;u++){for(s=0,c=0;c<=a;c++)s+=n.get(c,a+1)*n.get(c,u);for(c=0;c<=a;c++)n.set(c,u,n.get(c,u)-s*r[c])}}for(c=0;c<=a;c++)n.set(c,a+1,0)}for(u=0;u<t;u++)r[u]=n.get(t-1,u),n.set(t-1,u,0);n.set(t-1,t-1,1),e[0]=0}(s,u,a,i),function(t,e,r,n){let o,s,i,a,u,c,l,h,f,p,d,m,g,w,y,b;for(i=1;i<t;i++)e[i-1]=e[i];e[t-1]=0;let v=0,x=0,E=Number.EPSILON;for(c=0;c<t;c++){for(x=Math.max(x,Math.abs(r[c])+Math.abs(e[c])),l=c;l<t&&!(Math.abs(e[l])<=E*x);)l++;if(l>c)do{for(o=r[c],h=(r[c+1]-o)/(2*e[c]),f=T(h,1),h<0&&(f=-f),r[c]=e[c]/(h+f),r[c+1]=e[c]*(h+f),p=r[c+1],s=o-r[c],i=c+2;i<t;i++)r[i]-=s;for(v+=s,h=r[l],d=1,m=d,g=d,w=e[c+1],y=0,b=0,i=l-1;i>=c;i--)for(g=m,m=d,b=y,o=d*e[i],s=d*h,f=T(h,e[i]),e[i+1]=y*f,y=e[i]/f,d=h/f,h=d*r[i]-y*o,r[i+1]=s+y*(d*o+y*r[i]),u=0;u<t;u++)s=n.get(u,i+1),n.set(u,i+1,y*n.get(u,i)+d*s),n.set(u,i,d*n.get(u,i)-y*s);h=-y*b*g*w*e[c]/p,e[c]=y*h,r[c]=d*h}while(Math.abs(e[c])>E*x);r[c]=r[c]+v,e[c]=0}for(i=0;i<t-1;i++){for(u=i,h=r[i],a=i+1;a<t;a++)r[a]<h&&(u=a,h=r[a]);if(u!==i)for(r[u]=r[i],r[i]=h,a=0;a<t;a++)h=n.get(a,i),n.set(a,i,n.get(a,u)),n.set(a,u,h)}}(s,u,a,i)}else{let t=new E(s,s),e=new Float64Array(s);for(o=0;o<s;o++)for(n=0;n<s;n++)t.set(n,o,c.get(n,o));!function(t,e,r,n){let o,s,i,a,u,c,l,h=t-1;for(c=1;c<=h-1;c++){for(l=0,a=c;a<=h;a++)l+=Math.abs(e.get(a,c-1));if(0!==l){for(i=0,a=h;a>=c;a--)r[a]=e.get(a,c-1)/l,i+=r[a]*r[a];for(s=Math.sqrt(i),r[c]>0&&(s=-s),i-=r[c]*s,r[c]=r[c]-s,u=c;u<t;u++){for(o=0,a=h;a>=c;a--)o+=r[a]*e.get(a,u);for(o/=i,a=c;a<=h;a++)e.set(a,u,e.get(a,u)-o*r[a])}for(a=0;a<=h;a++){for(o=0,u=h;u>=c;u--)o+=r[u]*e.get(a,u);for(o/=i,u=c;u<=h;u++)e.set(a,u,e.get(a,u)-o*r[u])}r[c]=l*r[c],e.set(c,c-1,l*s)}}for(a=0;a<t;a++)for(u=0;u<t;u++)n.set(a,u,a===u?1:0);for(c=h-1;c>=1;c--)if(0!==e.get(c,c-1)){for(a=c+1;a<=h;a++)r[a]=e.get(a,c-1);for(u=c;u<=h;u++){for(s=0,a=c;a<=h;a++)s+=r[a]*n.get(a,u);for(s=s/r[c]/e.get(c,c-1),a=c;a<=h;a++)n.set(a,u,n.get(a,u)+s*r[a])}}}(s,t,e,i),function(t,e,r,n,o){let s,i,a,u,c,l,h,f,p,d,m,g,w,y,b,v=t-1,x=t-1,E=Number.EPSILON,S=0,M=0,R=0,_=0,k=0,A=0,O=0,T=0;for(s=0;s<t;s++)for((s<0||s>x)&&(r[s]=o.get(s,s),e[s]=0),i=Math.max(s-1,0);i<t;i++)M+=Math.abs(o.get(s,i));for(;v>=0;){for(u=v;u>0&&(A=Math.abs(o.get(u-1,u-1))+Math.abs(o.get(u,u)),0===A&&(A=M),!(Math.abs(o.get(u,u-1))<E*A));)u--;if(u===v)o.set(v,v,o.get(v,v)+S),r[v]=o.get(v,v),e[v]=0,v--,T=0;else if(u===v-1){if(h=o.get(v,v-1)*o.get(v-1,v),R=(o.get(v-1,v-1)-o.get(v,v))/2,_=R*R+h,O=Math.sqrt(Math.abs(_)),o.set(v,v,o.get(v,v)+S),o.set(v-1,v-1,o.get(v-1,v-1)+S),f=o.get(v,v),_>=0){for(O=R>=0?R+O:R-O,r[v-1]=f+O,r[v]=r[v-1],0!==O&&(r[v]=f-h/O),e[v-1]=0,e[v]=0,f=o.get(v,v-1),A=Math.abs(f)+Math.abs(O),R=f/A,_=O/A,k=Math.sqrt(R*R+_*_),R/=k,_/=k,i=v-1;i<t;i++)O=o.get(v-1,i),o.set(v-1,i,_*O+R*o.get(v,i)),o.set(v,i,_*o.get(v,i)-R*O);for(s=0;s<=v;s++)O=o.get(s,v-1),o.set(s,v-1,_*O+R*o.get(s,v)),o.set(s,v,_*o.get(s,v)-R*O);for(s=0;s<=x;s++)O=n.get(s,v-1),n.set(s,v-1,_*O+R*n.get(s,v)),n.set(s,v,_*n.get(s,v)-R*O)}else r[v-1]=f+R,r[v]=f+R,e[v-1]=O,e[v]=-O;v-=2,T=0}else{if(f=o.get(v,v),p=0,h=0,u<v&&(p=o.get(v-1,v-1),h=o.get(v,v-1)*o.get(v-1,v)),10===T){for(S+=f,s=0;s<=v;s++)o.set(s,s,o.get(s,s)-f);A=Math.abs(o.get(v,v-1))+Math.abs(o.get(v-1,v-2)),f=p=.75*A,h=-.4375*A*A}if(30===T&&(A=(p-f)/2,A=A*A+h,A>0)){for(A=Math.sqrt(A),p<f&&(A=-A),A=f-h/((p-f)/2+A),s=0;s<=v;s++)o.set(s,s,o.get(s,s)-A);S+=A,f=p=h=.964}for(T+=1,c=v-2;c>=u&&(O=o.get(c,c),k=f-O,A=p-O,R=(k*A-h)/o.get(c+1,c)+o.get(c,c+1),_=o.get(c+1,c+1)-O-k-A,k=o.get(c+2,c+1),A=Math.abs(R)+Math.abs(_)+Math.abs(k),R/=A,_/=A,k/=A,c!==u)&&!(Math.abs(o.get(c,c-1))*(Math.abs(_)+Math.abs(k))<E*(Math.abs(R)*(Math.abs(o.get(c-1,c-1))+Math.abs(O)+Math.abs(o.get(c+1,c+1)))));)c--;for(s=c+2;s<=v;s++)o.set(s,s-2,0),s>c+2&&o.set(s,s-3,0);for(a=c;a<=v-1&&(y=a!==v-1,a!==c&&(R=o.get(a,a-1),_=o.get(a+1,a-1),k=y?o.get(a+2,a-1):0,f=Math.abs(R)+Math.abs(_)+Math.abs(k),0!==f&&(R/=f,_/=f,k/=f)),0!==f);a++)if(A=Math.sqrt(R*R+_*_+k*k),R<0&&(A=-A),0!==A){for(a!==c?o.set(a,a-1,-A*f):u!==c&&o.set(a,a-1,-o.get(a,a-1)),R+=A,f=R/A,p=_/A,O=k/A,_/=R,k/=R,i=a;i<t;i++)R=o.get(a,i)+_*o.get(a+1,i),y&&(R+=k*o.get(a+2,i),o.set(a+2,i,o.get(a+2,i)-R*O)),o.set(a,i,o.get(a,i)-R*f),o.set(a+1,i,o.get(a+1,i)-R*p);for(s=0;s<=Math.min(v,a+3);s++)R=f*o.get(s,a)+p*o.get(s,a+1),y&&(R+=O*o.get(s,a+2),o.set(s,a+2,o.get(s,a+2)-R*k)),o.set(s,a,o.get(s,a)-R),o.set(s,a+1,o.get(s,a+1)-R*_);for(s=0;s<=x;s++)R=f*n.get(s,a)+p*n.get(s,a+1),y&&(R+=O*n.get(s,a+2),n.set(s,a+2,n.get(s,a+2)-R*k)),n.set(s,a,n.get(s,a)-R),n.set(s,a+1,n.get(s,a+1)-R*_)}}}if(0!==M){for(v=t-1;v>=0;v--)if(R=r[v],_=e[v],0===_)for(u=v,o.set(v,v,1),s=v-1;s>=0;s--){for(h=o.get(s,s)-R,k=0,i=u;i<=v;i++)k+=o.get(s,i)*o.get(i,v);if(e[s]<0)O=h,A=k;else if(u=s,0===e[s]?o.set(s,v,0!==h?-k/h:-k/(E*M)):(f=o.get(s,s+1),p=o.get(s+1,s),_=(r[s]-R)*(r[s]-R)+e[s]*e[s],l=(f*A-O*k)/_,o.set(s,v,l),o.set(s+1,v,Math.abs(f)>Math.abs(O)?(-k-h*l)/f:(-A-p*l)/O)),l=Math.abs(o.get(s,v)),E*l*l>1)for(i=s;i<=v;i++)o.set(i,v,o.get(i,v)/l)}else if(_<0)for(u=v-1,Math.abs(o.get(v,v-1))>Math.abs(o.get(v-1,v))?(o.set(v-1,v-1,_/o.get(v,v-1)),o.set(v-1,v,-(o.get(v,v)-R)/o.get(v,v-1))):(b=F(0,-o.get(v-1,v),o.get(v-1,v-1)-R,_),o.set(v-1,v-1,b[0]),o.set(v-1,v,b[1])),o.set(v,v-1,0),o.set(v,v,1),s=v-2;s>=0;s--){for(d=0,m=0,i=u;i<=v;i++)d+=o.get(s,i)*o.get(i,v-1),m+=o.get(s,i)*o.get(i,v);if(h=o.get(s,s)-R,e[s]<0)O=h,k=d,A=m;else if(u=s,0===e[s]?(b=F(-d,-m,h,_),o.set(s,v-1,b[0]),o.set(s,v,b[1])):(f=o.get(s,s+1),p=o.get(s+1,s),g=(r[s]-R)*(r[s]-R)+e[s]*e[s]-_*_,w=2*(r[s]-R)*_,0===g&&0===w&&(g=E*M*(Math.abs(h)+Math.abs(_)+Math.abs(f)+Math.abs(p)+Math.abs(O))),b=F(f*k-O*d+_*m,f*A-O*m-_*d,g,w),o.set(s,v-1,b[0]),o.set(s,v,b[1]),Math.abs(f)>Math.abs(O)+Math.abs(_)?(o.set(s+1,v-1,(-d-h*o.get(s,v-1)+_*o.get(s,v))/f),o.set(s+1,v,(-m-h*o.get(s,v)-_*o.get(s,v-1))/f)):(b=F(-k-p*o.get(s,v-1),-A-p*o.get(s,v),O,_),o.set(s+1,v-1,b[0]),o.set(s+1,v,b[1]))),l=Math.max(Math.abs(o.get(s,v-1)),Math.abs(o.get(s,v))),E*l*l>1)for(i=s;i<=v;i++)o.set(i,v-1,o.get(i,v-1)/l),o.set(i,v,o.get(i,v)/l)}for(s=0;s<t;s++)if(s<0||s>x)for(i=s;i<t;i++)n.set(s,i,o.get(s,i));for(i=t-1;i>=0;i--)for(s=0;s<=x;s++){for(O=0,a=0;a<=Math.min(i,x);a++)O+=n.get(s,a)*o.get(a,i);n.set(s,i,O)}}}(s,u,a,i,t)}this.n=s,this.e=u,this.d=a,this.V=i}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,n=this.e,o=this.d,s=new E(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)s.set(t,e,0);s.set(t,t,o[t]),n[t]>0?s.set(t,t+1,n[t]):n[t]<0&&s.set(t,t-1,n[t])}return s}}function F(t,e,r,n){let o,s;return Math.abs(r)>Math.abs(n)?(o=n/r,s=r+o*n,[(t+o*e)/s,(e-o*t)/s]):(o=r/n,s=n+o*r,[(o*t+e)/s,(o*e-t)/s])}class D{constructor(t){if(!(t=A.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");let e,r,n,o=t,s=o.rows,i=new E(s,s),a=!0;for(r=0;r<s;r++){let t=0;for(n=0;n<r;n++){let s=0;for(e=0;e<n;e++)s+=i.get(n,e)*i.get(r,e);s=(o.get(r,n)-s)/i.get(n,n),i.set(r,n,s),t+=s*s}for(t=o.get(r,r)-t,a&=t>0,i.set(r,r,Math.sqrt(Math.max(t,0))),n=r+1;n<s;n++)i.set(r,n,0)}this.L=i,this.positiveDefinite=Boolean(a)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=A.checkMatrix(t);let e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let n,o,s,i=t.columns,a=t.clone();for(s=0;s<r;s++)for(o=0;o<i;o++){for(n=0;n<s;n++)a.set(s,o,a.get(s,o)-a.get(n,o)*e.get(s,n));a.set(s,o,a.get(s,o)/e.get(s,s))}for(s=r-1;s>=0;s--)for(o=0;o<i;o++){for(n=s+1;n<r;n++)a.set(s,o,a.get(s,o)-a.get(n,o)*e.get(n,s));a.set(s,o,a.get(s,o)/e.get(s,s))}return a}get lowerTriangularMatrix(){return this.L}}class z{constructor(t,e={}){t=A.checkMatrix(t);let{Y:r}=e;const{scaleScores:o=!1,maxIterations:s=1e3,terminationCriteria:i=1e-10}=e;let a;if(r){if(r=n.isAnyArray(r)&&"number"==typeof r[0]?E.columnVector(r):A.checkMatrix(r),r.rows!==t.rows)throw new Error("Y should have the same number of rows as X");a=r.getColumnVector(0)}else a=t.getColumnVector(0);let u,c,l,h,f=1;for(let e=0;e<s&&f>i;e++)l=t.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),l=l.div(l.norm()),u=t.mmul(l).div(l.transpose().mmul(l).get(0,0)),e>0&&(f=u.clone().sub(h).pow(2).sum()),h=u.clone(),r?(c=r.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),c=c.div(c.norm()),a=r.mmul(c).div(c.transpose().mmul(c).get(0,0))):a=u;if(r){let e=t.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0));e=e.div(e.norm());let n=t.clone().sub(u.clone().mmul(e.transpose())),o=a.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),s=r.clone().sub(u.clone().mulS(o.get(0,0)).mmul(c.transpose()));this.t=u,this.p=e.transpose(),this.w=l.transpose(),this.q=c,this.u=a,this.s=u.transpose().mmul(u),this.xResidual=n,this.yResidual=s,this.betas=o}else this.w=l.transpose(),this.s=u.transpose().mmul(u).sqrt(),this.t=o?u.clone().div(this.s.get(0,0)):u,this.xResidual=t.sub(u.mmul(l.transpose()))}}e.y3=v,e.jy=D,e.oN=D,e.Hc=M,e.cg=P,e.hj=P,e.LU=O,e.Tb=O,e.uq=E,e.Zm=class extends R{constructor(t,e){m(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}},e.Dq=class extends R{constructor(t,e){h(t,e),super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}},e.__=class extends R{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}},e.q0=class extends R{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}},e.lh=class extends R{constructor(t,e){d(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}},e.pI=class extends R{constructor(t,e){l(t,e),super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}},e.zC=_,e.zg=class extends R{constructor(t,e,r,n,o){g(t,e,r,n,o),super(t,r-e+1,o-n+1),this.startRow=e,this.startColumn=n}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}},e.g6=class extends R{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}},e.OL=z,e.ks=z,e.QR=C,e.jp=C,e.mk=L,e.W2=L,e.l=S,e.KY=k,e.dv=A,e.BR=function(t,e=t,r={}){t=new E(t);let o=!1;if("object"!=typeof e||E.isMatrix(e)||n.isAnyArray(e)?e=new E(e):(r=e,e=t,o=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:s=!0,scale:i=!0}=r;s&&(t.center("column"),o||e.center("column")),i&&(t.scale("column"),o||e.scale("column"));const a=t.standardDeviation("column",{unbiased:!0}),u=o?a:e.standardDeviation("column",{unbiased:!0}),c=t.transpose().mmul(e);for(let e=0;e<c.rows;e++)for(let r=0;r<c.columns;r++)c.set(e,r,c.get(e,r)*(1/(a[e]*u[r]))*(1/(t.rows-1)));return c},e.Wu=function(t,e=t,r={}){t=new E(t);let o=!1;if("object"!=typeof e||E.isMatrix(e)||n.isAnyArray(e)?e=new E(e):(r=e,e=t,o=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:s=!0}=r;s&&(t=t.center("column"),o||(e=e.center("column")));const i=t.transpose().mmul(e);for(let e=0;e<i.rows;e++)for(let r=0;r<i.columns;r++)i.set(e,r,i.get(e,r)*(1/(t.rows-1)));return i},e.a4=function t(e){if((e=E.checkMatrix(e)).isSquare()){if(0===e.columns)return 1;let r,n,o,s;if(2===e.columns)return r=e.get(0,0),n=e.get(0,1),o=e.get(1,0),s=e.get(1,1),r*s-n*o;if(3===e.columns){let s,i,a;return s=new _(e,[1,2],[1,2]),i=new _(e,[1,2],[0,2]),a=new _(e,[1,2],[0,1]),r=e.get(0,0),n=e.get(0,1),o=e.get(0,2),r*t(s)-n*t(i)+o*t(a)}return new O(e).determinant}throw Error("determinant can only be calculated for a square matrix")},e.DI=function(t,e=!1){return t=A.checkMatrix(t),e?new L(t).inverse():N(t,E.eye(t.rows))},e.Jo=function(t,e={}){const{thresholdValue:r=1e-9,thresholdError:n=1e-9}=e;let o=(t=E.checkMatrix(t)).rows,s=new E(o,o);for(let e=0;e<o;e++){let i=E.columnVector(t.getRow(e)),a=t.subMatrixRow(I(o,e)).transpose(),u=new L(a).solve(i),c=E.sub(i,a.mmul(u)).abs().max();s.setRow(e,j(c,u,e,r,n))}return s},e.Zi=function(t,e=Number.EPSILON){if((t=E.checkMatrix(t)).isEmpty())return t.transpose();let r=new L(t,{autoTranspose:!0}),n=r.leftSingularVectors,o=r.rightSingularVectors,s=r.diagonal;for(let t=0;t<s.length;t++)Math.abs(s[t])>e?s[t]=1/s[t]:s[t]=0;return o.mmul(E.diag(s).mmul(n.transpose()))},e.kH=N,e.LV=function(t,e){if(n.isAnyArray(t))return t[0]&&n.isAnyArray(t[0])?new A(t):new k(t,e);throw new Error("the argument is not an array")}},98:function(t,e){var r,n;r=function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},r=!e.document&&!!e.postMessage,n=e.IS_PAPA_WORKER||!1,o={},s=0,i={parse:function(r,n){var a=(n=n||{}).dynamicTyping||!1;if(x(a)&&(n.dynamicTypingFunction=a,a={}),n.dynamicTyping=a,n.transform=!!x(n.transform)&&n.transform,n.worker&&i.WORKERS_SUPPORTED){var u=function(){if(!i.WORKERS_SUPPORTED)return!1;var r,n,a=(r=e.URL||e.webkitURL||null,n=t.toString(),i.BLOB_URL||(i.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",n,")();"],{type:"text/javascript"})))),u=new e.Worker(a);return u.onmessage=g,u.id=s++,o[u.id]=u}();return u.userStep=n.step,u.userChunk=n.chunk,u.userComplete=n.complete,u.userError=n.error,n.step=x(n.step),n.chunk=x(n.chunk),n.complete=x(n.complete),n.error=x(n.error),delete n.worker,void u.postMessage({input:r,config:n,workerId:u.id})}var p=null;return i.NODE_STREAM_INPUT,"string"==typeof r?(r=function(t){return 65279===t.charCodeAt(0)?t.slice(1):t}(r),p=n.download?new c(n):new h(n)):!0===r.readable&&x(r.read)&&x(r.on)?p=new f(n):(e.File&&r instanceof File||r instanceof Object)&&(p=new l(n)),p.stream(r)},unparse:function(t,e){var r=!1,n=!0,o=",",s="\r\n",a='"',u=a+a,c=!1,l=null,h=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||i.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(o=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(r=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(c=e.skipEmptyLines),"string"==typeof e.newline&&(s=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(n=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");l=e.columns}void 0!==e.escapeChar&&(u=e.escapeChar+a),("boolean"==typeof e.escapeFormulae||e.escapeFormulae instanceof RegExp)&&(h=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=new RegExp(d(a),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return p(null,t,c);if("object"==typeof t[0])return p(l||Object.keys(t[0]),t,c)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||l),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),p(t.fields||[],t.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(t,e,r){var i="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(a&&n){for(var c=0;c<t.length;c++)0<c&&(i+=o),i+=m(t[c],c);0<e.length&&(i+=s)}for(var l=0;l<e.length;l++){var h=a?t.length:e[l].length,f=!1,p=a?0===Object.keys(e[l]).length:0===e[l].length;if(r&&!a&&(f="greedy"===r?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===r&&a){for(var d=[],g=0;g<h;g++){var w=u?t[g]:g;d.push(e[l][w])}f=""===d.join("").trim()}if(!f){for(var y=0;y<h;y++){0<y&&!p&&(i+=o);var b=a&&u?t[y]:y;i+=m(e[l][b],y)}l<e.length-1&&(!r||0<h&&!p)&&(i+=s)}}return i}function m(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var n=!1;h&&"string"==typeof t&&h.test(t)&&(t="'"+t,n=!0);var s=t.toString().replace(f,u);return(n=n||!0===r||"function"==typeof r&&r(t,e)||Array.isArray(r)&&r[e]||function(t,e){for(var r=0;r<e.length;r++)if(-1<t.indexOf(e[r]))return!0;return!1}(s,i.BAD_DELIMITERS)||-1<s.indexOf(o)||" "===s.charAt(0)||" "===s.charAt(s.length-1))?a+s+a:s}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!r&&!!e.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=m,i.ParserHandle=p,i.NetworkStreamer=c,i.FileStreamer=l,i.StringStreamer=h,i.ReadableStreamStreamer=f,e.jQuery){var a=e.jQuery;a.fn.parse=function(t){var r=t.config||{},n=[];return this.each((function(t){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)n.push({file:this.files[o],inputElem:this,instanceConfig:a.extend({},r)})})),o(),this;function o(){if(0!==n.length){var e,r,o,u=n[0];if(x(t.before)){var c=t.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return e=u.file,r=u.inputElem,o=c.reason,void(x(t.error)&&t.error({name:"AbortError"},e,r,o));if("skip"===c.action)return void s();"object"==typeof c.config&&(u.instanceConfig=a.extend(u.instanceConfig,c.config))}else if("skip"===c)return void s()}var l=u.instanceConfig.complete;u.instanceConfig.complete=function(t){x(l)&&l(t,u.file,u.inputElem),s()},i.parse(u.file,u.instanceConfig)}else x(t.complete)&&t.complete()}function s(){n.splice(0,1),o()}}}function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new p(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,r){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var o=this._config.beforeFirstChunk(t);void 0!==o&&(t=o)}this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+t;this._partialLine="";var a=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=a.meta.cursor;this._finished||(this._partialLine=s.substring(u-this._baseIndex),this._baseIndex=u),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)e.postMessage({results:a,workerId:i.WORKER_ID,finished:c});else if(x(this._config.chunk)&&!r){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!x(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){x(this._config.error)?this._config.error(t):n&&this._config.error&&e.postMessage({workerId:i.WORKER_ID,error:t,finished:!1})}}function c(t){var e;(t=t||{}).chunkSize||(t.chunkSize=i.RemoteChunkSize),u.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=v(this._chunkLoaded,this),e.onerror=v(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}r&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var r=e.statusText||t;this._sendError(new Error(r))}}function l(t){var e,r;(t=t||{}).chunkSize||(t.chunkSize=i.LocalChunkSize),u.call(this,t);var n="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,r=t.slice||t.webkitSlice||t.mozSlice,n?((e=new FileReader).onload=v(this._chunkLoaded,this),e.onerror=v(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);t=r.call(t,this._start,o)}var s=e.readAsText(t,this._config.encoding);n||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,r=this._config.chunkSize;return r?(t=e.substring(0,r),e=e.substring(r)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function f(t){u.call(this,t=t||{});var e=[],r=!0,n=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):r=!0},this._streamData=v((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=v((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=v((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=v((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(t){var e,r,n,o=Math.pow(2,53),s=-o,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,u=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,l=0,h=0,f=!1,p=!1,g=[],w={data:[],errors:[],meta:{}};if(x(t.step)){var y=t.step;t.step=function(e){if(w=e,S())E();else{if(E(),0===w.data.length)return;l+=e.data.length,t.preview&&l>t.preview?r.abort():(w.data=w.data[0],y(w,c))}}}function v(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function E(){return w&&n&&(R("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines&&(w.data=w.data.filter((function(t){return!v(t)}))),S()&&function(){if(w)if(Array.isArray(w.data[0])){for(var e=0;S()&&e<w.data.length;e++)w.data[e].forEach(r);w.data.splice(0,1)}else w.data.forEach(r);function r(e,r){x(t.transformHeader)&&(e=t.transformHeader(e,r)),g.push(e)}}(),function(){if(!w||!t.header&&!t.dynamicTyping&&!t.transform)return w;function e(e,r){var n,o=t.header?{}:[];for(n=0;n<e.length;n++){var s=n,i=e[n];t.header&&(s=n>=g.length?"__parsed_extra":g[n]),t.transform&&(i=t.transform(i,s)),i=M(s,i),"__parsed_extra"===s?(o[s]=o[s]||[],o[s].push(i)):o[s]=i}return t.header&&(n>g.length?R("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+n,h+r):n<g.length&&R("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+n,h+r)),o}var r=1;return!w.data.length||Array.isArray(w.data[0])?(w.data=w.data.map(e),r=w.data.length):w.data=e(w.data,0),t.header&&w.meta&&(w.meta.fields=g),h+=r,w}()}function S(){return t.header&&0===g.length}function M(e,r){return n=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[n]&&(t.dynamicTyping[n]=t.dynamicTypingFunction(n)),!0===(t.dynamicTyping[n]||t.dynamicTyping)?"true"===r||"TRUE"===r||"false"!==r&&"FALSE"!==r&&(function(t){if(a.test(t)){var e=parseFloat(t);if(s<e&&e<o)return!0}return!1}(r)?parseFloat(r):u.test(r)?new Date(r):""===r?null:r):r;var n}function R(t,e,r,n){var o={type:t,code:e,message:r};void 0!==n&&(o.row=n),w.errors.push(o)}this.parse=function(o,s,a){var u=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var r=new RegExp(d(e)+"([^]*?)"+d(e),"gm"),n=(t=t.replace(r,"")).split("\r"),o=t.split("\n"),s=1<o.length&&o[0].length<n[0].length;if(1===n.length||s)return"\n";for(var i=0,a=0;a<n.length;a++)"\n"===n[a][0]&&i++;return i>=n.length/2?"\r\n":"\r"}(o,u)),n=!1,t.delimiter)x(t.delimiter)&&(t.delimiter=t.delimiter(o),w.meta.delimiter=t.delimiter);else{var c=function(e,r,n,o,s){var a,u,c,l;s=s||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var h=0;h<s.length;h++){var f=s[h],p=0,d=0,g=0;c=void 0;for(var w=new m({comments:o,delimiter:f,newline:r,preview:10}).parse(e),y=0;y<w.data.length;y++)if(n&&v(w.data[y]))g++;else{var b=w.data[y].length;d+=b,void 0!==c?0<b&&(p+=Math.abs(b-c),c=b):c=b}0<w.data.length&&(d/=w.data.length-g),(void 0===u||p<=u)&&(void 0===l||l<d)&&1.99<d&&(u=p,a=f,l=d)}return{successful:!!(t.delimiter=a),bestDelimiter:a}}(o,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);c.successful?t.delimiter=c.bestDelimiter:(n=!0,t.delimiter=i.DefaultDelimiter),w.meta.delimiter=t.delimiter}var l=b(t);return t.preview&&t.header&&l.preview++,e=o,r=new m(l),w=r.parse(e,s,a),E(),f?{meta:{paused:!0}}:w||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,r.abort(),e=x(t.chunk)?"":e.substring(r.getCharIndex())},this.resume=function(){c.streamer._halted?(f=!1,c.streamer.parseChunk(e,!0)):setTimeout(c.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,r.abort(),w.meta.aborted=!0,x(t.complete)&&t.complete(w),e=""}}function d(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(t){var e,r=(t=t||{}).delimiter,n=t.newline,o=t.comments,s=t.step,a=t.preview,u=t.fastMode,c=e=void 0===t.quoteChar||null===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof r||-1<i.BAD_DELIMITERS.indexOf(r))&&(r=","),o===r)throw new Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||-1<i.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var l=0,h=!1;this.parse=function(i,f,p){if("string"!=typeof i)throw new Error("Input must be a string");var m=i.length,g=r.length,w=n.length,y=o.length,b=x(s),v=[],E=[],S=[],M=l=0;if(!i)return W();if(t.header&&!f){var R=i.split(n)[0].split(r),_=[],k={},A=!1;for(var O in R){var T=R[O];x(t.transformHeader)&&(T=t.transformHeader(T,O));var C=T,L=k[T]||0;for(0<L&&(A=!0,C=T+"_"+L),k[T]=L+1;_.includes(C);)C=C+"_"+L;_.push(C)}if(A){var N=i.split(n);N[0]=_.join(r),i=N.join(n)}}if(u||!1!==u&&-1===i.indexOf(e)){for(var I=i.split(n),j=0;j<I.length;j++){if(S=I[j],l+=S.length,j!==I.length-1)l+=n.length;else if(p)return W();if(!o||S.substring(0,y)!==o){if(b){if(v=[],B(S.split(r)),G(),h)return W()}else B(S.split(r));if(a&&a<=j)return v=v.slice(0,a),W(!0)}}return W()}for(var P=i.indexOf(r,l),F=i.indexOf(n,l),D=new RegExp(d(c)+d(e),"g"),z=i.indexOf(e,l);;)if(i[l]!==e)if(o&&0===S.length&&i.substring(l,l+y)===o){if(-1===F)return W();l=F+w,F=i.indexOf(n,l),P=i.indexOf(r,l)}else if(-1!==P&&(P<F||-1===F))S.push(i.substring(l,P)),l=P+g,P=i.indexOf(r,l);else{if(-1===F)break;if(S.push(i.substring(l,F)),H(F+w),b&&(G(),h))return W();if(a&&v.length>=a)return W(!0)}else for(z=l,l++;;){if(-1===(z=i.indexOf(e,z+1)))return p||E.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:l}),$();if(z===m-1)return $(i.substring(l,z).replace(D,e));if(e!==c||i[z+1]!==c){if(e===c||0===z||i[z-1]!==c){-1!==P&&P<z+1&&(P=i.indexOf(r,z+1)),-1!==F&&F<z+1&&(F=i.indexOf(n,z+1));var q=V(-1===F?P:Math.min(P,F));if(i.substr(z+1+q,g)===r){S.push(i.substring(l,z).replace(D,e)),i[l=z+1+q+g]!==e&&(z=i.indexOf(e,l)),P=i.indexOf(r,l),F=i.indexOf(n,l);break}var U=V(F);if(i.substring(z+1+U,z+1+U+w)===n){if(S.push(i.substring(l,z).replace(D,e)),H(z+1+U+w),P=i.indexOf(r,l),z=i.indexOf(e,l),b&&(G(),h))return W();if(a&&v.length>=a)return W(!0);break}E.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:l}),z++}}else z++}return $();function B(t){v.push(t),M=l}function V(t){var e=0;if(-1!==t){var r=i.substring(z+1,t);r&&""===r.trim()&&(e=r.length)}return e}function $(t){return p||(void 0===t&&(t=i.substring(l)),S.push(t),l=m,B(S),b&&G()),W()}function H(t){l=t,B(S),S=[],F=i.indexOf(n,l)}function W(t){return{data:v,errors:E,meta:{delimiter:r,linebreak:n,aborted:h,truncated:!!t,cursor:M+(f||0)}}}function G(){s(W()),v=[],E=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return l}}function g(t){var e=t.data,r=o[e.workerId],n=!1;if(e.error)r.userError(e.error,e.file);else if(e.results&&e.results.data){var s={abort:function(){n=!0,w(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(x(r.userStep)){for(var i=0;i<e.results.data.length&&(r.userStep({data:e.results.data[i],errors:e.results.errors,meta:e.results.meta},s),!n);i++);delete e.results}else x(r.userChunk)&&(r.userChunk(e.results,s,e.file),delete e.results)}e.finished&&!n&&w(e.workerId,e.results)}function w(t,e){var r=o[t];x(r.userComplete)&&r.userComplete(e),r.terminate(),delete o[t]}function y(){throw new Error("Not implemented.")}function b(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=b(t[r]);return e}function v(t,e){return function(){t.apply(e,arguments)}}function x(t){return"function"==typeof t}return n&&(e.onmessage=function(t){var r=t.data;if(void 0===i.WORKER_ID&&r&&(i.WORKER_ID=r.workerId),"string"==typeof r.input)e.postMessage({workerId:i.WORKER_ID,results:i.parse(r.input,r.config),finished:!0});else if(e.File&&r.input instanceof File||r.input instanceof Object){var n=i.parse(r.input,r.config);n&&e.postMessage({workerId:i.WORKER_ID,results:n,finished:!0})}}),(c.prototype=Object.create(u.prototype)).constructor=c,(l.prototype=Object.create(u.prototype)).constructor=l,(h.prototype=Object.create(h.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,i},void 0===(n=r.apply(e,[]))||(t.exports=n)}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{"use strict";var t={};function e(t,e){let r=0;for(let n=0;n<t.length;n++)r+=(t[n]-e[n])*(t[n]-e[n]);return r}r.r(t),r.d(t,{hasBrowserEnv:()=>Vt,hasStandardBrowserEnv:()=>$t,hasStandardBrowserWebWorkerEnv:()=>Wt,origin:()=>Gt});const n={distanceFunction:e};function o(t,e,r=n){const o=r.distanceFunction||n.distanceFunction,s=r.similarityFunction||n.similarityFunction;let i=-1;if("function"==typeof s){let r=Number.MIN_VALUE;for(let n=0;n<t.length;n++){const o=s(e,t[n]);o>r&&(r=o,i=n)}}else{if("function"!=typeof o)throw new Error("A similarity or distance function it's required");{let r=Number.MAX_VALUE;for(let n=0;n<t.length;n++){const s=o(e,t[n]);s<r&&(r=s,i=n)}}}return i}function s(t,e,r,n){for(let s=0;s<t.length;s++)r[s]=o(e,t[s],{distanceFunction:n});return r}class i{constructor(t,e,r,n,o){this.clusters=t,this.centroids=e,this.converged=r,this.iterations=n,this.distance=o}nearest(t){const e=new Array(t.length);return s(t,this.centroids,e,this.distance)}computeInformation(t){let e=this.centroids.map((t=>({centroid:t,error:0,size:0})));for(let r=0;r<t.length;r++)e[this.clusters[r]].error+=this.distance(t[r],this.centroids[this.clusters[r]]),e[this.clusters[r]].size++;for(let t=0;t<this.centroids.length;t++){let r=e[t].error;e[t].size&&-1!==r?r/=e[t].size:e[t].error=-1}return e}}var a=r(868);a.y3,a.jy,a.oN,a.Hc,a.cg,a.hj,a.LU,a.Tb;const u=a.uq,c=(a.Zm,a.Dq,a.__,a.q0,a.lh,a.pI,a.zC,a.zg,a.g6,a.OL,a.ks,a.QR,a.jp,a.mk,a.W2,a.l,a.KY,a.dv,a.BR,a.Wu,a.uq,a.uq,a.a4,a.DI,a.Jo,a.Zi,a.kH,a.LV,1/16777216);function l(t,e){const r=65535&(t>>>=0);return((t-r)*(e>>>=0)>>>0)+r*e>>>0}class h{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*c}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let t=1;t<8;t++)this.state[3&t]^=t+l(1812433253,this.state[t-1&3]^this.state[t-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let t=0;t<8;t++)this.nextState()}periodCertification(){0===this.state[0]&&0===this.state[1]&&0===this.state[2]&&0===this.state[3]&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<15,t^=t>>>18,t^=this.state[3]<<11,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}function f(t,e,r){const n=e();if(r){let t=0;for(;n>r[t];)t++;return t}return Math.floor(n*t)}class p{constructor(t=Math.random){if("number"==typeof t){const e=new h(t);this.randomGenerator=e.random}else this.randomGenerator=t}choice(t,e){return function(t,e={},r=Math.random){const{size:n=1,replace:o=!1,probabilities:s}=e;let i,a;if(i="number"==typeof t?function(t){const e=[];for(let r=0;r<t;r++)e.push(r);return e}(t):t.slice(),s){if(!o)throw new Error("choice with probabilities and no replacement is not implemented");if(s.length!==i.length)throw new Error("the length of probabilities option should be equal to the number of choices");a=[s[0]];for(let t=1;t<s.length;t++)a[t]=a[t-1]+s[t];if(Math.abs(1-a[a.length-1])>1e-8)throw new Error(`probabilities should sum to 1, but instead sums to ${a[a.length-1]}`)}if(!1===o&&n>i.length)throw new Error("size option is too large");const u=[];for(let t=0;t<n;t++){const t=f(i.length,r,a);u.push(i[t]),o||i.splice(t,1)}return u}(t,e,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,e){return void 0===e&&(e=t,t=0),t+Math.floor(this.randomGenerator()*(e-t))}randomSample(t){const e=[];for(let r=0;r<t;r++)e.push(this.random());return e}}function d(t,r){const n=new u(t.rows,r.rows);for(let o=0;o<t.rows;o++)for(let s=0;s<r.rows;s++)n.set(o,s,e(t.getRow(o),r.getRow(s)));return n}function m(t){let e=[];for(let r=0;r<t;r++)e.push(r);return e}function g(t){let e=[t[0]];for(let r=1;r<t.length;r++)e[r]=e[r-1]+t[r];return e}const w={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:e};function y(t,e,r,n,o,a){let u=function(t,e,r,n){const o=e[0].length;let s=new Array(n),i=new Array(n);for(let t=0;t<n;t++){s[t]=new Array(o),i[t]=0;for(let e=0;e<o;e++)s[t][e]=0}for(let t=0;t<e.length;t++){i[r[t]]++;for(let n=0;n<o;n++)s[r[t]][n]+=e[t][n]}for(let e=0;e<n;e++)for(let r=0;r<o;r++)i[e]?s[e][r]/=i[e]:s[e][r]=t[e][r];return s}(t,e,r=s(e,t,r,o.distanceFunction),n),c=function(t,e,r,n){for(let o=0;o<t.length;o++)if(r(t[o],e[o])>n)return!1;return!0}(u,t,o.distanceFunction,o.tolerance);return new i(r,u,c,a,o.distanceFunction)}function b(t,r,n){const o=function(t){return{...w,...t}}(n);!function(t,e){if(e<=0||e>t.length||!Number.isInteger(e))throw new Error("K should be a positive integer smaller than the number of points")}(t,r);let s=function(t,r,n){let o;if(Array.isArray(n.initialization)){if(n.initialization.length!==r)throw new Error("The initial centers should have the same length as K");o=n.initialization}else switch(n.initialization){case"kmeans++":o=function(t,r,n={}){const o=new u(t),s=o.rows,i=new p(n.seed),a=[],c=n.localTrials||2+Math.floor(Math.log(r)),l=i.randInt(s);a.push(o.getRow(l));let h=new u(1,o.rows);for(let t=0;t<o.rows;t++)h.set(0,t,e(o.getRow(t),a[0]));let f=[g(h.getRow(0))];const w=1/f[0][s-1];let y=u.mul(h,w);for(let t=1;t<r;t++){const e=i.choice(s,{replace:!0,size:c,probabilities:y.getRow(0)}),r=d(o.selection(e,m(o.columns)),o);let n=1/0,l=1/0,p=h;for(let t=0;t<c;t++){const o=u.min(h,[r.getRow(t)]),s=o.sum();s<l&&(n=e[t],l=s,p=o)}a[t]=o.getRow(n),h=p,f=[g(h.getRow(0))],y=u.mul(h,1/f[0][s-1])}return a}(t,r,n);break;case"random":o=function(t,e,r){return new p(r).choice(t,{size:e})}(t,r,n.seed);break;case"mostDistant":o=function(t,e,r,n){const o=new p(n);let s=new Array(e);if(s[0]=Math.floor(o.random()*t.length),e>1){let n={dist:-1,index:-1};for(let e=0;e<t.length;++e)r[s[0]][e]>n.dist&&(n.dist=r[s[0]][e],n.index=e);if(s[1]=n.index,e>2)for(let n=2;n<e;++n){let e={dist:-1,index:-1};for(let o=0;o<t.length;++o){let t={dist:Number.MAX_VALUE,index:-1};for(let e=0;e<n;++e)r[e][o]<t.dist&&!s.includes(o)&&(t={dist:r[e][o],index:o});t.dist!==Number.MAX_VALUE&&t.dist>e.dist&&(e={...t})}s[n]=e.index}}return s.map((e=>t[e]))}(t,r,function(t,e){let r=new Array(t.length);for(let n=0;n<t.length;++n)for(let o=n;o<t.length;++o){r[n]||(r[n]=new Array(t.length)),r[o]||(r[o]=new Array(t.length));const s=e(t[n],t[o]);r[n][o]=s,r[o][n]=s}return r}(t,n.distanceFunction),n.seed);break;default:!function(t){throw new Error(`${"Unknown initialization method"}: "${String(t)}"`)}(n.initialization)}return o}(t,r,o);0===o.maxIterations&&(o.maxIterations=Number.MAX_VALUE);let i,a=new Array(t.length),c=!1,l=0;for(;!c&&l<o.maxIterations;)i=y(s,t,a,r,o,++l),c=i.converged,s=i.centroids;if(!i)throw new Error("unreachable: no kmeans step executed");return i}var v=r(98),x=r.n(v);const E=r.p+"src/assets/data.csv";var S=r(779),M=r.n(S);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function _(){_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var s=e&&e.prototype instanceof w?e:w,i=Object.create(s.prototype),a=new L(n||[]);return o(i,"_invoke",{value:A(t,r,a)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",m="completed",g={};function w(){}function y(){}function b(){}var v={};c(v,i,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(N([])));E&&E!==r&&n.call(E,i)&&(v=E);var S=b.prototype=w.prototype=Object.create(v);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,s,i,a){var u=h(t[o],t,s);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==R(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,a)}),(function(t){r("throw",t,i,a)})):e.resolve(l).then((function(t){c.value=t,i(c)}),(function(t){return r("throw",t,i,a)}))}a(u.arg)}var s;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return s=s?s.then(o,o):o()}})}function A(e,r,n){var o=f;return function(s,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===s)throw i;return{value:t,done:!0}}for(n.method=s,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var c=h(e,r,n);if("normal"===c.type){if(o=n.done?m:p,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var s=h(o,e.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,g;var i=s.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw new TypeError(R(e)+" is not iterable")}return y.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},M(k.prototype),c(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,s){void 0===s&&(s=Promise);var i=new k(l(t,r,n,o),s);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},M(S),c(S,u,"Generator"),c(S,i,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=t,i.arg=e,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function k(t,e,r,n,o,s,i){try{var a=t[s](i),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}const A=function(){var t,e=(t=_().mark((function t(){var e,r,n,o,s,i,a;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(E);case 3:return e=t.sent,t.next=6,e.text();case 6:return r=t.sent,n=x().parse(r,{header:!0}),o=n.data,console.log(o.find((function(t){return"greedy"===t.Track}))),s=/^[a-zA-Z.()\s"']+$/,i=o.filter((function(t){return s.test(t.Track)&&s.test(t.Artist)&&s.test(t["Album Name"])})),console.log(i.find((function(t){return"greedy"===t.Track}))),a=i.map((function(t){var e=Number(t["Amazon Playlist Count"].replace(/,/g,""))||0,r=Number(t["Deezer Playlist Count"].replace(/,/g,""))||0,n=Number(t["Spotify Playlist Count"].replace(/,/g,""))||0,o=t["Spotify Streams"]||"0",s=t["Release Date"].split("/"),i=parseInt(o.replace(/,/g,""),10);return{track:t.Track,features:[Number(s[2]),e,r,n],spotifyStreams:i,id:Number(M()()),artist:t.Artist,releaseDate:t["Release Date"],albumName:t["Album Name"],amazonPlaylistCount:e,deezerPlaylistCount:r,spotifyPlaylistCount:n}})),console.log(a.find((function(t){return"greedy"===t.track}))),t.abrupt("return",a);case 18:t.prev=18,t.t0=t.catch(0),console.error("Ошибка чтения файла:",t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var s=t.apply(e,r);function i(t){k(s,n,o,i,a,"next",t)}function a(t){k(s,n,o,i,a,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function T(){T=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var s=e&&e.prototype instanceof w?e:w,i=Object.create(s.prototype),a=new L(n||[]);return o(i,"_invoke",{value:_(t,r,a)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",m="completed",g={};function w(){}function y(){}function b(){}var v={};c(v,i,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(N([])));E&&E!==r&&n.call(E,i)&&(v=E);var S=b.prototype=w.prototype=Object.create(v);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function R(t,e){function r(o,s,i,a){var u=h(t[o],t,s);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==O(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,a)}),(function(t){r("throw",t,i,a)})):e.resolve(l).then((function(t){c.value=t,i(c)}),(function(t){return r("throw",t,i,a)}))}a(u.arg)}var s;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return s=s?s.then(o,o):o()}})}function _(e,r,n){var o=f;return function(s,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===s)throw i;return{value:t,done:!0}}for(n.method=s,n.arg=i;;){var a=n.delegate;if(a){var u=k(a,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var c=h(e,r,n);if("normal"===c.type){if(o=n.done?m:p,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function k(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var s=h(o,e.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,g;var i=s.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw new TypeError(O(e)+" is not iterable")}return y.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},M(R.prototype),c(R.prototype,a,(function(){return this})),e.AsyncIterator=R,e.async=function(t,r,n,o,s){void 0===s&&(s=Promise);var i=new R(l(t,r,n,o),s);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},M(S),c(S,u,"Generator"),c(S,i,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=t,i.arg=e,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function C(t,e,r,n,o,s,i){try{var a=t[s](i),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function L(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var s=t.apply(e,r);function i(t){C(s,n,o,i,a,"next",t)}function a(t){C(s,n,o,i,a,"throw",t)}i(void 0)}))}}const N=function(t){var e=document.querySelector("canvas"),r=e.getContext("2d"),n=t.nodes,o=t.links,s=document.getElementById("tooltip"),i=function(){e.width=window.innerWidth,e.height=window.innerHeight};window.onresize=i,i();var a=function(t){return n.find((function(e){return e.id===t}))},u=function(){o.forEach((function(t){var e=a(t.source),n=a(t.target);e&&n&&(r.beginPath(),r.moveTo(e.coordinates.x,e.coordinates.y),r.lineTo(n.coordinates.x,n.coordinates.y),r.strokeStyle=t.color,r.lineWidth=Math.max(1,5*t.value)/100,r.stroke())})),n.forEach((function(t){r.beginPath(),r.arc(t.coordinates.x,t.coordinates.y,t.size,0,2*Math.PI,!0),r.fillStyle=t.color,r.fill()}))};u();var c=function(t,e,r){var n=t-r.coordinates.x,o=e-r.coordinates.y;return n*n+o*o<=r.size*r.size},l=function(){r.clearRect(0,0,e.width,e.height),n.forEach((function(t){r.beginPath(),r.arc(t.coordinates.x,t.coordinates.y,t.size,0,2*Math.PI),r.fillStyle=t.highlighted?"red":t.color,r.fill(),r.stroke()})),o.forEach((function(t){var e=a(t.source),n=a(t.target);e&&n&&(r.beginPath(),r.moveTo(e.coordinates.x,e.coordinates.y),r.lineTo(n.coordinates.x,n.coordinates.y),r.strokeStyle=t.color,r.lineWidth=Math.max(1,5*t.value)/100,r.stroke())}))};function h(t){var e=t.match(/track\/([a-zA-Z0-9]{22})/);return e?e[1]:null}var f=h("https://open.spotify.com/track/5Wz8kPzxCB8U86RWqzD4tH");f?console.log("Track ID:",f):console.log("No track ID found in the URL."),e.addEventListener("click",function(){var t=L(T().mark((function t(r){var o,i,a,f,p,d,m,g,w,y,b,v;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v=function(){return(v=L(T().mark((function t(e){var r,n;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("access_token"),t.next=3,w(e,r);case 3:if(!(n=t.sent)){t.next=8;break}return t.abrupt("return",n.preview_url);case 8:return t.abrupt("return",null);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)},b=function(t){return v.apply(this,arguments)},y=function(){return y=L(T().mark((function t(e,r){var n,o,s;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://api.spotify.com/v1/search?q=".concat(encodeURIComponent(e),"&type=track&limit=1"),t.next=3,fetch(n,{headers:{Authorization:"Bearer ".concat(r)}});case 3:return o=t.sent,t.next=6,o.json();case 6:return s=t.sent,t.abrupt("return",s.tracks.items[0]);case 8:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)},w=function(t,e){return y.apply(this,arguments)},o=e.getBoundingClientRect(),i=r.clientX-o.left,a=r.clientY-o.top,f=n.find((function(t){return c(i,a,t)})),!f){t.next=40;break}return x=f,E=i,S=a,s.style.display="block",s.innerHTML="\n      <strong>Track:</strong> ".concat(x.label,"<br>\n      <strong>Artist:</strong> ").concat(x.artist,"<br>\n      <strong>Album:</strong> ").concat(x.albumName,"<br>\n      <strong>Spotify Streams:</strong> ").concat(x.spotifyStreams,"<br>\n      <strong>Amazon Playlists:</strong> ").concat(x.amazonPlaylistCount,"<br>\n      <strong>Deezer Playlists:</strong> ").concat(x.deezerPlaylistCount,"<br>\n      <strong>Spotify Playlists:</strong> ").concat(x.spotifyPlaylistCount,"<br>\n      <strong>Release Date:</strong> ").concat(x.releaseDate,"\n    "),s.style.left="".concat(E+15,"px"),s.style.top="".concat(S+15,"px"),n.forEach((function(t){t.highlighted=t.id===f.id})),l(),t.next=14,b(f.label);case 14:if(!(p=t.sent)){t.next=36;break}if(!(d=h(p))){t.next=27;break}return t.next=20,getRecommendations(d,accessToken);case 20:m=t.sent,console.log(m),(g=document.getElementById("recommendations")).innerHTML="",m.length>0?m.forEach((function(t){var e=document.createElement("li");e.textContent="".concat(t.name," by ").concat(t.artists.map((function(t){return t.name})).join(", ")),g.appendChild(e)})):document.getElementById("error-message").style.display="block",t.next=28;break;case 27:d||(document.getElementById("error-message").style.display="block");case 28:document.getElementById("track-prev").style.display="block",document.getElementById("error-message").style.display="none",document.getElementById("audio-source").src=p,document.getElementById("audio-player").load(),document.getElementById("audio-player").play(),document.getElementById("audio-player").muted=!0,t.next=38;break;case 36:document.getElementById("error-message").style.display="block",document.getElementById("error-message").textContent="Sorry, no preview available for ".concat(f.label," ").concat(f.artist);case 38:t.next=45;break;case 40:n.forEach((function(t){t.highlighted=!1,t.color="blue"})),l(),u(),s.style.display="none",document.getElementById("track-prev").style.display="none",document.getElementById("error-message").style.display="none";case 45:case"end":return t.stop()}var x,E,S}),t)})));return function(e){return t.apply(this,arguments)}}())};function I(t,e){return function(){return t.apply(e,arguments)}}const{toString:j}=Object.prototype,{getPrototypeOf:P}=Object,F=(D=Object.create(null),t=>{const e=j.call(t);return D[e]||(D[e]=e.slice(8,-1).toLowerCase())});var D;const z=t=>(t=t.toLowerCase(),e=>F(e)===t),q=t=>e=>typeof e===t,{isArray:U}=Array,B=q("undefined"),V=z("ArrayBuffer"),$=q("string"),H=q("function"),W=q("number"),G=t=>null!==t&&"object"==typeof t,K=t=>{if("object"!==F(t))return!1;const e=P(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},J=z("Date"),Y=z("File"),Q=z("Blob"),X=z("FileList"),Z=z("URLSearchParams"),[tt,et,rt,nt]=["ReadableStream","Request","Response","Headers"].map(z);function ot(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,o;if("object"!=typeof t&&(t=[t]),U(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let i;for(n=0;n<s;n++)i=o[n],e.call(null,t[i],i,t)}}function st(t,e){e=e.toLowerCase();const r=Object.keys(t);let n,o=r.length;for(;o-- >0;)if(n=r[o],e===n.toLowerCase())return n;return null}const it="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,at=t=>!B(t)&&t!==it,ut=(ct="undefined"!=typeof Uint8Array&&P(Uint8Array),t=>ct&&t instanceof ct);var ct;const lt=z("HTMLFormElement"),ht=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),ft=z("RegExp"),pt=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ot(r,((r,o)=>{let s;!1!==(s=e(r,o,t))&&(n[o]=s||r)})),Object.defineProperties(t,n)},dt="abcdefghijklmnopqrstuvwxyz",mt="0123456789",gt={DIGIT:mt,ALPHA:dt,ALPHA_DIGIT:dt+dt.toUpperCase()+mt},wt=z("AsyncFunction"),yt=(bt="function"==typeof setImmediate,vt=H(it.postMessage),bt?setImmediate:vt?(xt=`axios@${Math.random()}`,Et=[],it.addEventListener("message",(({source:t,data:e})=>{t===it&&e===xt&&Et.length&&Et.shift()()}),!1),t=>{Et.push(t),it.postMessage(xt,"*")}):t=>setTimeout(t));var bt,vt,xt,Et;const St="undefined"!=typeof queueMicrotask?queueMicrotask.bind(it):"undefined"!=typeof process&&process.nextTick||yt,Mt={isArray:U,isArrayBuffer:V,isBuffer:function(t){return null!==t&&!B(t)&&null!==t.constructor&&!B(t.constructor)&&H(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||H(t.append)&&("formdata"===(e=F(t))||"object"===e&&H(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&V(t.buffer),e},isString:$,isNumber:W,isBoolean:t=>!0===t||!1===t,isObject:G,isPlainObject:K,isReadableStream:tt,isRequest:et,isResponse:rt,isHeaders:nt,isUndefined:B,isDate:J,isFile:Y,isBlob:Q,isRegExp:ft,isFunction:H,isStream:t=>G(t)&&H(t.pipe),isURLSearchParams:Z,isTypedArray:ut,isFileList:X,forEach:ot,merge:function t(){const{caseless:e}=at(this)&&this||{},r={},n=(n,o)=>{const s=e&&st(r,o)||o;K(r[s])&&K(n)?r[s]=t(r[s],n):K(n)?r[s]=t({},n):U(n)?r[s]=n.slice():r[s]=n};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&ot(arguments[t],n);return r},extend:(t,e,r,{allOwnKeys:n}={})=>(ot(e,((e,n)=>{r&&H(e)?t[n]=I(e,r):t[n]=e}),{allOwnKeys:n}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let o,s,i;const a={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)i=o[s],n&&!n(i,t,e)||a[i]||(e[i]=t[i],a[i]=!0);t=!1!==r&&P(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:F,kindOfTest:z,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(U(t))return t;let e=t.length;if(!W(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:lt,hasOwnProperty:ht,hasOwnProp:ht,reduceDescriptors:pt,freezeMethods:t=>{pt(t,((e,r)=>{if(H(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];H(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach((t=>{r[t]=!0}))};return U(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:st,global:it,isContextDefined:at,ALPHABET:gt,generateString:(t=16,e=gt.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r},isSpecCompliantForm:function(t){return!!(t&&H(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),r=(t,n)=>{if(G(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const o=U(t)?[]:{};return ot(t,((t,e)=>{const s=r(t,n+1);!B(s)&&(o[e]=s)})),e[n]=void 0,o}}return t};return r(t,0)},isAsyncFn:wt,isThenable:t=>t&&(G(t)||H(t))&&H(t.then)&&H(t.catch),setImmediate:yt,asap:St};function Rt(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}Mt.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Mt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _t=Rt.prototype,kt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{kt[t]={value:t}})),Object.defineProperties(Rt,kt),Object.defineProperty(_t,"isAxiosError",{value:!0}),Rt.from=(t,e,r,n,o,s)=>{const i=Object.create(_t);return Mt.toFlatObject(t,i,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),Rt.call(i,t.message,e,r,n,o),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const At=Rt;function Ot(t){return Mt.isPlainObject(t)||Mt.isArray(t)}function Tt(t){return Mt.endsWith(t,"[]")?t.slice(0,-2):t}function Ct(t,e,r){return t?t.concat(e).map((function(t,e){return t=Tt(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}const Lt=Mt.toFlatObject(Mt,{},null,(function(t){return/^is[A-Z]/.test(t)})),Nt=function(t,e,r){if(!Mt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const n=(r=Mt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!Mt.isUndefined(e[t])}))).metaTokens,o=r.visitor||c,s=r.dots,i=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&Mt.isSpecCompliantForm(e);if(!Mt.isFunction(o))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(Mt.isDate(t))return t.toISOString();if(!a&&Mt.isBlob(t))throw new At("Blob is not supported. Use a Buffer instead.");return Mt.isArrayBuffer(t)||Mt.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,r,o){let a=t;if(t&&!o&&"object"==typeof t)if(Mt.endsWith(r,"{}"))r=n?r:r.slice(0,-2),t=JSON.stringify(t);else if(Mt.isArray(t)&&function(t){return Mt.isArray(t)&&!t.some(Ot)}(t)||(Mt.isFileList(t)||Mt.endsWith(r,"[]"))&&(a=Mt.toArray(t)))return r=Tt(r),a.forEach((function(t,n){!Mt.isUndefined(t)&&null!==t&&e.append(!0===i?Ct([r],n,s):null===i?r:r+"[]",u(t))})),!1;return!!Ot(t)||(e.append(Ct(o,r,s),u(t)),!1)}const l=[],h=Object.assign(Lt,{defaultVisitor:c,convertValue:u,isVisitable:Ot});if(!Mt.isObject(t))throw new TypeError("data must be an object");return function t(r,n){if(!Mt.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),Mt.forEach(r,(function(r,s){!0===(!(Mt.isUndefined(r)||null===r)&&o.call(e,r,Mt.isString(s)?s.trim():s,n,h))&&t(r,n?n.concat(s):[s])})),l.pop()}}(t),e};function It(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function jt(t,e){this._pairs=[],t&&Nt(t,this,e)}const Pt=jt.prototype;Pt.append=function(t,e){this._pairs.push([t,e])},Pt.toString=function(t){const e=t?function(e){return t.call(this,e,It)}:It;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Ft=jt;function Dt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zt(t,e,r){if(!e)return t;const n=r&&r.encode||Dt,o=r&&r.serialize;let s;if(s=o?o(e,r):Mt.isURLSearchParams(e)?e.toString():new Ft(e,r).toString(n),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const qt=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Mt.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},Ut={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Ft,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Vt="undefined"!=typeof window&&"undefined"!=typeof document,$t=(Ht="undefined"!=typeof navigator&&navigator.product,Vt&&["ReactNative","NativeScript","NS"].indexOf(Ht)<0);var Ht;const Wt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Gt=Vt&&window.location.href||"http://localhost",Kt={...t,...Bt},Jt=function(t){function e(t,r,n,o){let s=t[o++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),a=o>=t.length;return s=!s&&Mt.isArray(n)?n.length:s,a?(Mt.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!i):(n[s]&&Mt.isObject(n[s])||(n[s]=[]),e(t,r,n[s],o)&&Mt.isArray(n[s])&&(n[s]=function(t){const e={},r=Object.keys(t);let n;const o=r.length;let s;for(n=0;n<o;n++)s=r[n],e[s]=t[s];return e}(n[s])),!i)}if(Mt.isFormData(t)&&Mt.isFunction(t.entries)){const r={};return Mt.forEachEntry(t,((t,n)=>{e(function(t){return Mt.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),n,r,0)})),r}return null},Yt={transitional:Ut,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,o=Mt.isObject(t);if(o&&Mt.isHTMLForm(t)&&(t=new FormData(t)),Mt.isFormData(t))return n?JSON.stringify(Jt(t)):t;if(Mt.isArrayBuffer(t)||Mt.isBuffer(t)||Mt.isStream(t)||Mt.isFile(t)||Mt.isBlob(t)||Mt.isReadableStream(t))return t;if(Mt.isArrayBufferView(t))return t.buffer;if(Mt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Nt(t,new Kt.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,n){return Kt.isNode&&Mt.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=Mt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Nt(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||n?(e.setContentType("application/json",!1),function(t){if(Mt.isString(t))try{return(0,JSON.parse)(t),Mt.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||Yt.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(Mt.isResponse(t)||Mt.isReadableStream(t))return t;if(t&&Mt.isString(t)&&(r&&!this.responseType||n)){const r=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw At.from(t,At.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Mt.forEach(["delete","get","head","post","put","patch"],(t=>{Yt.headers[t]={}}));const Qt=Yt,Xt=Mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zt=Symbol("internals");function te(t){return t&&String(t).trim().toLowerCase()}function ee(t){return!1===t||null==t?t:Mt.isArray(t)?t.map(ee):String(t)}function re(t,e,r,n,o){return Mt.isFunction(n)?n.call(this,e,r):(o&&(e=r),Mt.isString(e)?Mt.isString(n)?-1!==e.indexOf(n):Mt.isRegExp(n)?n.test(e):void 0:void 0)}class ne{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function o(t,e,r){const o=te(e);if(!o)throw new Error("header name must be a non-empty string");const s=Mt.findKey(n,o);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||e]=ee(t))}const s=(t,e)=>Mt.forEach(t,((t,r)=>o(t,r,e)));if(Mt.isPlainObject(t)||t instanceof this.constructor)s(t,e);else if(Mt.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))s((t=>{const e={};let r,n,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),r=t.substring(0,o).trim().toLowerCase(),n=t.substring(o+1).trim(),!r||e[r]&&Xt[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e})(t),e);else if(Mt.isHeaders(t))for(const[e,n]of t.entries())o(n,e,r);else null!=t&&o(e,t,r);return this}get(t,e){if(t=te(t)){const r=Mt.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(Mt.isFunction(e))return e.call(this,t,r);if(Mt.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=te(t)){const r=Mt.findKey(this,t);return!(!r||void 0===this[r]||e&&!re(0,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function o(t){if(t=te(t)){const o=Mt.findKey(r,t);!o||e&&!re(0,r[o],o,e)||(delete r[o],n=!0)}}return Mt.isArray(t)?t.forEach(o):o(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;for(;r--;){const o=e[r];t&&!re(0,this[o],o,t,!0)||(delete this[o],n=!0)}return n}normalize(t){const e=this,r={};return Mt.forEach(this,((n,o)=>{const s=Mt.findKey(r,o);if(s)return e[s]=ee(n),void delete e[o];const i=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}(o):String(o).trim();i!==o&&delete e[o],e[i]=ee(n),r[i]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Mt.forEach(this,((r,n)=>{null!=r&&!1!==r&&(e[n]=t&&Mt.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=(this[Zt]=this[Zt]={accessors:{}}).accessors,r=this.prototype;function n(t){const n=te(t);e[n]||(function(t,e){const r=Mt.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+r,{value:function(t,r,o){return this[n].call(this,e,t,r,o)},configurable:!0})}))}(r,t),e[n]=!0)}return Mt.isArray(t)?t.forEach(n):n(t),this}}ne.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Mt.reduceDescriptors(ne.prototype,(({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}})),Mt.freezeMethods(ne);const oe=ne;function se(t,e){const r=this||Qt,n=e||r,o=oe.from(n.headers);let s=n.data;return Mt.forEach(t,(function(t){s=t.call(r,s,o.normalize(),e?e.status:void 0)})),o.normalize(),s}function ie(t){return!(!t||!t.__CANCEL__)}function ae(t,e,r){At.call(this,null==t?"canceled":t,At.ERR_CANCELED,e,r),this.name="CanceledError"}Mt.inherits(ae,At,{__CANCEL__:!0});const ue=ae;function ce(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new At("Request failed with status code "+r.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}const le=(t,e,r=3)=>{let n=0;const o=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o,s=0,i=0;return e=void 0!==e?e:1e3,function(a){const u=Date.now(),c=n[i];o||(o=u),r[s]=a,n[s]=u;let l=i,h=0;for(;l!==s;)h+=r[l++],l%=t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const f=c&&u-c;return f?Math.round(1e3*h/f):void 0}}(50,250);return function(t,e){let r,n,o=0,s=1e3/e;const i=(e,s=Date.now())=>{o=s,r=null,n&&(clearTimeout(n),n=null),t.apply(null,e)};return[(...t)=>{const e=Date.now(),a=e-o;a>=s?i(t,e):(r=t,n||(n=setTimeout((()=>{n=null,i(r)}),s-a)))},()=>r&&i(r)]}((r=>{const s=r.loaded,i=r.lengthComputable?r.total:void 0,a=s-n,u=o(a);n=s,t({loaded:s,total:i,progress:i?s/i:void 0,bytes:a,rate:u||void 0,estimated:u&&i&&s<=i?(i-s)/u:void 0,event:r,lengthComputable:null!=i,[e?"download":"upload"]:!0})}),r)},he=(t,e)=>{const r=null!=t;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},fe=t=>(...e)=>Mt.asap((()=>t(...e))),pe=Kt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function n(r){let n=r;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return r=n(window.location.href),function(t){const e=Mt.isString(t)?n(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return!0},de=Kt.hasStandardBrowserEnv?{write(t,e,r,n,o,s){const i=[t+"="+encodeURIComponent(e)];Mt.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Mt.isString(n)&&i.push("path="+n),Mt.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function me(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const ge=t=>t instanceof oe?{...t}:t;function we(t,e){e=e||{};const r={};function n(t,e,r){return Mt.isPlainObject(t)&&Mt.isPlainObject(e)?Mt.merge.call({caseless:r},t,e):Mt.isPlainObject(e)?Mt.merge({},e):Mt.isArray(e)?e.slice():e}function o(t,e,r){return Mt.isUndefined(e)?Mt.isUndefined(t)?void 0:n(void 0,t,r):n(t,e,r)}function s(t,e){if(!Mt.isUndefined(e))return n(void 0,e)}function i(t,e){return Mt.isUndefined(e)?Mt.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,o,s){return s in e?n(r,o):s in t?n(void 0,r):void 0}const u={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(t,e)=>o(ge(t),ge(e),!0)};return Mt.forEach(Object.keys(Object.assign({},t,e)),(function(n){const s=u[n]||o,i=s(t[n],e[n],n);Mt.isUndefined(i)&&s!==a||(r[n]=i)})),r}const ye=t=>{const e=we({},t);let r,{data:n,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:u}=e;if(e.headers=a=oe.from(a),e.url=zt(me(e.baseURL,e.url),t.params,t.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Mt.isFormData(n))if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[t,...e]=r?r.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(Kt.hasStandardBrowserEnv&&(o&&Mt.isFunction(o)&&(o=o(e)),o||!1!==o&&pe(e.url))){const t=s&&i&&de.read(i);t&&a.set(s,t)}return e},be="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,r){const n=ye(t);let o=n.data;const s=oe.from(n.headers).normalize();let i,a,u,c,l,{responseType:h,onUploadProgress:f,onDownloadProgress:p}=n;function d(){c&&c(),l&&l(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const n=oe.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());ce((function(t){e(t),d()}),(function(t){r(t),d()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:t,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(r(new At("Request aborted",At.ECONNABORTED,t,m)),m=null)},m.onerror=function(){r(new At("Network Error",At.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const o=n.transitional||Ut;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new At(e,o.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,t,m)),m=null},void 0===o&&s.setContentType(null),"setRequestHeader"in m&&Mt.forEach(s.toJSON(),(function(t,e){m.setRequestHeader(e,t)})),Mt.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),h&&"json"!==h&&(m.responseType=n.responseType),p&&([u,l]=le(p,!0),m.addEventListener("progress",u)),f&&m.upload&&([a,c]=le(f),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=e=>{m&&(r(!e||e.type?new ue(null,t,m):e),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const w=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(n.url);w&&-1===Kt.protocols.indexOf(w)?r(new At("Unsupported protocol "+w+":",At.ERR_BAD_REQUEST,t)):m.send(o||null)}))},ve=(t,e)=>{let r,n=new AbortController;const o=function(t){if(!r){r=!0,i();const e=t instanceof Error?t:this.reason;n.abort(e instanceof At?e:new ue(e instanceof Error?e.message:e))}};let s=e&&setTimeout((()=>{o(new At(`timeout ${e} of ms exceeded`,At.ETIMEDOUT))}),e);const i=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach((t=>{t&&(t.removeEventListener?t.removeEventListener("abort",o):t.unsubscribe(o))})),t=null)};t.forEach((t=>t&&t.addEventListener&&t.addEventListener("abort",o)));const{signal:a}=n;return a.unsubscribe=i,[a,()=>{s&&clearTimeout(s),s=null}]},xe=function*(t,e){let r=t.byteLength;if(!e||r<e)return void(yield t);let n,o=0;for(;o<r;)n=o+e,yield t.slice(o,n),o=n},Ee=(t,e,r,n,o)=>{const s=async function*(t,e,r){for await(const n of t)yield*xe(ArrayBuffer.isView(n)?n:await r(String(n)),e)}(t,e,o);let i,a=0,u=t=>{i||(i=!0,n&&n(t))};return new ReadableStream({async pull(t){try{const{done:e,value:n}=await s.next();if(e)return u(),void t.close();let o=n.byteLength;if(r){let t=a+=o;r(t)}t.enqueue(new Uint8Array(n))}catch(t){throw u(t),t}},cancel:t=>(u(t),s.return())},{highWaterMark:2})},Se="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Me=Se&&"function"==typeof ReadableStream,Re=Se&&("function"==typeof TextEncoder?(_e=new TextEncoder,t=>_e.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var _e;const ke=(t,...e)=>{try{return!!t(...e)}catch(t){return!1}},Ae=Me&&ke((()=>{let t=!1;const e=new Request(Kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),Oe=Me&&ke((()=>Mt.isReadableStream(new Response("").body))),Te={stream:Oe&&(t=>t.body)};var Ce;Se&&(Ce=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!Te[t]&&(Te[t]=Mt.isFunction(Ce[t])?e=>e[t]():(e,r)=>{throw new At(`Response type '${t}' is not supported`,At.ERR_NOT_SUPPORT,r)})})));const Le=Se&&(async t=>{let{url:e,method:r,data:n,signal:o,cancelToken:s,timeout:i,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:l,withCredentials:h="same-origin",fetchOptions:f}=ye(t);c=c?(c+"").toLowerCase():"text";let p,d,[m,g]=o||s||i?ve([o,s],i):[];const w=()=>{!p&&setTimeout((()=>{m&&m.unsubscribe()})),p=!0};let y;try{if(u&&Ae&&"get"!==r&&"head"!==r&&0!==(y=await(async(t,e)=>{const r=Mt.toFiniteNumber(t.getContentLength());return null==r?(async t=>null==t?0:Mt.isBlob(t)?t.size:Mt.isSpecCompliantForm(t)?(await new Request(t).arrayBuffer()).byteLength:Mt.isArrayBufferView(t)||Mt.isArrayBuffer(t)?t.byteLength:(Mt.isURLSearchParams(t)&&(t+=""),Mt.isString(t)?(await Re(t)).byteLength:void 0))(e):r})(l,n))){let t,r=new Request(e,{method:"POST",body:n,duplex:"half"});if(Mt.isFormData(n)&&(t=r.headers.get("content-type"))&&l.setContentType(t),r.body){const[t,e]=he(y,le(fe(u)));n=Ee(r.body,65536,t,e,Re)}}Mt.isString(h)||(h=h?"include":"omit"),d=new Request(e,{...f,signal:m,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:h});let o=await fetch(d);const s=Oe&&("stream"===c||"response"===c);if(Oe&&(a||s)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=o[e]}));const e=Mt.toFiniteNumber(o.headers.get("content-length")),[r,n]=a&&he(e,le(fe(a),!0))||[];o=new Response(Ee(o.body,65536,r,(()=>{n&&n(),s&&w()}),Re),t)}c=c||"text";let i=await Te[Mt.findKey(Te,c)||"text"](o,t);return!s&&w(),g&&g(),await new Promise(((e,r)=>{ce(e,r,{data:i,headers:oe.from(o.headers),status:o.status,statusText:o.statusText,config:t,request:d})}))}catch(e){if(w(),e&&"TypeError"===e.name&&/fetch/i.test(e.message))throw Object.assign(new At("Network Error",At.ERR_NETWORK,t,d),{cause:e.cause||e});throw At.from(e,e&&e.code,t,d)}}),Ne={http:null,xhr:be,fetch:Le};Mt.forEach(Ne,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const Ie=t=>`- ${t}`,je=t=>Mt.isFunction(t)||null===t||!1===t,Pe=t=>{t=Mt.isArray(t)?t:[t];const{length:e}=t;let r,n;const o={};for(let s=0;s<e;s++){let e;if(r=t[s],n=r,!je(r)&&(n=Ne[(e=String(r)).toLowerCase()],void 0===n))throw new At(`Unknown adapter '${e}'`);if(n)break;o[e||"#"+s]=n}if(!n){const t=Object.entries(o).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let r=e?t.length>1?"since :\n"+t.map(Ie).join("\n"):" "+Ie(t[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function Fe(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ue(null,t)}function De(t){return Fe(t),t.headers=oe.from(t.headers),t.data=se.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Pe(t.adapter||Qt.adapter)(t).then((function(e){return Fe(t),e.data=se.call(t,t.transformResponse,e),e.headers=oe.from(e.headers),e}),(function(e){return ie(e)||(Fe(t),e&&e.response&&(e.response.data=se.call(t,t.transformResponse,e.response),e.response.headers=oe.from(e.response.headers))),Promise.reject(e)}))}const ze={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{ze[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const qe={};ze.transitional=function(t,e,r){function n(t,e){return"[Axios v1.7.3] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,o,s)=>{if(!1===t)throw new At(n(o," has been removed"+(e?" in "+e:"")),At.ERR_DEPRECATED);return e&&!qe[o]&&(qe[o]=!0,console.warn(n(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,o,s)}};const Ue={assertOptions:function(t,e,r){if("object"!=typeof t)throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const s=n[o],i=e[s];if(i){const e=t[s],r=void 0===e||i(e,s,t);if(!0!==r)throw new At("option "+s+" must be "+r,At.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new At("Unknown option "+s,At.ERR_BAD_OPTION)}},validators:ze},Be=Ue.validators;class Ve{constructor(t){this.defaults=t,this.interceptors={request:new qt,response:new qt}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const r=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?r&&!String(t.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+r):t.stack=r}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=we(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:o}=e;void 0!==r&&Ue.assertOptions(r,{silentJSONParsing:Be.transitional(Be.boolean),forcedJSONParsing:Be.transitional(Be.boolean),clarifyTimeoutError:Be.transitional(Be.boolean)},!1),null!=n&&(Mt.isFunction(n)?e.paramsSerializer={serialize:n}:Ue.assertOptions(n,{encode:Be.function,serialize:Be.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=o&&Mt.merge(o.common,o[e.method]);o&&Mt.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete o[t]})),e.headers=oe.concat(s,o);const i=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,i.unshift(t.fulfilled,t.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let l,h=0;if(!a){const t=[De.bind(this),void 0];for(t.unshift.apply(t,i),t.push.apply(t,u),l=t.length,c=Promise.resolve(e);h<l;)c=c.then(t[h++],t[h++]);return c}l=i.length;let f=e;for(h=0;h<l;){const t=i[h++],e=i[h++];try{f=t(f)}catch(t){e.call(this,t);break}}try{c=De.call(this,f)}catch(t){return Promise.reject(t)}for(h=0,l=u.length;h<l;)c=c.then(u[h++],u[h++]);return c}getUri(t){return zt(me((t=we(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}Mt.forEach(["delete","get","head","options"],(function(t){Ve.prototype[t]=function(e,r){return this.request(we(r||{},{method:t,url:e,data:(r||{}).data}))}})),Mt.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,o){return this.request(we(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Ve.prototype[t]=e(),Ve.prototype[t+"Form"]=e(!0)}));const $e=Ve;class He{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,o){r.reason||(r.reason=new ue(t,n,o),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new He((function(e){t=e})),cancel:t}}}const We=He,Ge={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ge).forEach((([t,e])=>{Ge[e]=t}));const Ke=Ge,Je=function t(e){const r=new $e(e),n=I($e.prototype.request,r);return Mt.extend(n,$e.prototype,r,{allOwnKeys:!0}),Mt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return t(we(e,r))},n}(Qt);Je.Axios=$e,Je.CanceledError=ue,Je.CancelToken=We,Je.isCancel=ie,Je.VERSION="1.7.3",Je.toFormData=Nt,Je.AxiosError=At,Je.Cancel=Je.CanceledError,Je.all=function(t){return Promise.all(t)},Je.spread=function(t){return function(e){return t.apply(null,e)}},Je.isAxiosError=function(t){return Mt.isObject(t)&&!0===t.isAxiosError},Je.mergeConfig=we,Je.AxiosHeaders=oe,Je.formToJSON=t=>Jt(Mt.isHTMLForm(t)?new FormData(t):t),Je.getAdapter=Pe,Je.HttpStatusCode=Ke,Je.default=Je;const Ye=Je;function Qe(t){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function Xe(){Xe=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var s=e&&e.prototype instanceof w?e:w,i=Object.create(s.prototype),a=new T(n||[]);return o(i,"_invoke",{value:_(t,r,a)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",d="executing",m="completed",g={};function w(){}function y(){}function b(){}var v={};c(v,i,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(C([])));E&&E!==r&&n.call(E,i)&&(v=E);var S=b.prototype=w.prototype=Object.create(v);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function R(t,e){function r(o,s,i,a){var u=h(t[o],t,s);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==Qe(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,a)}),(function(t){r("throw",t,i,a)})):e.resolve(l).then((function(t){c.value=t,i(c)}),(function(t){return r("throw",t,i,a)}))}a(u.arg)}var s;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return s=s?s.then(o,o):o()}})}function _(e,r,n){var o=f;return function(s,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===s)throw i;return{value:t,done:!0}}for(n.method=s,n.arg=i;;){var a=n.delegate;if(a){var u=k(a,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var c=h(e,r,n);if("normal"===c.type){if(o=n.done?m:p,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function k(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var s=h(o,e.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,g;var i=s.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw new TypeError(Qe(e)+" is not iterable")}return y.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},M(R.prototype),c(R.prototype,a,(function(){return this})),e.AsyncIterator=R,e.async=function(t,r,n,o,s){void 0===s&&(s=Promise);var i=new R(l(t,r,n,o),s);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},M(S),c(S,u,"Generator"),c(S,i,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=t,i.arg=e,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function Ze(t){return function(t){if(Array.isArray(t))return tr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function er(t,e,r,n,o,s,i){try{var a=t[s](i),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function rr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var s=t.apply(e,r);function i(t){er(s,n,o,i,a,"next",t)}function a(t){er(s,n,o,i,a,"throw",t)}i(void 0)}))}}var nr=function(){var t=rr(Xe().mark((function t(){var e,r,n,o,s,i,a,u,c;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(t,e,r,n,o){for(var s,i,a=!1;!a;){s=t+(Math.random()-.5)*r,i=e+(Math.random()-.5)*r;var u="".concat(s.toFixed(2),"-").concat(i.toFixed(2));o.has(u)||(o.set(u,n),a=!0)}return{x:s,y:i}},r=function(t,e,r,n,o){return n+(t-e)/(r-e)*(o-n)},n=function(t){var n=[],o=b(t.map((function(t){return t.features})),7),s=o.clusters,i=o.centroids,a=i.map((function(t){return t[0]})),u=i.map((function(t){return t[1]})),c=Math.min.apply(Math,Ze(a)),l=Math.max.apply(Math,Ze(a)),h=Math.min.apply(Math,Ze(u)),f=Math.max.apply(Math,Ze(u)),p=window.innerWidth,d=window.innerHeight,m=400,g=new Map,w=t.sort((function(t,e){return e.spotifyStreams-t.spotifyStreams}))[0].spotifyStreams;return t.forEach((function(t,o){var a=s[o],u=t.spotifyStreams,y=t.id,b=t.track,v=t.artist,x=t.releaseDate,E=t.albumName,S=t.amazonPlaylistCount,M=t.deezerPlaylistCount,R=t.spotifyPlaylistCount,_=(u/w).toFixed(3),k=r(i[a][0],c,l,m,p-m),A=r(i[a][1],h,f,m,d-m),O=Math.max(2,10*_),T=e(k,A,700,a,g),C=T.x,L=T.y;n.push({id:y.toString(),label:b,size:O,color:"#00f",artist:v,releaseDate:x,spotifyStreams:u,albumName:E,amazonPlaylistCount:S,deezerPlaylistCount:M,spotifyPlaylistCount:R,coordinates:{x:C,y:L}})})),n},o=function(t,e){return t.reduce((function(t,r,n){return t+r*e[n]}),0)/(Math.sqrt(t.reduce((function(t,e){return t+e*e}),0))*Math.sqrt(e.reduce((function(t,e){return t+e*e}),0)))},s=function(t){for(var e=[],r=0;r<t.length;r++)for(var n=r+1;n<t.length;n++){var s=t[r].features,i=t[n].features,a=o(s,i);a>.99999999&&e.push({source:t[r].id.toString(),target:t[n].id.toString(),value:a,color:"rgba(0, 0, 0, ".concat(a,")")})}return e},i=function(){var t=rr(Xe().mark((function t(){var e,r,o;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:return e=t.sent,r=n(e),o=s(e),t.abrupt("return",{nodes:r,links:o});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=8,i();case 8:a=t.sent,N(a),u="grant_type=client_credentials&client_id=".concat("97d4ba735a344d57a552dc3b58046f27","&client_secret=").concat("041fcf2d40334fda98de236ec5af0bfd"),c={headers:{"Content-Type":"application/x-www-form-urlencoded"}},Ye.post("https://accounts.spotify.com/api/token",u,c).then((function(t){t.data.access_token&&localStorage.setItem("access_token",t.data.access_token),console.log(localStorage.getItem("access_token"))})).catch((function(t){console.error("Error fetching token:",t)}));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();nr()})()})();